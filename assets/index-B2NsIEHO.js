(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var an=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var PS={exports:{}},Oa={},LS={exports:{}},ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Io=Symbol.for("react.element"),Ak=Symbol.for("react.portal"),jk=Symbol.for("react.fragment"),Pk=Symbol.for("react.strict_mode"),Lk=Symbol.for("react.profiler"),Ok=Symbol.for("react.provider"),qk=Symbol.for("react.context"),Dk=Symbol.for("react.forward_ref"),$k=Symbol.for("react.suspense"),zk=Symbol.for("react.memo"),Fk=Symbol.for("react.lazy"),uv=Symbol.iterator;function Hk(e){return e===null||typeof e!="object"?null:(e=uv&&e[uv]||e["@@iterator"],typeof e=="function"?e:null)}var OS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qS=Object.assign,DS={};function hi(e,t,n){this.props=e,this.context=t,this.refs=DS,this.updater=n||OS}hi.prototype.isReactComponent={};hi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};hi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function $S(){}$S.prototype=hi.prototype;function Eg(e,t,n){this.props=e,this.context=t,this.refs=DS,this.updater=n||OS}var Cg=Eg.prototype=new $S;Cg.constructor=Eg;qS(Cg,hi.prototype);Cg.isPureReactComponent=!0;var lv=Array.isArray,zS=Object.prototype.hasOwnProperty,Ng={current:null},FS={key:!0,ref:!0,__self:!0,__source:!0};function HS(e,t,n){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)zS.call(t,r)&&!FS.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+2];i.children=u}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Io,type:e,key:o,ref:s,props:i,_owner:Ng.current}}function Bk(e,t){return{$$typeof:Io,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function kg(e){return typeof e=="object"&&e!==null&&e.$$typeof===Io}function Vk(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var cv=/\/+/g;function qu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Vk(""+e.key):t.toString(36)}function Ps(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Io:case Ak:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+qu(s,0):r,lv(i)?(n="",e!=null&&(n=e.replace(cv,"$&/")+"/"),Ps(i,t,n,"",function(l){return l})):i!=null&&(kg(i)&&(i=Bk(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(cv,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",lv(e))for(var a=0;a<e.length;a++){o=e[a];var u=r+qu(o,a);s+=Ps(o,t,n,u,i)}else if(u=Hk(e),typeof u=="function")for(e=u.call(e),a=0;!(o=e.next()).done;)o=o.value,u=r+qu(o,a++),s+=Ps(o,t,n,u,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function os(e,t,n){if(e==null)return e;var r=[],i=0;return Ps(e,r,"","",function(o){return t.call(n,o,i++)}),r}function Uk(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var et={current:null},Ls={transition:null},Gk={ReactCurrentDispatcher:et,ReactCurrentBatchConfig:Ls,ReactCurrentOwner:Ng};function BS(){throw Error("act(...) is not supported in production builds of React.")}ge.Children={map:os,forEach:function(e,t,n){os(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return os(e,function(){t++}),t},toArray:function(e){return os(e,function(t){return t})||[]},only:function(e){if(!kg(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ge.Component=hi;ge.Fragment=jk;ge.Profiler=Lk;ge.PureComponent=Eg;ge.StrictMode=Pk;ge.Suspense=$k;ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gk;ge.act=BS;ge.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=qS({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=Ng.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(u in t)zS.call(t,u)&&!FS.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&a!==void 0?a[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var l=0;l<u;l++)a[l]=arguments[l+2];r.children=a}return{$$typeof:Io,type:e.type,key:i,ref:o,props:r,_owner:s}};ge.createContext=function(e){return e={$$typeof:qk,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Ok,_context:e},e.Consumer=e};ge.createElement=HS;ge.createFactory=function(e){var t=HS.bind(null,e);return t.type=e,t};ge.createRef=function(){return{current:null}};ge.forwardRef=function(e){return{$$typeof:Dk,render:e}};ge.isValidElement=kg;ge.lazy=function(e){return{$$typeof:Fk,_payload:{_status:-1,_result:e},_init:Uk}};ge.memo=function(e,t){return{$$typeof:zk,type:e,compare:t===void 0?null:t}};ge.startTransition=function(e){var t=Ls.transition;Ls.transition={};try{e()}finally{Ls.transition=t}};ge.unstable_act=BS;ge.useCallback=function(e,t){return et.current.useCallback(e,t)};ge.useContext=function(e){return et.current.useContext(e)};ge.useDebugValue=function(){};ge.useDeferredValue=function(e){return et.current.useDeferredValue(e)};ge.useEffect=function(e,t){return et.current.useEffect(e,t)};ge.useId=function(){return et.current.useId()};ge.useImperativeHandle=function(e,t,n){return et.current.useImperativeHandle(e,t,n)};ge.useInsertionEffect=function(e,t){return et.current.useInsertionEffect(e,t)};ge.useLayoutEffect=function(e,t){return et.current.useLayoutEffect(e,t)};ge.useMemo=function(e,t){return et.current.useMemo(e,t)};ge.useReducer=function(e,t,n){return et.current.useReducer(e,t,n)};ge.useRef=function(e){return et.current.useRef(e)};ge.useState=function(e){return et.current.useState(e)};ge.useSyncExternalStore=function(e,t,n){return et.current.useSyncExternalStore(e,t,n)};ge.useTransition=function(){return et.current.useTransition()};ge.version="18.3.1";LS.exports=ge;var q=LS.exports;const VS=bg(q);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wk=q,Yk=Symbol.for("react.element"),Kk=Symbol.for("react.fragment"),Xk=Object.prototype.hasOwnProperty,Qk=Wk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Zk={key:!0,ref:!0,__self:!0,__source:!0};function US(e,t,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)Xk.call(t,r)&&!Zk.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Yk,type:e,key:o,ref:s,props:i,_owner:Qk.current}}Oa.Fragment=Kk;Oa.jsx=US;Oa.jsxs=US;PS.exports=Oa;var g=PS.exports,hp={},GS={exports:{}},vt={},WS={exports:{}},YS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(N,I){var P=N.length;N.push(I);e:for(;0<P;){var F=P-1>>>1,H=N[F];if(0<i(H,I))N[F]=I,N[P]=H,P=F;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var I=N[0],P=N.pop();if(P!==I){N[0]=P;e:for(var F=0,H=N.length,W=H>>>1;F<W;){var G=2*(F+1)-1,ne=N[G],te=G+1,re=N[te];if(0>i(ne,P))te<H&&0>i(re,ne)?(N[F]=re,N[te]=P,F=te):(N[F]=ne,N[G]=P,F=G);else if(te<H&&0>i(re,P))N[F]=re,N[te]=P,F=te;else break e}}return I}function i(N,I){var P=N.sortIndex-I.sortIndex;return P!==0?P:N.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var u=[],l=[],c=1,f=null,d=3,p=!1,h=!1,x=!1,w=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(N){for(var I=n(l);I!==null;){if(I.callback===null)r(l);else if(I.startTime<=N)r(l),I.sortIndex=I.expirationTime,t(u,I);else break;I=n(l)}}function _(N){if(x=!1,v(N),!h)if(n(u)!==null)h=!0,A(E);else{var I=n(l);I!==null&&D(_,I.startTime-N)}}function E(N,I){h=!1,x&&(x=!1,m(k),k=-1),p=!0;var P=d;try{for(v(I),f=n(u);f!==null&&(!(f.expirationTime>I)||N&&!R());){var F=f.callback;if(typeof F=="function"){f.callback=null,d=f.priorityLevel;var H=F(f.expirationTime<=I);I=e.unstable_now(),typeof H=="function"?f.callback=H:f===n(u)&&r(u),v(I)}else r(u);f=n(u)}if(f!==null)var W=!0;else{var G=n(l);G!==null&&D(_,G.startTime-I),W=!1}return W}finally{f=null,d=P,p=!1}}var S=!1,b=null,k=-1,T=5,O=-1;function R(){return!(e.unstable_now()-O<T)}function j(){if(b!==null){var N=e.unstable_now();O=N;var I=!0;try{I=b(!0,N)}finally{I?$():(S=!1,b=null)}}else S=!1}var $;if(typeof y=="function")$=function(){y(j)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,L=C.port2;C.port1.onmessage=j,$=function(){L.postMessage(null)}}else $=function(){w(j,0)};function A(N){b=N,S||(S=!0,$())}function D(N,I){k=w(function(){N(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_continueExecution=function(){h||p||(h=!0,A(E))},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<N?Math.floor(1e3/N):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(N){switch(d){case 1:case 2:case 3:var I=3;break;default:I=d}var P=d;d=I;try{return N()}finally{d=P}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(N,I){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var P=d;d=N;try{return I()}finally{d=P}},e.unstable_scheduleCallback=function(N,I,P){var F=e.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?F+P:F):P=F,N){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=P+H,N={id:c++,callback:I,priorityLevel:N,startTime:P,expirationTime:H,sortIndex:-1},P>F?(N.sortIndex=P,t(l,N),n(u)===null&&N===n(l)&&(x?(m(k),k=-1):x=!0,D(_,P-F))):(N.sortIndex=H,t(u,N),h||p||(h=!0,A(E))),N},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(N){var I=d;return function(){var P=d;d=I;try{return N.apply(this,arguments)}finally{d=P}}}})(YS);WS.exports=YS;var Jk=WS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eI=q,gt=Jk;function V(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var KS=new Set,to={};function _r(e,t){Qr(e,t),Qr(e+"Capture",t)}function Qr(e,t){for(to[e]=t,e=0;e<t.length;e++)KS.add(t[e])}var pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pp=Object.prototype.hasOwnProperty,tI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fv={},dv={};function nI(e){return pp.call(dv,e)?!0:pp.call(fv,e)?!1:tI.test(e)?dv[e]=!0:(fv[e]=!0,!1)}function rI(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function iI(e,t,n,r){if(t===null||typeof t>"u"||rI(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function tt(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var Ue={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ue[e]=new tt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ue[t]=new tt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ue[e]=new tt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ue[e]=new tt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ue[e]=new tt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ue[e]=new tt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ue[e]=new tt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ue[e]=new tt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ue[e]=new tt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ig=/[\-:]([a-z])/g;function Rg(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ig,Rg);Ue[t]=new tt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ig,Rg);Ue[t]=new tt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ig,Rg);Ue[t]=new tt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ue[e]=new tt(e,1,!1,e.toLowerCase(),null,!1,!1)});Ue.xlinkHref=new tt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ue[e]=new tt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Tg(e,t,n,r){var i=Ue.hasOwnProperty(t)?Ue[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(iI(t,n,i,r)&&(n=null),r||i===null?nI(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var _n=eI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ss=Symbol.for("react.element"),Rr=Symbol.for("react.portal"),Tr=Symbol.for("react.fragment"),Mg=Symbol.for("react.strict_mode"),gp=Symbol.for("react.profiler"),XS=Symbol.for("react.provider"),QS=Symbol.for("react.context"),Ag=Symbol.for("react.forward_ref"),mp=Symbol.for("react.suspense"),vp=Symbol.for("react.suspense_list"),jg=Symbol.for("react.memo"),In=Symbol.for("react.lazy"),ZS=Symbol.for("react.offscreen"),hv=Symbol.iterator;function Si(e){return e===null||typeof e!="object"?null:(e=hv&&e[hv]||e["@@iterator"],typeof e=="function"?e:null)}var Te=Object.assign,Du;function Ai(e){if(Du===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Du=t&&t[1]||""}return`
`+Du+e}var $u=!1;function zu(e,t){if(!e||$u)return"";$u=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var u=`
`+i[s].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=s&&0<=a);break}}}finally{$u=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ai(e):""}function oI(e){switch(e.tag){case 5:return Ai(e.type);case 16:return Ai("Lazy");case 13:return Ai("Suspense");case 19:return Ai("SuspenseList");case 0:case 2:case 15:return e=zu(e.type,!1),e;case 11:return e=zu(e.type.render,!1),e;case 1:return e=zu(e.type,!0),e;default:return""}}function yp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Tr:return"Fragment";case Rr:return"Portal";case gp:return"Profiler";case Mg:return"StrictMode";case mp:return"Suspense";case vp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case QS:return(e.displayName||"Context")+".Consumer";case XS:return(e._context.displayName||"Context")+".Provider";case Ag:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case jg:return t=e.displayName||null,t!==null?t:yp(e.type)||"Memo";case In:t=e._payload,e=e._init;try{return yp(e(t))}catch{}}return null}function sI(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return yp(t);case 8:return t===Mg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Gn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function JS(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function aI(e){var t=JS(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function as(e){e._valueTracker||(e._valueTracker=aI(e))}function eb(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=JS(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Qs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function xp(e,t){var n=t.checked;return Te({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function pv(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Gn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function tb(e,t){t=t.checked,t!=null&&Tg(e,"checked",t,!1)}function _p(e,t){tb(e,t);var n=Gn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?wp(e,t.type,n):t.hasOwnProperty("defaultValue")&&wp(e,t.type,Gn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function gv(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function wp(e,t,n){(t!=="number"||Qs(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ji=Array.isArray;function Br(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Gn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Sp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(V(91));return Te({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function mv(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(V(92));if(ji(n)){if(1<n.length)throw Error(V(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Gn(n)}}function nb(e,t){var n=Gn(t.value),r=Gn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function vv(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function rb(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?rb(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var us,ib=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(us=us||document.createElement("div"),us.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=us.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function no(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Vi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},uI=["Webkit","ms","Moz","O"];Object.keys(Vi).forEach(function(e){uI.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Vi[t]=Vi[e]})});function ob(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Vi.hasOwnProperty(e)&&Vi[e]?(""+t).trim():t+"px"}function sb(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=ob(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var lI=Te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ep(e,t){if(t){if(lI[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(V(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(V(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(V(61))}if(t.style!=null&&typeof t.style!="object")throw Error(V(62))}}function Cp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Np=null;function Pg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var kp=null,Vr=null,Ur=null;function yv(e){if(e=Mo(e)){if(typeof kp!="function")throw Error(V(280));var t=e.stateNode;t&&(t=Fa(t),kp(e.stateNode,e.type,t))}}function ab(e){Vr?Ur?Ur.push(e):Ur=[e]:Vr=e}function ub(){if(Vr){var e=Vr,t=Ur;if(Ur=Vr=null,yv(e),t)for(e=0;e<t.length;e++)yv(t[e])}}function lb(e,t){return e(t)}function cb(){}var Fu=!1;function fb(e,t,n){if(Fu)return e(t,n);Fu=!0;try{return lb(e,t,n)}finally{Fu=!1,(Vr!==null||Ur!==null)&&(cb(),ub())}}function ro(e,t){var n=e.stateNode;if(n===null)return null;var r=Fa(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(V(231,t,typeof n));return n}var Ip=!1;if(pn)try{var bi={};Object.defineProperty(bi,"passive",{get:function(){Ip=!0}}),window.addEventListener("test",bi,bi),window.removeEventListener("test",bi,bi)}catch{Ip=!1}function cI(e,t,n,r,i,o,s,a,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var Ui=!1,Zs=null,Js=!1,Rp=null,fI={onError:function(e){Ui=!0,Zs=e}};function dI(e,t,n,r,i,o,s,a,u){Ui=!1,Zs=null,cI.apply(fI,arguments)}function hI(e,t,n,r,i,o,s,a,u){if(dI.apply(this,arguments),Ui){if(Ui){var l=Zs;Ui=!1,Zs=null}else throw Error(V(198));Js||(Js=!0,Rp=l)}}function wr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function db(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function xv(e){if(wr(e)!==e)throw Error(V(188))}function pI(e){var t=e.alternate;if(!t){if(t=wr(e),t===null)throw Error(V(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return xv(i),e;if(o===r)return xv(i),t;o=o.sibling}throw Error(V(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(V(189))}}if(n.alternate!==r)throw Error(V(190))}if(n.tag!==3)throw Error(V(188));return n.stateNode.current===n?e:t}function hb(e){return e=pI(e),e!==null?pb(e):null}function pb(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=pb(e);if(t!==null)return t;e=e.sibling}return null}var gb=gt.unstable_scheduleCallback,_v=gt.unstable_cancelCallback,gI=gt.unstable_shouldYield,mI=gt.unstable_requestPaint,Ae=gt.unstable_now,vI=gt.unstable_getCurrentPriorityLevel,Lg=gt.unstable_ImmediatePriority,mb=gt.unstable_UserBlockingPriority,ea=gt.unstable_NormalPriority,yI=gt.unstable_LowPriority,vb=gt.unstable_IdlePriority,qa=null,Xt=null;function xI(e){if(Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(qa,e,void 0,(e.current.flags&128)===128)}catch{}}var $t=Math.clz32?Math.clz32:SI,_I=Math.log,wI=Math.LN2;function SI(e){return e>>>=0,e===0?32:31-(_I(e)/wI|0)|0}var ls=64,cs=4194304;function Pi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ta(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Pi(a):(o&=s,o!==0&&(r=Pi(o)))}else s=n&~i,s!==0?r=Pi(s):o!==0&&(r=Pi(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-$t(t),i=1<<n,r|=e[n],t&=~i;return r}function bI(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function EI(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-$t(o),a=1<<s,u=i[s];u===-1?(!(a&n)||a&r)&&(i[s]=bI(a,t)):u<=t&&(e.expiredLanes|=a),o&=~a}}function Tp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function yb(){var e=ls;return ls<<=1,!(ls&4194240)&&(ls=64),e}function Hu(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ro(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-$t(t),e[t]=n}function CI(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-$t(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function Og(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-$t(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var xe=0;function xb(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var _b,qg,wb,Sb,bb,Mp=!1,fs=[],On=null,qn=null,Dn=null,io=new Map,oo=new Map,Tn=[],NI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wv(e,t){switch(e){case"focusin":case"focusout":On=null;break;case"dragenter":case"dragleave":qn=null;break;case"mouseover":case"mouseout":Dn=null;break;case"pointerover":case"pointerout":io.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":oo.delete(t.pointerId)}}function Ei(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=Mo(t),t!==null&&qg(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function kI(e,t,n,r,i){switch(t){case"focusin":return On=Ei(On,e,t,n,r,i),!0;case"dragenter":return qn=Ei(qn,e,t,n,r,i),!0;case"mouseover":return Dn=Ei(Dn,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return io.set(o,Ei(io.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,oo.set(o,Ei(oo.get(o)||null,e,t,n,r,i)),!0}return!1}function Eb(e){var t=nr(e.target);if(t!==null){var n=wr(t);if(n!==null){if(t=n.tag,t===13){if(t=db(n),t!==null){e.blockedOn=t,bb(e.priority,function(){wb(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Os(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ap(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Np=r,n.target.dispatchEvent(r),Np=null}else return t=Mo(n),t!==null&&qg(t),e.blockedOn=n,!1;t.shift()}return!0}function Sv(e,t,n){Os(e)&&n.delete(t)}function II(){Mp=!1,On!==null&&Os(On)&&(On=null),qn!==null&&Os(qn)&&(qn=null),Dn!==null&&Os(Dn)&&(Dn=null),io.forEach(Sv),oo.forEach(Sv)}function Ci(e,t){e.blockedOn===t&&(e.blockedOn=null,Mp||(Mp=!0,gt.unstable_scheduleCallback(gt.unstable_NormalPriority,II)))}function so(e){function t(i){return Ci(i,e)}if(0<fs.length){Ci(fs[0],e);for(var n=1;n<fs.length;n++){var r=fs[n];r.blockedOn===e&&(r.blockedOn=null)}}for(On!==null&&Ci(On,e),qn!==null&&Ci(qn,e),Dn!==null&&Ci(Dn,e),io.forEach(t),oo.forEach(t),n=0;n<Tn.length;n++)r=Tn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Tn.length&&(n=Tn[0],n.blockedOn===null);)Eb(n),n.blockedOn===null&&Tn.shift()}var Gr=_n.ReactCurrentBatchConfig,na=!0;function RI(e,t,n,r){var i=xe,o=Gr.transition;Gr.transition=null;try{xe=1,Dg(e,t,n,r)}finally{xe=i,Gr.transition=o}}function TI(e,t,n,r){var i=xe,o=Gr.transition;Gr.transition=null;try{xe=4,Dg(e,t,n,r)}finally{xe=i,Gr.transition=o}}function Dg(e,t,n,r){if(na){var i=Ap(e,t,n,r);if(i===null)Zu(e,t,r,ra,n),wv(e,r);else if(kI(i,e,t,n,r))r.stopPropagation();else if(wv(e,r),t&4&&-1<NI.indexOf(e)){for(;i!==null;){var o=Mo(i);if(o!==null&&_b(o),o=Ap(e,t,n,r),o===null&&Zu(e,t,r,ra,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Zu(e,t,r,null,n)}}var ra=null;function Ap(e,t,n,r){if(ra=null,e=Pg(r),e=nr(e),e!==null)if(t=wr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=db(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ra=e,null}function Cb(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vI()){case Lg:return 1;case mb:return 4;case ea:case yI:return 16;case vb:return 536870912;default:return 16}default:return 16}}var Pn=null,$g=null,qs=null;function Nb(){if(qs)return qs;var e,t=$g,n=t.length,r,i="value"in Pn?Pn.value:Pn.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return qs=i.slice(e,1<r?1-r:void 0)}function Ds(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ds(){return!0}function bv(){return!1}function yt(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ds:bv,this.isPropagationStopped=bv,this}return Te(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ds)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ds)},persist:function(){},isPersistent:ds}),t}var pi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zg=yt(pi),To=Te({},pi,{view:0,detail:0}),MI=yt(To),Bu,Vu,Ni,Da=Te({},To,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fg,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ni&&(Ni&&e.type==="mousemove"?(Bu=e.screenX-Ni.screenX,Vu=e.screenY-Ni.screenY):Vu=Bu=0,Ni=e),Bu)},movementY:function(e){return"movementY"in e?e.movementY:Vu}}),Ev=yt(Da),AI=Te({},Da,{dataTransfer:0}),jI=yt(AI),PI=Te({},To,{relatedTarget:0}),Uu=yt(PI),LI=Te({},pi,{animationName:0,elapsedTime:0,pseudoElement:0}),OI=yt(LI),qI=Te({},pi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),DI=yt(qI),$I=Te({},pi,{data:0}),Cv=yt($I),zI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},FI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},HI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function BI(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=HI[e])?!!t[e]:!1}function Fg(){return BI}var VI=Te({},To,{key:function(e){if(e.key){var t=zI[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ds(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?FI[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fg,charCode:function(e){return e.type==="keypress"?Ds(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ds(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),UI=yt(VI),GI=Te({},Da,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nv=yt(GI),WI=Te({},To,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fg}),YI=yt(WI),KI=Te({},pi,{propertyName:0,elapsedTime:0,pseudoElement:0}),XI=yt(KI),QI=Te({},Da,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ZI=yt(QI),JI=[9,13,27,32],Hg=pn&&"CompositionEvent"in window,Gi=null;pn&&"documentMode"in document&&(Gi=document.documentMode);var eR=pn&&"TextEvent"in window&&!Gi,kb=pn&&(!Hg||Gi&&8<Gi&&11>=Gi),kv=" ",Iv=!1;function Ib(e,t){switch(e){case"keyup":return JI.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rb(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Mr=!1;function tR(e,t){switch(e){case"compositionend":return Rb(t);case"keypress":return t.which!==32?null:(Iv=!0,kv);case"textInput":return e=t.data,e===kv&&Iv?null:e;default:return null}}function nR(e,t){if(Mr)return e==="compositionend"||!Hg&&Ib(e,t)?(e=Nb(),qs=$g=Pn=null,Mr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return kb&&t.locale!=="ko"?null:t.data;default:return null}}var rR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!rR[e.type]:t==="textarea"}function Tb(e,t,n,r){ab(r),t=ia(t,"onChange"),0<t.length&&(n=new zg("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wi=null,ao=null;function iR(e){Fb(e,0)}function $a(e){var t=Pr(e);if(eb(t))return e}function oR(e,t){if(e==="change")return t}var Mb=!1;if(pn){var Gu;if(pn){var Wu="oninput"in document;if(!Wu){var Tv=document.createElement("div");Tv.setAttribute("oninput","return;"),Wu=typeof Tv.oninput=="function"}Gu=Wu}else Gu=!1;Mb=Gu&&(!document.documentMode||9<document.documentMode)}function Mv(){Wi&&(Wi.detachEvent("onpropertychange",Ab),ao=Wi=null)}function Ab(e){if(e.propertyName==="value"&&$a(ao)){var t=[];Tb(t,ao,e,Pg(e)),fb(iR,t)}}function sR(e,t,n){e==="focusin"?(Mv(),Wi=t,ao=n,Wi.attachEvent("onpropertychange",Ab)):e==="focusout"&&Mv()}function aR(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return $a(ao)}function uR(e,t){if(e==="click")return $a(t)}function lR(e,t){if(e==="input"||e==="change")return $a(t)}function cR(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ft=typeof Object.is=="function"?Object.is:cR;function uo(e,t){if(Ft(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!pp.call(t,i)||!Ft(e[i],t[i]))return!1}return!0}function Av(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function jv(e,t){var n=Av(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Av(n)}}function jb(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?jb(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Pb(){for(var e=window,t=Qs();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Qs(e.document)}return t}function Bg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function fR(e){var t=Pb(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&jb(n.ownerDocument.documentElement,n)){if(r!==null&&Bg(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=jv(n,o);var s=jv(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var dR=pn&&"documentMode"in document&&11>=document.documentMode,Ar=null,jp=null,Yi=null,Pp=!1;function Pv(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Pp||Ar==null||Ar!==Qs(r)||(r=Ar,"selectionStart"in r&&Bg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Yi&&uo(Yi,r)||(Yi=r,r=ia(jp,"onSelect"),0<r.length&&(t=new zg("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ar)))}function hs(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var jr={animationend:hs("Animation","AnimationEnd"),animationiteration:hs("Animation","AnimationIteration"),animationstart:hs("Animation","AnimationStart"),transitionend:hs("Transition","TransitionEnd")},Yu={},Lb={};pn&&(Lb=document.createElement("div").style,"AnimationEvent"in window||(delete jr.animationend.animation,delete jr.animationiteration.animation,delete jr.animationstart.animation),"TransitionEvent"in window||delete jr.transitionend.transition);function za(e){if(Yu[e])return Yu[e];if(!jr[e])return e;var t=jr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Lb)return Yu[e]=t[n];return e}var Ob=za("animationend"),qb=za("animationiteration"),Db=za("animationstart"),$b=za("transitionend"),zb=new Map,Lv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Kn(e,t){zb.set(e,t),_r(t,[e])}for(var Ku=0;Ku<Lv.length;Ku++){var Xu=Lv[Ku],hR=Xu.toLowerCase(),pR=Xu[0].toUpperCase()+Xu.slice(1);Kn(hR,"on"+pR)}Kn(Ob,"onAnimationEnd");Kn(qb,"onAnimationIteration");Kn(Db,"onAnimationStart");Kn("dblclick","onDoubleClick");Kn("focusin","onFocus");Kn("focusout","onBlur");Kn($b,"onTransitionEnd");Qr("onMouseEnter",["mouseout","mouseover"]);Qr("onMouseLeave",["mouseout","mouseover"]);Qr("onPointerEnter",["pointerout","pointerover"]);Qr("onPointerLeave",["pointerout","pointerover"]);_r("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_r("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_r("onBeforeInput",["compositionend","keypress","textInput","paste"]);_r("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_r("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_r("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Li="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gR=new Set("cancel close invalid load scroll toggle".split(" ").concat(Li));function Ov(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,hI(r,t,void 0,e),e.currentTarget=null}function Fb(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],u=a.instance,l=a.currentTarget;if(a=a.listener,u!==o&&i.isPropagationStopped())break e;Ov(i,a,l),o=u}else for(s=0;s<r.length;s++){if(a=r[s],u=a.instance,l=a.currentTarget,a=a.listener,u!==o&&i.isPropagationStopped())break e;Ov(i,a,l),o=u}}}if(Js)throw e=Rp,Js=!1,Rp=null,e}function we(e,t){var n=t[$p];n===void 0&&(n=t[$p]=new Set);var r=e+"__bubble";n.has(r)||(Hb(t,e,2,!1),n.add(r))}function Qu(e,t,n){var r=0;t&&(r|=4),Hb(n,e,r,t)}var ps="_reactListening"+Math.random().toString(36).slice(2);function lo(e){if(!e[ps]){e[ps]=!0,KS.forEach(function(n){n!=="selectionchange"&&(gR.has(n)||Qu(n,!1,e),Qu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ps]||(t[ps]=!0,Qu("selectionchange",!1,t))}}function Hb(e,t,n,r){switch(Cb(t)){case 1:var i=RI;break;case 4:i=TI;break;default:i=Dg}n=i.bind(null,t,n,e),i=void 0,!Ip||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Zu(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var u=s.tag;if((u===3||u===4)&&(u=s.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;s=s.return}for(;a!==null;){if(s=nr(a),s===null)return;if(u=s.tag,u===5||u===6){r=o=s;continue e}a=a.parentNode}}r=r.return}fb(function(){var l=o,c=Pg(n),f=[];e:{var d=zb.get(e);if(d!==void 0){var p=zg,h=e;switch(e){case"keypress":if(Ds(n)===0)break e;case"keydown":case"keyup":p=UI;break;case"focusin":h="focus",p=Uu;break;case"focusout":h="blur",p=Uu;break;case"beforeblur":case"afterblur":p=Uu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Ev;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=jI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=YI;break;case Ob:case qb:case Db:p=OI;break;case $b:p=XI;break;case"scroll":p=MI;break;case"wheel":p=ZI;break;case"copy":case"cut":case"paste":p=DI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Nv}var x=(t&4)!==0,w=!x&&e==="scroll",m=x?d!==null?d+"Capture":null:d;x=[];for(var y=l,v;y!==null;){v=y;var _=v.stateNode;if(v.tag===5&&_!==null&&(v=_,m!==null&&(_=ro(y,m),_!=null&&x.push(co(y,_,v)))),w)break;y=y.return}0<x.length&&(d=new p(d,h,null,n,c),f.push({event:d,listeners:x}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",d&&n!==Np&&(h=n.relatedTarget||n.fromElement)&&(nr(h)||h[gn]))break e;if((p||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,p?(h=n.relatedTarget||n.toElement,p=l,h=h?nr(h):null,h!==null&&(w=wr(h),h!==w||h.tag!==5&&h.tag!==6)&&(h=null)):(p=null,h=l),p!==h)){if(x=Ev,_="onMouseLeave",m="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(x=Nv,_="onPointerLeave",m="onPointerEnter",y="pointer"),w=p==null?d:Pr(p),v=h==null?d:Pr(h),d=new x(_,y+"leave",p,n,c),d.target=w,d.relatedTarget=v,_=null,nr(c)===l&&(x=new x(m,y+"enter",h,n,c),x.target=v,x.relatedTarget=w,_=x),w=_,p&&h)t:{for(x=p,m=h,y=0,v=x;v;v=kr(v))y++;for(v=0,_=m;_;_=kr(_))v++;for(;0<y-v;)x=kr(x),y--;for(;0<v-y;)m=kr(m),v--;for(;y--;){if(x===m||m!==null&&x===m.alternate)break t;x=kr(x),m=kr(m)}x=null}else x=null;p!==null&&qv(f,d,p,x,!1),h!==null&&w!==null&&qv(f,w,h,x,!0)}}e:{if(d=l?Pr(l):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var E=oR;else if(Rv(d))if(Mb)E=lR;else{E=aR;var S=sR}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(E=uR);if(E&&(E=E(e,l))){Tb(f,E,n,c);break e}S&&S(e,d,l),e==="focusout"&&(S=d._wrapperState)&&S.controlled&&d.type==="number"&&wp(d,"number",d.value)}switch(S=l?Pr(l):window,e){case"focusin":(Rv(S)||S.contentEditable==="true")&&(Ar=S,jp=l,Yi=null);break;case"focusout":Yi=jp=Ar=null;break;case"mousedown":Pp=!0;break;case"contextmenu":case"mouseup":case"dragend":Pp=!1,Pv(f,n,c);break;case"selectionchange":if(dR)break;case"keydown":case"keyup":Pv(f,n,c)}var b;if(Hg)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Mr?Ib(e,n)&&(k="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(kb&&n.locale!=="ko"&&(Mr||k!=="onCompositionStart"?k==="onCompositionEnd"&&Mr&&(b=Nb()):(Pn=c,$g="value"in Pn?Pn.value:Pn.textContent,Mr=!0)),S=ia(l,k),0<S.length&&(k=new Cv(k,e,null,n,c),f.push({event:k,listeners:S}),b?k.data=b:(b=Rb(n),b!==null&&(k.data=b)))),(b=eR?tR(e,n):nR(e,n))&&(l=ia(l,"onBeforeInput"),0<l.length&&(c=new Cv("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:l}),c.data=b))}Fb(f,t)})}function co(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ia(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=ro(e,n),o!=null&&r.unshift(co(e,o,i)),o=ro(e,t),o!=null&&r.push(co(e,o,i))),e=e.return}return r}function kr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function qv(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var a=n,u=a.alternate,l=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&l!==null&&(a=l,i?(u=ro(n,o),u!=null&&s.unshift(co(n,u,a))):i||(u=ro(n,o),u!=null&&s.push(co(n,u,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var mR=/\r\n?/g,vR=/\u0000|\uFFFD/g;function Dv(e){return(typeof e=="string"?e:""+e).replace(mR,`
`).replace(vR,"")}function gs(e,t,n){if(t=Dv(t),Dv(e)!==t&&n)throw Error(V(425))}function oa(){}var Lp=null,Op=null;function qp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Dp=typeof setTimeout=="function"?setTimeout:void 0,yR=typeof clearTimeout=="function"?clearTimeout:void 0,$v=typeof Promise=="function"?Promise:void 0,xR=typeof queueMicrotask=="function"?queueMicrotask:typeof $v<"u"?function(e){return $v.resolve(null).then(e).catch(_R)}:Dp;function _R(e){setTimeout(function(){throw e})}function Ju(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),so(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);so(t)}function $n(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function zv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var gi=Math.random().toString(36).slice(2),Yt="__reactFiber$"+gi,fo="__reactProps$"+gi,gn="__reactContainer$"+gi,$p="__reactEvents$"+gi,wR="__reactListeners$"+gi,SR="__reactHandles$"+gi;function nr(e){var t=e[Yt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[gn]||n[Yt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=zv(e);e!==null;){if(n=e[Yt])return n;e=zv(e)}return t}e=n,n=e.parentNode}return null}function Mo(e){return e=e[Yt]||e[gn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Pr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(V(33))}function Fa(e){return e[fo]||null}var zp=[],Lr=-1;function Xn(e){return{current:e}}function Se(e){0>Lr||(e.current=zp[Lr],zp[Lr]=null,Lr--)}function _e(e,t){Lr++,zp[Lr]=e.current,e.current=t}var Wn={},Ke=Xn(Wn),ot=Xn(!1),fr=Wn;function Zr(e,t){var n=e.type.contextTypes;if(!n)return Wn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function st(e){return e=e.childContextTypes,e!=null}function sa(){Se(ot),Se(Ke)}function Fv(e,t,n){if(Ke.current!==Wn)throw Error(V(168));_e(Ke,t),_e(ot,n)}function Bb(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(V(108,sI(e)||"Unknown",i));return Te({},n,r)}function aa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Wn,fr=Ke.current,_e(Ke,e),_e(ot,ot.current),!0}function Hv(e,t,n){var r=e.stateNode;if(!r)throw Error(V(169));n?(e=Bb(e,t,fr),r.__reactInternalMemoizedMergedChildContext=e,Se(ot),Se(Ke),_e(Ke,e)):Se(ot),_e(ot,n)}var sn=null,Ha=!1,el=!1;function Vb(e){sn===null?sn=[e]:sn.push(e)}function bR(e){Ha=!0,Vb(e)}function Qn(){if(!el&&sn!==null){el=!0;var e=0,t=xe;try{var n=sn;for(xe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}sn=null,Ha=!1}catch(i){throw sn!==null&&(sn=sn.slice(e+1)),gb(Lg,Qn),i}finally{xe=t,el=!1}}return null}var Or=[],qr=0,ua=null,la=0,wt=[],St=0,dr=null,un=1,ln="";function Jn(e,t){Or[qr++]=la,Or[qr++]=ua,ua=e,la=t}function Ub(e,t,n){wt[St++]=un,wt[St++]=ln,wt[St++]=dr,dr=e;var r=un;e=ln;var i=32-$t(r)-1;r&=~(1<<i),n+=1;var o=32-$t(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,un=1<<32-$t(t)+i|n<<i|r,ln=o+e}else un=1<<o|n<<i|r,ln=e}function Vg(e){e.return!==null&&(Jn(e,1),Ub(e,1,0))}function Ug(e){for(;e===ua;)ua=Or[--qr],Or[qr]=null,la=Or[--qr],Or[qr]=null;for(;e===dr;)dr=wt[--St],wt[St]=null,ln=wt[--St],wt[St]=null,un=wt[--St],wt[St]=null}var pt=null,ht=null,be=!1,Lt=null;function Gb(e,t){var n=bt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Bv(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,pt=e,ht=$n(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,pt=e,ht=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=dr!==null?{id:un,overflow:ln}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=bt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,pt=e,ht=null,!0):!1;default:return!1}}function Fp(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Hp(e){if(be){var t=ht;if(t){var n=t;if(!Bv(e,t)){if(Fp(e))throw Error(V(418));t=$n(n.nextSibling);var r=pt;t&&Bv(e,t)?Gb(r,n):(e.flags=e.flags&-4097|2,be=!1,pt=e)}}else{if(Fp(e))throw Error(V(418));e.flags=e.flags&-4097|2,be=!1,pt=e}}}function Vv(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;pt=e}function ms(e){if(e!==pt)return!1;if(!be)return Vv(e),be=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!qp(e.type,e.memoizedProps)),t&&(t=ht)){if(Fp(e))throw Wb(),Error(V(418));for(;t;)Gb(e,t),t=$n(t.nextSibling)}if(Vv(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(V(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ht=$n(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ht=null}}else ht=pt?$n(e.stateNode.nextSibling):null;return!0}function Wb(){for(var e=ht;e;)e=$n(e.nextSibling)}function Jr(){ht=pt=null,be=!1}function Gg(e){Lt===null?Lt=[e]:Lt.push(e)}var ER=_n.ReactCurrentBatchConfig;function ki(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(V(309));var r=n.stateNode}if(!r)throw Error(V(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(V(284));if(!n._owner)throw Error(V(290,e))}return e}function vs(e,t){throw e=Object.prototype.toString.call(t),Error(V(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Uv(e){var t=e._init;return t(e._payload)}function Yb(e){function t(m,y){if(e){var v=m.deletions;v===null?(m.deletions=[y],m.flags|=16):v.push(y)}}function n(m,y){if(!e)return null;for(;y!==null;)t(m,y),y=y.sibling;return null}function r(m,y){for(m=new Map;y!==null;)y.key!==null?m.set(y.key,y):m.set(y.index,y),y=y.sibling;return m}function i(m,y){return m=Bn(m,y),m.index=0,m.sibling=null,m}function o(m,y,v){return m.index=v,e?(v=m.alternate,v!==null?(v=v.index,v<y?(m.flags|=2,y):v):(m.flags|=2,y)):(m.flags|=1048576,y)}function s(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,y,v,_){return y===null||y.tag!==6?(y=al(v,m.mode,_),y.return=m,y):(y=i(y,v),y.return=m,y)}function u(m,y,v,_){var E=v.type;return E===Tr?c(m,y,v.props.children,_,v.key):y!==null&&(y.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===In&&Uv(E)===y.type)?(_=i(y,v.props),_.ref=ki(m,y,v),_.return=m,_):(_=Us(v.type,v.key,v.props,null,m.mode,_),_.ref=ki(m,y,v),_.return=m,_)}function l(m,y,v,_){return y===null||y.tag!==4||y.stateNode.containerInfo!==v.containerInfo||y.stateNode.implementation!==v.implementation?(y=ul(v,m.mode,_),y.return=m,y):(y=i(y,v.children||[]),y.return=m,y)}function c(m,y,v,_,E){return y===null||y.tag!==7?(y=ur(v,m.mode,_,E),y.return=m,y):(y=i(y,v),y.return=m,y)}function f(m,y,v){if(typeof y=="string"&&y!==""||typeof y=="number")return y=al(""+y,m.mode,v),y.return=m,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ss:return v=Us(y.type,y.key,y.props,null,m.mode,v),v.ref=ki(m,null,y),v.return=m,v;case Rr:return y=ul(y,m.mode,v),y.return=m,y;case In:var _=y._init;return f(m,_(y._payload),v)}if(ji(y)||Si(y))return y=ur(y,m.mode,v,null),y.return=m,y;vs(m,y)}return null}function d(m,y,v,_){var E=y!==null?y.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return E!==null?null:a(m,y,""+v,_);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ss:return v.key===E?u(m,y,v,_):null;case Rr:return v.key===E?l(m,y,v,_):null;case In:return E=v._init,d(m,y,E(v._payload),_)}if(ji(v)||Si(v))return E!==null?null:c(m,y,v,_,null);vs(m,v)}return null}function p(m,y,v,_,E){if(typeof _=="string"&&_!==""||typeof _=="number")return m=m.get(v)||null,a(y,m,""+_,E);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case ss:return m=m.get(_.key===null?v:_.key)||null,u(y,m,_,E);case Rr:return m=m.get(_.key===null?v:_.key)||null,l(y,m,_,E);case In:var S=_._init;return p(m,y,v,S(_._payload),E)}if(ji(_)||Si(_))return m=m.get(v)||null,c(y,m,_,E,null);vs(y,_)}return null}function h(m,y,v,_){for(var E=null,S=null,b=y,k=y=0,T=null;b!==null&&k<v.length;k++){b.index>k?(T=b,b=null):T=b.sibling;var O=d(m,b,v[k],_);if(O===null){b===null&&(b=T);break}e&&b&&O.alternate===null&&t(m,b),y=o(O,y,k),S===null?E=O:S.sibling=O,S=O,b=T}if(k===v.length)return n(m,b),be&&Jn(m,k),E;if(b===null){for(;k<v.length;k++)b=f(m,v[k],_),b!==null&&(y=o(b,y,k),S===null?E=b:S.sibling=b,S=b);return be&&Jn(m,k),E}for(b=r(m,b);k<v.length;k++)T=p(b,m,k,v[k],_),T!==null&&(e&&T.alternate!==null&&b.delete(T.key===null?k:T.key),y=o(T,y,k),S===null?E=T:S.sibling=T,S=T);return e&&b.forEach(function(R){return t(m,R)}),be&&Jn(m,k),E}function x(m,y,v,_){var E=Si(v);if(typeof E!="function")throw Error(V(150));if(v=E.call(v),v==null)throw Error(V(151));for(var S=E=null,b=y,k=y=0,T=null,O=v.next();b!==null&&!O.done;k++,O=v.next()){b.index>k?(T=b,b=null):T=b.sibling;var R=d(m,b,O.value,_);if(R===null){b===null&&(b=T);break}e&&b&&R.alternate===null&&t(m,b),y=o(R,y,k),S===null?E=R:S.sibling=R,S=R,b=T}if(O.done)return n(m,b),be&&Jn(m,k),E;if(b===null){for(;!O.done;k++,O=v.next())O=f(m,O.value,_),O!==null&&(y=o(O,y,k),S===null?E=O:S.sibling=O,S=O);return be&&Jn(m,k),E}for(b=r(m,b);!O.done;k++,O=v.next())O=p(b,m,k,O.value,_),O!==null&&(e&&O.alternate!==null&&b.delete(O.key===null?k:O.key),y=o(O,y,k),S===null?E=O:S.sibling=O,S=O);return e&&b.forEach(function(j){return t(m,j)}),be&&Jn(m,k),E}function w(m,y,v,_){if(typeof v=="object"&&v!==null&&v.type===Tr&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case ss:e:{for(var E=v.key,S=y;S!==null;){if(S.key===E){if(E=v.type,E===Tr){if(S.tag===7){n(m,S.sibling),y=i(S,v.props.children),y.return=m,m=y;break e}}else if(S.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===In&&Uv(E)===S.type){n(m,S.sibling),y=i(S,v.props),y.ref=ki(m,S,v),y.return=m,m=y;break e}n(m,S);break}else t(m,S);S=S.sibling}v.type===Tr?(y=ur(v.props.children,m.mode,_,v.key),y.return=m,m=y):(_=Us(v.type,v.key,v.props,null,m.mode,_),_.ref=ki(m,y,v),_.return=m,m=_)}return s(m);case Rr:e:{for(S=v.key;y!==null;){if(y.key===S)if(y.tag===4&&y.stateNode.containerInfo===v.containerInfo&&y.stateNode.implementation===v.implementation){n(m,y.sibling),y=i(y,v.children||[]),y.return=m,m=y;break e}else{n(m,y);break}else t(m,y);y=y.sibling}y=ul(v,m.mode,_),y.return=m,m=y}return s(m);case In:return S=v._init,w(m,y,S(v._payload),_)}if(ji(v))return h(m,y,v,_);if(Si(v))return x(m,y,v,_);vs(m,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,y!==null&&y.tag===6?(n(m,y.sibling),y=i(y,v),y.return=m,m=y):(n(m,y),y=al(v,m.mode,_),y.return=m,m=y),s(m)):n(m,y)}return w}var ei=Yb(!0),Kb=Yb(!1),ca=Xn(null),fa=null,Dr=null,Wg=null;function Yg(){Wg=Dr=fa=null}function Kg(e){var t=ca.current;Se(ca),e._currentValue=t}function Bp(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Wr(e,t){fa=e,Wg=Dr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(rt=!0),e.firstContext=null)}function Ct(e){var t=e._currentValue;if(Wg!==e)if(e={context:e,memoizedValue:t,next:null},Dr===null){if(fa===null)throw Error(V(308));Dr=e,fa.dependencies={lanes:0,firstContext:e}}else Dr=Dr.next=e;return t}var rr=null;function Xg(e){rr===null?rr=[e]:rr.push(e)}function Xb(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Xg(t)):(n.next=i.next,i.next=n),t.interleaved=n,mn(e,r)}function mn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Rn=!1;function Qg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qb(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function hn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ve&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,mn(e,n)}return i=r.interleaved,i===null?(t.next=t,Xg(r)):(t.next=i.next,i.next=t),r.interleaved=t,mn(e,n)}function $s(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Og(e,n)}}function Gv(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function da(e,t,n,r){var i=e.updateQueue;Rn=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,l=u.next;u.next=null,s===null?o=l:s.next=l,s=u;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=l:a.next=l,c.lastBaseUpdate=u))}if(o!==null){var f=i.baseState;s=0,c=l=u=null,a=o;do{var d=a.lane,p=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var h=e,x=a;switch(d=t,p=n,x.tag){case 1:if(h=x.payload,typeof h=="function"){f=h.call(p,f,d);break e}f=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=x.payload,d=typeof h=="function"?h.call(p,f,d):h,d==null)break e;f=Te({},f,d);break e;case 2:Rn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else p={eventTime:p,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(l=c=p,u=f):c=c.next=p,s|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(u=f),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);pr|=s,e.lanes=s,e.memoizedState=f}}function Wv(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(V(191,i));i.call(r)}}}var Ao={},Qt=Xn(Ao),ho=Xn(Ao),po=Xn(Ao);function ir(e){if(e===Ao)throw Error(V(174));return e}function Zg(e,t){switch(_e(po,t),_e(ho,e),_e(Qt,Ao),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:bp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=bp(t,e)}Se(Qt),_e(Qt,t)}function ti(){Se(Qt),Se(ho),Se(po)}function Zb(e){ir(po.current);var t=ir(Qt.current),n=bp(t,e.type);t!==n&&(_e(ho,e),_e(Qt,n))}function Jg(e){ho.current===e&&(Se(Qt),Se(ho))}var Ie=Xn(0);function ha(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var tl=[];function em(){for(var e=0;e<tl.length;e++)tl[e]._workInProgressVersionPrimary=null;tl.length=0}var zs=_n.ReactCurrentDispatcher,nl=_n.ReactCurrentBatchConfig,hr=0,Re=null,qe=null,ze=null,pa=!1,Ki=!1,go=0,CR=0;function Ge(){throw Error(V(321))}function tm(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ft(e[n],t[n]))return!1;return!0}function nm(e,t,n,r,i,o){if(hr=o,Re=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,zs.current=e===null||e.memoizedState===null?RR:TR,e=n(r,i),Ki){o=0;do{if(Ki=!1,go=0,25<=o)throw Error(V(301));o+=1,ze=qe=null,t.updateQueue=null,zs.current=MR,e=n(r,i)}while(Ki)}if(zs.current=ga,t=qe!==null&&qe.next!==null,hr=0,ze=qe=Re=null,pa=!1,t)throw Error(V(300));return e}function rm(){var e=go!==0;return go=0,e}function Gt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ze===null?Re.memoizedState=ze=e:ze=ze.next=e,ze}function Nt(){if(qe===null){var e=Re.alternate;e=e!==null?e.memoizedState:null}else e=qe.next;var t=ze===null?Re.memoizedState:ze.next;if(t!==null)ze=t,qe=e;else{if(e===null)throw Error(V(310));qe=e,e={memoizedState:qe.memoizedState,baseState:qe.baseState,baseQueue:qe.baseQueue,queue:qe.queue,next:null},ze===null?Re.memoizedState=ze=e:ze=ze.next=e}return ze}function mo(e,t){return typeof t=="function"?t(e):t}function rl(e){var t=Nt(),n=t.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=e;var r=qe,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,u=null,l=o;do{var c=l.lane;if((hr&c)===c)u!==null&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var f={lane:c,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};u===null?(a=u=f,s=r):u=u.next=f,Re.lanes|=c,pr|=c}l=l.next}while(l!==null&&l!==o);u===null?s=r:u.next=a,Ft(r,t.memoizedState)||(rt=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,Re.lanes|=o,pr|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function il(e){var t=Nt(),n=t.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);Ft(o,t.memoizedState)||(rt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Jb(){}function eE(e,t){var n=Re,r=Nt(),i=t(),o=!Ft(r.memoizedState,i);if(o&&(r.memoizedState=i,rt=!0),r=r.queue,im(rE.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||ze!==null&&ze.memoizedState.tag&1){if(n.flags|=2048,vo(9,nE.bind(null,n,r,i,t),void 0,null),Fe===null)throw Error(V(349));hr&30||tE(n,t,i)}return i}function tE(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Re.updateQueue,t===null?(t={lastEffect:null,stores:null},Re.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function nE(e,t,n,r){t.value=n,t.getSnapshot=r,iE(t)&&oE(e)}function rE(e,t,n){return n(function(){iE(t)&&oE(e)})}function iE(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ft(e,n)}catch{return!0}}function oE(e){var t=mn(e,1);t!==null&&zt(t,e,1,-1)}function Yv(e){var t=Gt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:mo,lastRenderedState:e},t.queue=e,e=e.dispatch=IR.bind(null,Re,e),[t.memoizedState,e]}function vo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Re.updateQueue,t===null?(t={lastEffect:null,stores:null},Re.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function sE(){return Nt().memoizedState}function Fs(e,t,n,r){var i=Gt();Re.flags|=e,i.memoizedState=vo(1|t,n,void 0,r===void 0?null:r)}function Ba(e,t,n,r){var i=Nt();r=r===void 0?null:r;var o=void 0;if(qe!==null){var s=qe.memoizedState;if(o=s.destroy,r!==null&&tm(r,s.deps)){i.memoizedState=vo(t,n,o,r);return}}Re.flags|=e,i.memoizedState=vo(1|t,n,o,r)}function Kv(e,t){return Fs(8390656,8,e,t)}function im(e,t){return Ba(2048,8,e,t)}function aE(e,t){return Ba(4,2,e,t)}function uE(e,t){return Ba(4,4,e,t)}function lE(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function cE(e,t,n){return n=n!=null?n.concat([e]):null,Ba(4,4,lE.bind(null,t,e),n)}function om(){}function fE(e,t){var n=Nt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&tm(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function dE(e,t){var n=Nt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&tm(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function hE(e,t,n){return hr&21?(Ft(n,t)||(n=yb(),Re.lanes|=n,pr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,rt=!0),e.memoizedState=n)}function NR(e,t){var n=xe;xe=n!==0&&4>n?n:4,e(!0);var r=nl.transition;nl.transition={};try{e(!1),t()}finally{xe=n,nl.transition=r}}function pE(){return Nt().memoizedState}function kR(e,t,n){var r=Hn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},gE(e))mE(t,n);else if(n=Xb(e,t,n,r),n!==null){var i=Je();zt(n,e,r,i),vE(n,t,r)}}function IR(e,t,n){var r=Hn(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(gE(e))mE(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Ft(a,s)){var u=t.interleaved;u===null?(i.next=i,Xg(t)):(i.next=u.next,u.next=i),t.interleaved=i;return}}catch{}finally{}n=Xb(e,t,i,r),n!==null&&(i=Je(),zt(n,e,r,i),vE(n,t,r))}}function gE(e){var t=e.alternate;return e===Re||t!==null&&t===Re}function mE(e,t){Ki=pa=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function vE(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Og(e,n)}}var ga={readContext:Ct,useCallback:Ge,useContext:Ge,useEffect:Ge,useImperativeHandle:Ge,useInsertionEffect:Ge,useLayoutEffect:Ge,useMemo:Ge,useReducer:Ge,useRef:Ge,useState:Ge,useDebugValue:Ge,useDeferredValue:Ge,useTransition:Ge,useMutableSource:Ge,useSyncExternalStore:Ge,useId:Ge,unstable_isNewReconciler:!1},RR={readContext:Ct,useCallback:function(e,t){return Gt().memoizedState=[e,t===void 0?null:t],e},useContext:Ct,useEffect:Kv,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Fs(4194308,4,lE.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Fs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Fs(4,2,e,t)},useMemo:function(e,t){var n=Gt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Gt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=kR.bind(null,Re,e),[r.memoizedState,e]},useRef:function(e){var t=Gt();return e={current:e},t.memoizedState=e},useState:Yv,useDebugValue:om,useDeferredValue:function(e){return Gt().memoizedState=e},useTransition:function(){var e=Yv(!1),t=e[0];return e=NR.bind(null,e[1]),Gt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Re,i=Gt();if(be){if(n===void 0)throw Error(V(407));n=n()}else{if(n=t(),Fe===null)throw Error(V(349));hr&30||tE(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Kv(rE.bind(null,r,o,e),[e]),r.flags|=2048,vo(9,nE.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Gt(),t=Fe.identifierPrefix;if(be){var n=ln,r=un;n=(r&~(1<<32-$t(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=go++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=CR++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},TR={readContext:Ct,useCallback:fE,useContext:Ct,useEffect:im,useImperativeHandle:cE,useInsertionEffect:aE,useLayoutEffect:uE,useMemo:dE,useReducer:rl,useRef:sE,useState:function(){return rl(mo)},useDebugValue:om,useDeferredValue:function(e){var t=Nt();return hE(t,qe.memoizedState,e)},useTransition:function(){var e=rl(mo)[0],t=Nt().memoizedState;return[e,t]},useMutableSource:Jb,useSyncExternalStore:eE,useId:pE,unstable_isNewReconciler:!1},MR={readContext:Ct,useCallback:fE,useContext:Ct,useEffect:im,useImperativeHandle:cE,useInsertionEffect:aE,useLayoutEffect:uE,useMemo:dE,useReducer:il,useRef:sE,useState:function(){return il(mo)},useDebugValue:om,useDeferredValue:function(e){var t=Nt();return qe===null?t.memoizedState=e:hE(t,qe.memoizedState,e)},useTransition:function(){var e=il(mo)[0],t=Nt().memoizedState;return[e,t]},useMutableSource:Jb,useSyncExternalStore:eE,useId:pE,unstable_isNewReconciler:!1};function At(e,t){if(e&&e.defaultProps){t=Te({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Vp(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Te({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Va={isMounted:function(e){return(e=e._reactInternals)?wr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Je(),i=Hn(e),o=hn(r,i);o.payload=t,n!=null&&(o.callback=n),t=zn(e,o,i),t!==null&&(zt(t,e,i,r),$s(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Je(),i=Hn(e),o=hn(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=zn(e,o,i),t!==null&&(zt(t,e,i,r),$s(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Je(),r=Hn(e),i=hn(n,r);i.tag=2,t!=null&&(i.callback=t),t=zn(e,i,r),t!==null&&(zt(t,e,r,n),$s(t,e,r))}};function Xv(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!uo(n,r)||!uo(i,o):!0}function yE(e,t,n){var r=!1,i=Wn,o=t.contextType;return typeof o=="object"&&o!==null?o=Ct(o):(i=st(t)?fr:Ke.current,r=t.contextTypes,o=(r=r!=null)?Zr(e,i):Wn),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Va,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Qv(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Va.enqueueReplaceState(t,t.state,null)}function Up(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Qg(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Ct(o):(o=st(t)?fr:Ke.current,i.context=Zr(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Vp(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Va.enqueueReplaceState(i,i.state,null),da(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function ni(e,t){try{var n="",r=t;do n+=oI(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function ol(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Gp(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var AR=typeof WeakMap=="function"?WeakMap:Map;function xE(e,t,n){n=hn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){va||(va=!0,ng=r),Gp(e,t)},n}function _E(e,t,n){n=hn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Gp(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Gp(e,t),typeof r!="function"&&(Fn===null?Fn=new Set([this]):Fn.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function Zv(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new AR;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=GR.bind(null,e,t,n),t.then(e,e))}function Jv(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ey(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=hn(-1,1),t.tag=2,zn(n,t,1))),n.lanes|=1),e)}var jR=_n.ReactCurrentOwner,rt=!1;function Qe(e,t,n,r){t.child=e===null?Kb(t,null,n,r):ei(t,e.child,n,r)}function ty(e,t,n,r,i){n=n.render;var o=t.ref;return Wr(t,i),r=nm(e,t,n,r,o,i),n=rm(),e!==null&&!rt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,vn(e,t,i)):(be&&n&&Vg(t),t.flags|=1,Qe(e,t,r,i),t.child)}function ny(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!hm(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,wE(e,t,o,r,i)):(e=Us(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:uo,n(s,r)&&e.ref===t.ref)return vn(e,t,i)}return t.flags|=1,e=Bn(o,r),e.ref=t.ref,e.return=t,t.child=e}function wE(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(uo(o,r)&&e.ref===t.ref)if(rt=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(rt=!0);else return t.lanes=e.lanes,vn(e,t,i)}return Wp(e,t,n,r,i)}function SE(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_e(zr,ct),ct|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_e(zr,ct),ct|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,_e(zr,ct),ct|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,_e(zr,ct),ct|=r;return Qe(e,t,i,n),t.child}function bE(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Wp(e,t,n,r,i){var o=st(n)?fr:Ke.current;return o=Zr(t,o),Wr(t,i),n=nm(e,t,n,r,o,i),r=rm(),e!==null&&!rt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,vn(e,t,i)):(be&&r&&Vg(t),t.flags|=1,Qe(e,t,n,i),t.child)}function ry(e,t,n,r,i){if(st(n)){var o=!0;aa(t)}else o=!1;if(Wr(t,i),t.stateNode===null)Hs(e,t),yE(t,n,r),Up(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var u=s.context,l=n.contextType;typeof l=="object"&&l!==null?l=Ct(l):(l=st(n)?fr:Ke.current,l=Zr(t,l));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||u!==l)&&Qv(t,s,r,l),Rn=!1;var d=t.memoizedState;s.state=d,da(t,r,s,i),u=t.memoizedState,a!==r||d!==u||ot.current||Rn?(typeof c=="function"&&(Vp(t,n,c,r),u=t.memoizedState),(a=Rn||Xv(t,n,a,r,d,u,l))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),s.props=r,s.state=u,s.context=l,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Qb(e,t),a=t.memoizedProps,l=t.type===t.elementType?a:At(t.type,a),s.props=l,f=t.pendingProps,d=s.context,u=n.contextType,typeof u=="object"&&u!==null?u=Ct(u):(u=st(n)?fr:Ke.current,u=Zr(t,u));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||d!==u)&&Qv(t,s,r,u),Rn=!1,d=t.memoizedState,s.state=d,da(t,r,s,i);var h=t.memoizedState;a!==f||d!==h||ot.current||Rn?(typeof p=="function"&&(Vp(t,n,p,r),h=t.memoizedState),(l=Rn||Xv(t,n,l,r,d,h,u)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,h,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,h,u)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),s.props=r,s.state=h,s.context=u,r=l):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Yp(e,t,n,r,o,i)}function Yp(e,t,n,r,i,o){bE(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&Hv(t,n,!1),vn(e,t,o);r=t.stateNode,jR.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=ei(t,e.child,null,o),t.child=ei(t,null,a,o)):Qe(e,t,a,o),t.memoizedState=r.state,i&&Hv(t,n,!0),t.child}function EE(e){var t=e.stateNode;t.pendingContext?Fv(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Fv(e,t.context,!1),Zg(e,t.containerInfo)}function iy(e,t,n,r,i){return Jr(),Gg(i),t.flags|=256,Qe(e,t,n,r),t.child}var Kp={dehydrated:null,treeContext:null,retryLane:0};function Xp(e){return{baseLanes:e,cachePool:null,transitions:null}}function CE(e,t,n){var r=t.pendingProps,i=Ie.current,o=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),_e(Ie,i&1),e===null)return Hp(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Wa(s,r,0,null),e=ur(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Xp(n),t.memoizedState=Kp,e):sm(t,s));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return PR(e,t,s,r,a,i,n);if(o){o=r.fallback,s=t.mode,i=e.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=Bn(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Bn(a,o):(o=ur(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?Xp(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=Kp,r}return o=e.child,e=o.sibling,r=Bn(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function sm(e,t){return t=Wa({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ys(e,t,n,r){return r!==null&&Gg(r),ei(t,e.child,null,n),e=sm(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function PR(e,t,n,r,i,o,s){if(n)return t.flags&256?(t.flags&=-257,r=ol(Error(V(422))),ys(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Wa({mode:"visible",children:r.children},i,0,null),o=ur(o,i,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&ei(t,e.child,null,s),t.child.memoizedState=Xp(s),t.memoizedState=Kp,o);if(!(t.mode&1))return ys(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(V(419)),r=ol(o,r,void 0),ys(e,t,s,r)}if(a=(s&e.childLanes)!==0,rt||a){if(r=Fe,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,mn(e,i),zt(r,e,i,-1))}return dm(),r=ol(Error(V(421))),ys(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=WR.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ht=$n(i.nextSibling),pt=t,be=!0,Lt=null,e!==null&&(wt[St++]=un,wt[St++]=ln,wt[St++]=dr,un=e.id,ln=e.overflow,dr=t),t=sm(t,r.children),t.flags|=4096,t)}function oy(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Bp(e.return,t,n)}function sl(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function NE(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Qe(e,t,r.children,n),r=Ie.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&oy(e,n,t);else if(e.tag===19)oy(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(_e(Ie,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&ha(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),sl(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&ha(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}sl(t,!0,n,null,o);break;case"together":sl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function vn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),pr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(V(153));if(t.child!==null){for(e=t.child,n=Bn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Bn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function LR(e,t,n){switch(t.tag){case 3:EE(t),Jr();break;case 5:Zb(t);break;case 1:st(t.type)&&aa(t);break;case 4:Zg(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;_e(ca,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(_e(Ie,Ie.current&1),t.flags|=128,null):n&t.child.childLanes?CE(e,t,n):(_e(Ie,Ie.current&1),e=vn(e,t,n),e!==null?e.sibling:null);_e(Ie,Ie.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return NE(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),_e(Ie,Ie.current),r)break;return null;case 22:case 23:return t.lanes=0,SE(e,t,n)}return vn(e,t,n)}var kE,Qp,IE,RE;kE=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Qp=function(){};IE=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ir(Qt.current);var o=null;switch(n){case"input":i=xp(e,i),r=xp(e,r),o=[];break;case"select":i=Te({},i,{value:void 0}),r=Te({},r,{value:void 0}),o=[];break;case"textarea":i=Sp(e,i),r=Sp(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=oa)}Ep(n,r);var s;n=null;for(l in i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var a=i[l];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(to.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var u=r[l];if(a=i!=null?i[l]:void 0,r.hasOwnProperty(l)&&u!==a&&(u!=null||a!=null))if(l==="style")if(a){for(s in a)!a.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&a[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(o||(o=[]),o.push(l,n)),n=u;else l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(o=o||[]).push(l,u)):l==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(l,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(to.hasOwnProperty(l)?(u!=null&&l==="onScroll"&&we("scroll",e),o||a===u||(o=[])):(o=o||[]).push(l,u))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}};RE=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ii(e,t){if(!be)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function We(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function OR(e,t,n){var r=t.pendingProps;switch(Ug(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return We(t),null;case 1:return st(t.type)&&sa(),We(t),null;case 3:return r=t.stateNode,ti(),Se(ot),Se(Ke),em(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ms(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Lt!==null&&(og(Lt),Lt=null))),Qp(e,t),We(t),null;case 5:Jg(t);var i=ir(po.current);if(n=t.type,e!==null&&t.stateNode!=null)IE(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(V(166));return We(t),null}if(e=ir(Qt.current),ms(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Yt]=t,r[fo]=o,e=(t.mode&1)!==0,n){case"dialog":we("cancel",r),we("close",r);break;case"iframe":case"object":case"embed":we("load",r);break;case"video":case"audio":for(i=0;i<Li.length;i++)we(Li[i],r);break;case"source":we("error",r);break;case"img":case"image":case"link":we("error",r),we("load",r);break;case"details":we("toggle",r);break;case"input":pv(r,o),we("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},we("invalid",r);break;case"textarea":mv(r,o),we("invalid",r)}Ep(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&gs(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&gs(r.textContent,a,e),i=["children",""+a]):to.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&we("scroll",r)}switch(n){case"input":as(r),gv(r,o,!0);break;case"textarea":as(r),vv(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=oa)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=rb(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Yt]=t,e[fo]=r,kE(e,t,!1,!1),t.stateNode=e;e:{switch(s=Cp(n,r),n){case"dialog":we("cancel",e),we("close",e),i=r;break;case"iframe":case"object":case"embed":we("load",e),i=r;break;case"video":case"audio":for(i=0;i<Li.length;i++)we(Li[i],e);i=r;break;case"source":we("error",e),i=r;break;case"img":case"image":case"link":we("error",e),we("load",e),i=r;break;case"details":we("toggle",e),i=r;break;case"input":pv(e,r),i=xp(e,r),we("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Te({},r,{value:void 0}),we("invalid",e);break;case"textarea":mv(e,r),i=Sp(e,r),we("invalid",e);break;default:i=r}Ep(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var u=a[o];o==="style"?sb(e,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&ib(e,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&no(e,u):typeof u=="number"&&no(e,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(to.hasOwnProperty(o)?u!=null&&o==="onScroll"&&we("scroll",e):u!=null&&Tg(e,o,u,s))}switch(n){case"input":as(e),gv(e,r,!1);break;case"textarea":as(e),vv(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Gn(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Br(e,!!r.multiple,o,!1):r.defaultValue!=null&&Br(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=oa)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return We(t),null;case 6:if(e&&t.stateNode!=null)RE(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(V(166));if(n=ir(po.current),ir(Qt.current),ms(t)){if(r=t.stateNode,n=t.memoizedProps,r[Yt]=t,(o=r.nodeValue!==n)&&(e=pt,e!==null))switch(e.tag){case 3:gs(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&gs(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Yt]=t,t.stateNode=r}return We(t),null;case 13:if(Se(Ie),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(be&&ht!==null&&t.mode&1&&!(t.flags&128))Wb(),Jr(),t.flags|=98560,o=!1;else if(o=ms(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(V(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(V(317));o[Yt]=t}else Jr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;We(t),o=!1}else Lt!==null&&(og(Lt),Lt=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ie.current&1?De===0&&(De=3):dm())),t.updateQueue!==null&&(t.flags|=4),We(t),null);case 4:return ti(),Qp(e,t),e===null&&lo(t.stateNode.containerInfo),We(t),null;case 10:return Kg(t.type._context),We(t),null;case 17:return st(t.type)&&sa(),We(t),null;case 19:if(Se(Ie),o=t.memoizedState,o===null)return We(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)Ii(o,!1);else{if(De!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=ha(e),s!==null){for(t.flags|=128,Ii(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return _e(Ie,Ie.current&1|2),t.child}e=e.sibling}o.tail!==null&&Ae()>ri&&(t.flags|=128,r=!0,Ii(o,!1),t.lanes=4194304)}else{if(!r)if(e=ha(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ii(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!be)return We(t),null}else 2*Ae()-o.renderingStartTime>ri&&n!==1073741824&&(t.flags|=128,r=!0,Ii(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ae(),t.sibling=null,n=Ie.current,_e(Ie,r?n&1|2:n&1),t):(We(t),null);case 22:case 23:return fm(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ct&1073741824&&(We(t),t.subtreeFlags&6&&(t.flags|=8192)):We(t),null;case 24:return null;case 25:return null}throw Error(V(156,t.tag))}function qR(e,t){switch(Ug(t),t.tag){case 1:return st(t.type)&&sa(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ti(),Se(ot),Se(Ke),em(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Jg(t),null;case 13:if(Se(Ie),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(V(340));Jr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Se(Ie),null;case 4:return ti(),null;case 10:return Kg(t.type._context),null;case 22:case 23:return fm(),null;case 24:return null;default:return null}}var xs=!1,Ye=!1,DR=typeof WeakSet=="function"?WeakSet:Set,J=null;function $r(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Me(e,t,r)}else n.current=null}function Zp(e,t,n){try{n()}catch(r){Me(e,t,r)}}var sy=!1;function $R(e,t){if(Lp=na,e=Pb(),Bg(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,u=-1,l=0,c=0,f=e,d=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(u=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)d=f,f=p;for(;;){if(f===e)break t;if(d===n&&++l===i&&(a=s),d===o&&++c===r&&(u=s),(p=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=p}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Op={focusedElem:e,selectionRange:n},na=!1,J=t;J!==null;)if(t=J,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,J=e;else for(;J!==null;){t=J;try{var h=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(h!==null){var x=h.memoizedProps,w=h.memoizedState,m=t.stateNode,y=m.getSnapshotBeforeUpdate(t.elementType===t.type?x:At(t.type,x),w);m.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(V(163))}}catch(_){Me(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,J=e;break}J=t.return}return h=sy,sy=!1,h}function Xi(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&Zp(t,n,o)}i=i.next}while(i!==r)}}function Ua(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Jp(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function TE(e){var t=e.alternate;t!==null&&(e.alternate=null,TE(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Yt],delete t[fo],delete t[$p],delete t[wR],delete t[SR])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ME(e){return e.tag===5||e.tag===3||e.tag===4}function ay(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ME(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function eg(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=oa));else if(r!==4&&(e=e.child,e!==null))for(eg(e,t,n),e=e.sibling;e!==null;)eg(e,t,n),e=e.sibling}function tg(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(tg(e,t,n),e=e.sibling;e!==null;)tg(e,t,n),e=e.sibling}var Be=null,jt=!1;function En(e,t,n){for(n=n.child;n!==null;)AE(e,t,n),n=n.sibling}function AE(e,t,n){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(qa,n)}catch{}switch(n.tag){case 5:Ye||$r(n,t);case 6:var r=Be,i=jt;Be=null,En(e,t,n),Be=r,jt=i,Be!==null&&(jt?(e=Be,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Be.removeChild(n.stateNode));break;case 18:Be!==null&&(jt?(e=Be,n=n.stateNode,e.nodeType===8?Ju(e.parentNode,n):e.nodeType===1&&Ju(e,n),so(e)):Ju(Be,n.stateNode));break;case 4:r=Be,i=jt,Be=n.stateNode.containerInfo,jt=!0,En(e,t,n),Be=r,jt=i;break;case 0:case 11:case 14:case 15:if(!Ye&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Zp(n,t,s),i=i.next}while(i!==r)}En(e,t,n);break;case 1:if(!Ye&&($r(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Me(n,t,a)}En(e,t,n);break;case 21:En(e,t,n);break;case 22:n.mode&1?(Ye=(r=Ye)||n.memoizedState!==null,En(e,t,n),Ye=r):En(e,t,n);break;default:En(e,t,n)}}function uy(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new DR),t.forEach(function(r){var i=YR.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Mt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:Be=a.stateNode,jt=!1;break e;case 3:Be=a.stateNode.containerInfo,jt=!0;break e;case 4:Be=a.stateNode.containerInfo,jt=!0;break e}a=a.return}if(Be===null)throw Error(V(160));AE(o,s,i),Be=null,jt=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(l){Me(i,t,l)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)jE(t,e),t=t.sibling}function jE(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Mt(t,e),Ut(e),r&4){try{Xi(3,e,e.return),Ua(3,e)}catch(x){Me(e,e.return,x)}try{Xi(5,e,e.return)}catch(x){Me(e,e.return,x)}}break;case 1:Mt(t,e),Ut(e),r&512&&n!==null&&$r(n,n.return);break;case 5:if(Mt(t,e),Ut(e),r&512&&n!==null&&$r(n,n.return),e.flags&32){var i=e.stateNode;try{no(i,"")}catch(x){Me(e,e.return,x)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,a=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&tb(i,o),Cp(a,s);var l=Cp(a,o);for(s=0;s<u.length;s+=2){var c=u[s],f=u[s+1];c==="style"?sb(i,f):c==="dangerouslySetInnerHTML"?ib(i,f):c==="children"?no(i,f):Tg(i,c,f,l)}switch(a){case"input":_p(i,o);break;case"textarea":nb(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?Br(i,!!o.multiple,p,!1):d!==!!o.multiple&&(o.defaultValue!=null?Br(i,!!o.multiple,o.defaultValue,!0):Br(i,!!o.multiple,o.multiple?[]:"",!1))}i[fo]=o}catch(x){Me(e,e.return,x)}}break;case 6:if(Mt(t,e),Ut(e),r&4){if(e.stateNode===null)throw Error(V(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(x){Me(e,e.return,x)}}break;case 3:if(Mt(t,e),Ut(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{so(t.containerInfo)}catch(x){Me(e,e.return,x)}break;case 4:Mt(t,e),Ut(e);break;case 13:Mt(t,e),Ut(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(lm=Ae())),r&4&&uy(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Ye=(l=Ye)||c,Mt(t,e),Ye=l):Mt(t,e),Ut(e),r&8192){if(l=e.memoizedState!==null,(e.stateNode.isHidden=l)&&!c&&e.mode&1)for(J=e,c=e.child;c!==null;){for(f=J=c;J!==null;){switch(d=J,p=d.child,d.tag){case 0:case 11:case 14:case 15:Xi(4,d,d.return);break;case 1:$r(d,d.return);var h=d.stateNode;if(typeof h.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,h.props=t.memoizedProps,h.state=t.memoizedState,h.componentWillUnmount()}catch(x){Me(r,n,x)}}break;case 5:$r(d,d.return);break;case 22:if(d.memoizedState!==null){cy(f);continue}}p!==null?(p.return=d,J=p):cy(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,l?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,u=f.memoizedProps.style,s=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=ob("display",s))}catch(x){Me(e,e.return,x)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=l?"":f.memoizedProps}catch(x){Me(e,e.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Mt(t,e),Ut(e),r&4&&uy(e);break;case 21:break;default:Mt(t,e),Ut(e)}}function Ut(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(ME(n)){var r=n;break e}n=n.return}throw Error(V(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(no(i,""),r.flags&=-33);var o=ay(e);tg(e,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=ay(e);eg(e,a,s);break;default:throw Error(V(161))}}catch(u){Me(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function zR(e,t,n){J=e,PE(e)}function PE(e,t,n){for(var r=(e.mode&1)!==0;J!==null;){var i=J,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||xs;if(!s){var a=i.alternate,u=a!==null&&a.memoizedState!==null||Ye;a=xs;var l=Ye;if(xs=s,(Ye=u)&&!l)for(J=i;J!==null;)s=J,u=s.child,s.tag===22&&s.memoizedState!==null?fy(i):u!==null?(u.return=s,J=u):fy(i);for(;o!==null;)J=o,PE(o),o=o.sibling;J=i,xs=a,Ye=l}ly(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,J=o):ly(e)}}function ly(e){for(;J!==null;){var t=J;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ye||Ua(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ye)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:At(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Wv(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Wv(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var l=t.alternate;if(l!==null){var c=l.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&so(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(V(163))}Ye||t.flags&512&&Jp(t)}catch(d){Me(t,t.return,d)}}if(t===e){J=null;break}if(n=t.sibling,n!==null){n.return=t.return,J=n;break}J=t.return}}function cy(e){for(;J!==null;){var t=J;if(t===e){J=null;break}var n=t.sibling;if(n!==null){n.return=t.return,J=n;break}J=t.return}}function fy(e){for(;J!==null;){var t=J;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ua(4,t)}catch(u){Me(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(u){Me(t,i,u)}}var o=t.return;try{Jp(t)}catch(u){Me(t,o,u)}break;case 5:var s=t.return;try{Jp(t)}catch(u){Me(t,s,u)}}}catch(u){Me(t,t.return,u)}if(t===e){J=null;break}var a=t.sibling;if(a!==null){a.return=t.return,J=a;break}J=t.return}}var FR=Math.ceil,ma=_n.ReactCurrentDispatcher,am=_n.ReactCurrentOwner,Et=_n.ReactCurrentBatchConfig,ve=0,Fe=null,je=null,Ve=0,ct=0,zr=Xn(0),De=0,yo=null,pr=0,Ga=0,um=0,Qi=null,nt=null,lm=0,ri=1/0,on=null,va=!1,ng=null,Fn=null,_s=!1,Ln=null,ya=0,Zi=0,rg=null,Bs=-1,Vs=0;function Je(){return ve&6?Ae():Bs!==-1?Bs:Bs=Ae()}function Hn(e){return e.mode&1?ve&2&&Ve!==0?Ve&-Ve:ER.transition!==null?(Vs===0&&(Vs=yb()),Vs):(e=xe,e!==0||(e=window.event,e=e===void 0?16:Cb(e.type)),e):1}function zt(e,t,n,r){if(50<Zi)throw Zi=0,rg=null,Error(V(185));Ro(e,n,r),(!(ve&2)||e!==Fe)&&(e===Fe&&(!(ve&2)&&(Ga|=n),De===4&&Mn(e,Ve)),at(e,r),n===1&&ve===0&&!(t.mode&1)&&(ri=Ae()+500,Ha&&Qn()))}function at(e,t){var n=e.callbackNode;EI(e,t);var r=ta(e,e===Fe?Ve:0);if(r===0)n!==null&&_v(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&_v(n),t===1)e.tag===0?bR(dy.bind(null,e)):Vb(dy.bind(null,e)),xR(function(){!(ve&6)&&Qn()}),n=null;else{switch(xb(r)){case 1:n=Lg;break;case 4:n=mb;break;case 16:n=ea;break;case 536870912:n=vb;break;default:n=ea}n=HE(n,LE.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function LE(e,t){if(Bs=-1,Vs=0,ve&6)throw Error(V(327));var n=e.callbackNode;if(Yr()&&e.callbackNode!==n)return null;var r=ta(e,e===Fe?Ve:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=xa(e,r);else{t=r;var i=ve;ve|=2;var o=qE();(Fe!==e||Ve!==t)&&(on=null,ri=Ae()+500,ar(e,t));do try{VR();break}catch(a){OE(e,a)}while(!0);Yg(),ma.current=o,ve=i,je!==null?t=0:(Fe=null,Ve=0,t=De)}if(t!==0){if(t===2&&(i=Tp(e),i!==0&&(r=i,t=ig(e,i))),t===1)throw n=yo,ar(e,0),Mn(e,r),at(e,Ae()),n;if(t===6)Mn(e,r);else{if(i=e.current.alternate,!(r&30)&&!HR(i)&&(t=xa(e,r),t===2&&(o=Tp(e),o!==0&&(r=o,t=ig(e,o))),t===1))throw n=yo,ar(e,0),Mn(e,r),at(e,Ae()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(V(345));case 2:er(e,nt,on);break;case 3:if(Mn(e,r),(r&130023424)===r&&(t=lm+500-Ae(),10<t)){if(ta(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Je(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Dp(er.bind(null,e,nt,on),t);break}er(e,nt,on);break;case 4:if(Mn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-$t(r);o=1<<s,s=t[s],s>i&&(i=s),r&=~o}if(r=i,r=Ae()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*FR(r/1960))-r,10<r){e.timeoutHandle=Dp(er.bind(null,e,nt,on),r);break}er(e,nt,on);break;case 5:er(e,nt,on);break;default:throw Error(V(329))}}}return at(e,Ae()),e.callbackNode===n?LE.bind(null,e):null}function ig(e,t){var n=Qi;return e.current.memoizedState.isDehydrated&&(ar(e,t).flags|=256),e=xa(e,t),e!==2&&(t=nt,nt=n,t!==null&&og(t)),e}function og(e){nt===null?nt=e:nt.push.apply(nt,e)}function HR(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Ft(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Mn(e,t){for(t&=~um,t&=~Ga,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-$t(t),r=1<<n;e[n]=-1,t&=~r}}function dy(e){if(ve&6)throw Error(V(327));Yr();var t=ta(e,0);if(!(t&1))return at(e,Ae()),null;var n=xa(e,t);if(e.tag!==0&&n===2){var r=Tp(e);r!==0&&(t=r,n=ig(e,r))}if(n===1)throw n=yo,ar(e,0),Mn(e,t),at(e,Ae()),n;if(n===6)throw Error(V(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,er(e,nt,on),at(e,Ae()),null}function cm(e,t){var n=ve;ve|=1;try{return e(t)}finally{ve=n,ve===0&&(ri=Ae()+500,Ha&&Qn())}}function gr(e){Ln!==null&&Ln.tag===0&&!(ve&6)&&Yr();var t=ve;ve|=1;var n=Et.transition,r=xe;try{if(Et.transition=null,xe=1,e)return e()}finally{xe=r,Et.transition=n,ve=t,!(ve&6)&&Qn()}}function fm(){ct=zr.current,Se(zr)}function ar(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,yR(n)),je!==null)for(n=je.return;n!==null;){var r=n;switch(Ug(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&sa();break;case 3:ti(),Se(ot),Se(Ke),em();break;case 5:Jg(r);break;case 4:ti();break;case 13:Se(Ie);break;case 19:Se(Ie);break;case 10:Kg(r.type._context);break;case 22:case 23:fm()}n=n.return}if(Fe=e,je=e=Bn(e.current,null),Ve=ct=t,De=0,yo=null,um=Ga=pr=0,nt=Qi=null,rr!==null){for(t=0;t<rr.length;t++)if(n=rr[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}rr=null}return e}function OE(e,t){do{var n=je;try{if(Yg(),zs.current=ga,pa){for(var r=Re.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}pa=!1}if(hr=0,ze=qe=Re=null,Ki=!1,go=0,am.current=null,n===null||n.return===null){De=1,yo=t,je=null;break}e:{var o=e,s=n.return,a=n,u=t;if(t=Ve,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var l=u,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=Jv(s);if(p!==null){p.flags&=-257,ey(p,s,a,o,t),p.mode&1&&Zv(o,l,t),t=p,u=l;var h=t.updateQueue;if(h===null){var x=new Set;x.add(u),t.updateQueue=x}else h.add(u);break e}else{if(!(t&1)){Zv(o,l,t),dm();break e}u=Error(V(426))}}else if(be&&a.mode&1){var w=Jv(s);if(w!==null){!(w.flags&65536)&&(w.flags|=256),ey(w,s,a,o,t),Gg(ni(u,a));break e}}o=u=ni(u,a),De!==4&&(De=2),Qi===null?Qi=[o]:Qi.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var m=xE(o,u,t);Gv(o,m);break e;case 1:a=u;var y=o.type,v=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Fn===null||!Fn.has(v)))){o.flags|=65536,t&=-t,o.lanes|=t;var _=_E(o,a,t);Gv(o,_);break e}}o=o.return}while(o!==null)}$E(n)}catch(E){t=E,je===n&&n!==null&&(je=n=n.return);continue}break}while(!0)}function qE(){var e=ma.current;return ma.current=ga,e===null?ga:e}function dm(){(De===0||De===3||De===2)&&(De=4),Fe===null||!(pr&268435455)&&!(Ga&268435455)||Mn(Fe,Ve)}function xa(e,t){var n=ve;ve|=2;var r=qE();(Fe!==e||Ve!==t)&&(on=null,ar(e,t));do try{BR();break}catch(i){OE(e,i)}while(!0);if(Yg(),ve=n,ma.current=r,je!==null)throw Error(V(261));return Fe=null,Ve=0,De}function BR(){for(;je!==null;)DE(je)}function VR(){for(;je!==null&&!gI();)DE(je)}function DE(e){var t=FE(e.alternate,e,ct);e.memoizedProps=e.pendingProps,t===null?$E(e):je=t,am.current=null}function $E(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=qR(n,t),n!==null){n.flags&=32767,je=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{De=6,je=null;return}}else if(n=OR(n,t,ct),n!==null){je=n;return}if(t=t.sibling,t!==null){je=t;return}je=t=e}while(t!==null);De===0&&(De=5)}function er(e,t,n){var r=xe,i=Et.transition;try{Et.transition=null,xe=1,UR(e,t,n,r)}finally{Et.transition=i,xe=r}return null}function UR(e,t,n,r){do Yr();while(Ln!==null);if(ve&6)throw Error(V(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(V(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(CI(e,o),e===Fe&&(je=Fe=null,Ve=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||_s||(_s=!0,HE(ea,function(){return Yr(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Et.transition,Et.transition=null;var s=xe;xe=1;var a=ve;ve|=4,am.current=null,$R(e,n),jE(n,e),fR(Op),na=!!Lp,Op=Lp=null,e.current=n,zR(n),mI(),ve=a,xe=s,Et.transition=o}else e.current=n;if(_s&&(_s=!1,Ln=e,ya=i),o=e.pendingLanes,o===0&&(Fn=null),xI(n.stateNode),at(e,Ae()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(va)throw va=!1,e=ng,ng=null,e;return ya&1&&e.tag!==0&&Yr(),o=e.pendingLanes,o&1?e===rg?Zi++:(Zi=0,rg=e):Zi=0,Qn(),null}function Yr(){if(Ln!==null){var e=xb(ya),t=Et.transition,n=xe;try{if(Et.transition=null,xe=16>e?16:e,Ln===null)var r=!1;else{if(e=Ln,Ln=null,ya=0,ve&6)throw Error(V(331));var i=ve;for(ve|=4,J=e.current;J!==null;){var o=J,s=o.child;if(J.flags&16){var a=o.deletions;if(a!==null){for(var u=0;u<a.length;u++){var l=a[u];for(J=l;J!==null;){var c=J;switch(c.tag){case 0:case 11:case 15:Xi(8,c,o)}var f=c.child;if(f!==null)f.return=c,J=f;else for(;J!==null;){c=J;var d=c.sibling,p=c.return;if(TE(c),c===l){J=null;break}if(d!==null){d.return=p,J=d;break}J=p}}}var h=o.alternate;if(h!==null){var x=h.child;if(x!==null){h.child=null;do{var w=x.sibling;x.sibling=null,x=w}while(x!==null)}}J=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,J=s;else e:for(;J!==null;){if(o=J,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Xi(9,o,o.return)}var m=o.sibling;if(m!==null){m.return=o.return,J=m;break e}J=o.return}}var y=e.current;for(J=y;J!==null;){s=J;var v=s.child;if(s.subtreeFlags&2064&&v!==null)v.return=s,J=v;else e:for(s=y;J!==null;){if(a=J,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ua(9,a)}}catch(E){Me(a,a.return,E)}if(a===s){J=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,J=_;break e}J=a.return}}if(ve=i,Qn(),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(qa,e)}catch{}r=!0}return r}finally{xe=n,Et.transition=t}}return!1}function hy(e,t,n){t=ni(n,t),t=xE(e,t,1),e=zn(e,t,1),t=Je(),e!==null&&(Ro(e,1,t),at(e,t))}function Me(e,t,n){if(e.tag===3)hy(e,e,n);else for(;t!==null;){if(t.tag===3){hy(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Fn===null||!Fn.has(r))){e=ni(n,e),e=_E(t,e,1),t=zn(t,e,1),e=Je(),t!==null&&(Ro(t,1,e),at(t,e));break}}t=t.return}}function GR(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Je(),e.pingedLanes|=e.suspendedLanes&n,Fe===e&&(Ve&n)===n&&(De===4||De===3&&(Ve&130023424)===Ve&&500>Ae()-lm?ar(e,0):um|=n),at(e,t)}function zE(e,t){t===0&&(e.mode&1?(t=cs,cs<<=1,!(cs&130023424)&&(cs=4194304)):t=1);var n=Je();e=mn(e,t),e!==null&&(Ro(e,t,n),at(e,n))}function WR(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),zE(e,n)}function YR(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(V(314))}r!==null&&r.delete(t),zE(e,n)}var FE;FE=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ot.current)rt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return rt=!1,LR(e,t,n);rt=!!(e.flags&131072)}else rt=!1,be&&t.flags&1048576&&Ub(t,la,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Hs(e,t),e=t.pendingProps;var i=Zr(t,Ke.current);Wr(t,n),i=nm(null,t,r,e,i,n);var o=rm();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,st(r)?(o=!0,aa(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Qg(t),i.updater=Va,t.stateNode=i,i._reactInternals=t,Up(t,r,e,n),t=Yp(null,t,r,!0,o,n)):(t.tag=0,be&&o&&Vg(t),Qe(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Hs(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=XR(r),e=At(r,e),i){case 0:t=Wp(null,t,r,e,n);break e;case 1:t=ry(null,t,r,e,n);break e;case 11:t=ty(null,t,r,e,n);break e;case 14:t=ny(null,t,r,At(r.type,e),n);break e}throw Error(V(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:At(r,i),Wp(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:At(r,i),ry(e,t,r,i,n);case 3:e:{if(EE(t),e===null)throw Error(V(387));r=t.pendingProps,o=t.memoizedState,i=o.element,Qb(e,t),da(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=ni(Error(V(423)),t),t=iy(e,t,r,n,i);break e}else if(r!==i){i=ni(Error(V(424)),t),t=iy(e,t,r,n,i);break e}else for(ht=$n(t.stateNode.containerInfo.firstChild),pt=t,be=!0,Lt=null,n=Kb(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Jr(),r===i){t=vn(e,t,n);break e}Qe(e,t,r,n)}t=t.child}return t;case 5:return Zb(t),e===null&&Hp(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,qp(r,i)?s=null:o!==null&&qp(r,o)&&(t.flags|=32),bE(e,t),Qe(e,t,s,n),t.child;case 6:return e===null&&Hp(t),null;case 13:return CE(e,t,n);case 4:return Zg(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ei(t,null,r,n):Qe(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:At(r,i),ty(e,t,r,i,n);case 7:return Qe(e,t,t.pendingProps,n),t.child;case 8:return Qe(e,t,t.pendingProps.children,n),t.child;case 12:return Qe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,_e(ca,r._currentValue),r._currentValue=s,o!==null)if(Ft(o.value,s)){if(o.children===i.children&&!ot.current){t=vn(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(o.tag===1){u=hn(-1,n&-n),u.tag=2;var l=o.updateQueue;if(l!==null){l=l.shared;var c=l.pending;c===null?u.next=u:(u.next=c.next,c.next=u),l.pending=u}}o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),Bp(o.return,n,t),a.lanes|=n;break}u=u.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(V(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Bp(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Qe(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Wr(t,n),i=Ct(i),r=r(i),t.flags|=1,Qe(e,t,r,n),t.child;case 14:return r=t.type,i=At(r,t.pendingProps),i=At(r.type,i),ny(e,t,r,i,n);case 15:return wE(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:At(r,i),Hs(e,t),t.tag=1,st(r)?(e=!0,aa(t)):e=!1,Wr(t,n),yE(t,r,i),Up(t,r,i,n),Yp(null,t,r,!0,e,n);case 19:return NE(e,t,n);case 22:return SE(e,t,n)}throw Error(V(156,t.tag))};function HE(e,t){return gb(e,t)}function KR(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bt(e,t,n,r){return new KR(e,t,n,r)}function hm(e){return e=e.prototype,!(!e||!e.isReactComponent)}function XR(e){if(typeof e=="function")return hm(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ag)return 11;if(e===jg)return 14}return 2}function Bn(e,t){var n=e.alternate;return n===null?(n=bt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Us(e,t,n,r,i,o){var s=2;if(r=e,typeof e=="function")hm(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Tr:return ur(n.children,i,o,t);case Mg:s=8,i|=8;break;case gp:return e=bt(12,n,t,i|2),e.elementType=gp,e.lanes=o,e;case mp:return e=bt(13,n,t,i),e.elementType=mp,e.lanes=o,e;case vp:return e=bt(19,n,t,i),e.elementType=vp,e.lanes=o,e;case ZS:return Wa(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case XS:s=10;break e;case QS:s=9;break e;case Ag:s=11;break e;case jg:s=14;break e;case In:s=16,r=null;break e}throw Error(V(130,e==null?e:typeof e,""))}return t=bt(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function ur(e,t,n,r){return e=bt(7,e,r,t),e.lanes=n,e}function Wa(e,t,n,r){return e=bt(22,e,r,t),e.elementType=ZS,e.lanes=n,e.stateNode={isHidden:!1},e}function al(e,t,n){return e=bt(6,e,null,t),e.lanes=n,e}function ul(e,t,n){return t=bt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function QR(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hu(0),this.expirationTimes=Hu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hu(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function pm(e,t,n,r,i,o,s,a,u){return e=new QR(e,t,n,a,u),t===1?(t=1,o===!0&&(t|=8)):t=0,o=bt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qg(o),e}function ZR(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Rr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function BE(e){if(!e)return Wn;e=e._reactInternals;e:{if(wr(e)!==e||e.tag!==1)throw Error(V(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(st(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(V(171))}if(e.tag===1){var n=e.type;if(st(n))return Bb(e,n,t)}return t}function VE(e,t,n,r,i,o,s,a,u){return e=pm(n,r,!0,e,i,o,s,a,u),e.context=BE(null),n=e.current,r=Je(),i=Hn(n),o=hn(r,i),o.callback=t??null,zn(n,o,i),e.current.lanes=i,Ro(e,i,r),at(e,r),e}function Ya(e,t,n,r){var i=t.current,o=Je(),s=Hn(i);return n=BE(n),t.context===null?t.context=n:t.pendingContext=n,t=hn(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=zn(i,t,s),e!==null&&(zt(e,i,s,o),$s(e,i,s)),s}function _a(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function py(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function gm(e,t){py(e,t),(e=e.alternate)&&py(e,t)}function JR(){return null}var UE=typeof reportError=="function"?reportError:function(e){console.error(e)};function mm(e){this._internalRoot=e}Ka.prototype.render=mm.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(V(409));Ya(e,t,null,null)};Ka.prototype.unmount=mm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;gr(function(){Ya(null,e,null,null)}),t[gn]=null}};function Ka(e){this._internalRoot=e}Ka.prototype.unstable_scheduleHydration=function(e){if(e){var t=Sb();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Tn.length&&t!==0&&t<Tn[n].priority;n++);Tn.splice(n,0,e),n===0&&Eb(e)}};function vm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Xa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function gy(){}function eT(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var l=_a(s);o.call(l)}}var s=VE(t,r,e,0,null,!1,!1,"",gy);return e._reactRootContainer=s,e[gn]=s.current,lo(e.nodeType===8?e.parentNode:e),gr(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var l=_a(u);a.call(l)}}var u=pm(e,0,!1,null,null,!1,!1,"",gy);return e._reactRootContainer=u,e[gn]=u.current,lo(e.nodeType===8?e.parentNode:e),gr(function(){Ya(t,u,n,r)}),u}function Qa(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var u=_a(s);a.call(u)}}Ya(t,s,e,i)}else s=eT(n,t,e,i,r);return _a(s)}_b=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Pi(t.pendingLanes);n!==0&&(Og(t,n|1),at(t,Ae()),!(ve&6)&&(ri=Ae()+500,Qn()))}break;case 13:gr(function(){var r=mn(e,1);if(r!==null){var i=Je();zt(r,e,1,i)}}),gm(e,1)}};qg=function(e){if(e.tag===13){var t=mn(e,134217728);if(t!==null){var n=Je();zt(t,e,134217728,n)}gm(e,134217728)}};wb=function(e){if(e.tag===13){var t=Hn(e),n=mn(e,t);if(n!==null){var r=Je();zt(n,e,t,r)}gm(e,t)}};Sb=function(){return xe};bb=function(e,t){var n=xe;try{return xe=e,t()}finally{xe=n}};kp=function(e,t,n){switch(t){case"input":if(_p(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Fa(r);if(!i)throw Error(V(90));eb(r),_p(r,i)}}}break;case"textarea":nb(e,n);break;case"select":t=n.value,t!=null&&Br(e,!!n.multiple,t,!1)}};lb=cm;cb=gr;var tT={usingClientEntryPoint:!1,Events:[Mo,Pr,Fa,ab,ub,cm]},Ri={findFiberByHostInstance:nr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nT={bundleType:Ri.bundleType,version:Ri.version,rendererPackageName:Ri.rendererPackageName,rendererConfig:Ri.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_n.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=hb(e),e===null?null:e.stateNode},findFiberByHostInstance:Ri.findFiberByHostInstance||JR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ws=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ws.isDisabled&&ws.supportsFiber)try{qa=ws.inject(nT),Xt=ws}catch{}}vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tT;vt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vm(t))throw Error(V(200));return ZR(e,t,null,n)};vt.createRoot=function(e,t){if(!vm(e))throw Error(V(299));var n=!1,r="",i=UE;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=pm(e,1,!1,null,null,n,!1,r,i),e[gn]=t.current,lo(e.nodeType===8?e.parentNode:e),new mm(t)};vt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(V(188)):(e=Object.keys(e).join(","),Error(V(268,e)));return e=hb(t),e=e===null?null:e.stateNode,e};vt.flushSync=function(e){return gr(e)};vt.hydrate=function(e,t,n){if(!Xa(t))throw Error(V(200));return Qa(null,e,t,!0,n)};vt.hydrateRoot=function(e,t,n){if(!vm(e))throw Error(V(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=UE;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=VE(t,null,e,1,n??null,i,!1,o,s),e[gn]=t.current,lo(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Ka(t)};vt.render=function(e,t,n){if(!Xa(t))throw Error(V(200));return Qa(null,e,t,!1,n)};vt.unmountComponentAtNode=function(e){if(!Xa(e))throw Error(V(40));return e._reactRootContainer?(gr(function(){Qa(null,null,e,!1,function(){e._reactRootContainer=null,e[gn]=null})}),!0):!1};vt.unstable_batchedUpdates=cm;vt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xa(n))throw Error(V(200));if(e==null||e._reactInternals===void 0)throw Error(V(38));return Qa(e,t,n,!1,r)};vt.version="18.3.1-next-f1338f8080-20240426";function GE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(GE)}catch(e){console.error(e)}}GE(),GS.exports=vt;var rT=GS.exports,my=rT;hp.createRoot=my.createRoot,hp.hydrateRoot=my.hydrateRoot;function Pe(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=Pe(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var iT={value:()=>{}};function Za(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Gs(n)}function Gs(e){this._=e}function oT(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Gs.prototype=Za.prototype={constructor:Gs,on:function(e,t){var n=this._,r=oT(e+"",n),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(e=r[o]).type)&&(i=sT(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<s;)if(i=(e=r[o]).type)n[i]=vy(n[i],e.name,t);else if(t==null)for(i in n)n[i]=vy(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Gs(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function sT(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function vy(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=iT,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var sg="http://www.w3.org/1999/xhtml";const yy={svg:"http://www.w3.org/2000/svg",xhtml:sg,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ja(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),yy.hasOwnProperty(t)?{space:yy[t],local:e}:e}function aT(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===sg&&t.documentElement.namespaceURI===sg?t.createElement(e):t.createElementNS(n,e)}}function uT(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function WE(e){var t=Ja(e);return(t.local?uT:aT)(t)}function lT(){}function ym(e){return e==null?lT:function(){return this.querySelector(e)}}function cT(e){typeof e!="function"&&(e=ym(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=new Array(s),u,l,c=0;c<s;++c)(u=o[c])&&(l=e.call(u,u.__data__,c,o))&&("__data__"in u&&(l.__data__=u.__data__),a[c]=l);return new mt(r,this._parents)}function fT(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function dT(){return[]}function YE(e){return e==null?dT:function(){return this.querySelectorAll(e)}}function hT(e){return function(){return fT(e.apply(this,arguments))}}function pT(e){typeof e=="function"?e=hT(e):e=YE(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var s=t[o],a=s.length,u,l=0;l<a;++l)(u=s[l])&&(r.push(e.call(u,u.__data__,l,s)),i.push(u));return new mt(r,i)}function KE(e){return function(){return this.matches(e)}}function XE(e){return function(t){return t.matches(e)}}var gT=Array.prototype.find;function mT(e){return function(){return gT.call(this.children,e)}}function vT(){return this.firstElementChild}function yT(e){return this.select(e==null?vT:mT(typeof e=="function"?e:XE(e)))}var xT=Array.prototype.filter;function _T(){return Array.from(this.children)}function wT(e){return function(){return xT.call(this.children,e)}}function ST(e){return this.selectAll(e==null?_T:wT(typeof e=="function"?e:XE(e)))}function bT(e){typeof e!="function"&&(e=KE(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=[],u,l=0;l<s;++l)(u=o[l])&&e.call(u,u.__data__,l,o)&&a.push(u);return new mt(r,this._parents)}function QE(e){return new Array(e.length)}function ET(){return new mt(this._enter||this._groups.map(QE),this._parents)}function wa(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}wa.prototype={constructor:wa,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function CT(e){return function(){return e}}function NT(e,t,n,r,i,o){for(var s=0,a,u=t.length,l=o.length;s<l;++s)(a=t[s])?(a.__data__=o[s],r[s]=a):n[s]=new wa(e,o[s]);for(;s<u;++s)(a=t[s])&&(i[s]=a)}function kT(e,t,n,r,i,o,s){var a,u,l=new Map,c=t.length,f=o.length,d=new Array(c),p;for(a=0;a<c;++a)(u=t[a])&&(d[a]=p=s.call(u,u.__data__,a,t)+"",l.has(p)?i[a]=u:l.set(p,u));for(a=0;a<f;++a)p=s.call(e,o[a],a,o)+"",(u=l.get(p))?(r[a]=u,u.__data__=o[a],l.delete(p)):n[a]=new wa(e,o[a]);for(a=0;a<c;++a)(u=t[a])&&l.get(d[a])===u&&(i[a]=u)}function IT(e){return e.__data__}function RT(e,t){if(!arguments.length)return Array.from(this,IT);var n=t?kT:NT,r=this._parents,i=this._groups;typeof e!="function"&&(e=CT(e));for(var o=i.length,s=new Array(o),a=new Array(o),u=new Array(o),l=0;l<o;++l){var c=r[l],f=i[l],d=f.length,p=TT(e.call(c,c&&c.__data__,l,r)),h=p.length,x=a[l]=new Array(h),w=s[l]=new Array(h),m=u[l]=new Array(d);n(c,f,x,w,m,p,t);for(var y=0,v=0,_,E;y<h;++y)if(_=x[y]){for(y>=v&&(v=y+1);!(E=w[v])&&++v<h;);_._next=E||null}}return s=new mt(s,r),s._enter=a,s._exit=u,s}function TT(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function MT(){return new mt(this._exit||this._groups.map(QE),this._parents)}function AT(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function jT(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,s=Math.min(i,o),a=new Array(i),u=0;u<s;++u)for(var l=n[u],c=r[u],f=l.length,d=a[u]=new Array(f),p,h=0;h<f;++h)(p=l[h]||c[h])&&(d[h]=p);for(;u<i;++u)a[u]=n[u];return new mt(a,this._parents)}function PT(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,o=r[i],s;--i>=0;)(s=r[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function LT(e){e||(e=OT);function t(f,d){return f&&d?e(f.__data__,d.__data__):!f-!d}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s=n[o],a=s.length,u=i[o]=new Array(a),l,c=0;c<a;++c)(l=s[c])&&(u[c]=l);u.sort(t)}return new mt(i,this._parents).order()}function OT(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function qT(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function DT(){return Array.from(this)}function $T(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}function zT(){let e=0;for(const t of this)++e;return e}function FT(){return!this.node()}function HT(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,s=i.length,a;o<s;++o)(a=i[o])&&e.call(a,a.__data__,o,i);return this}function BT(e){return function(){this.removeAttribute(e)}}function VT(e){return function(){this.removeAttributeNS(e.space,e.local)}}function UT(e,t){return function(){this.setAttribute(e,t)}}function GT(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function WT(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function YT(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function KT(e,t){var n=Ja(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?VT:BT:typeof t=="function"?n.local?YT:WT:n.local?GT:UT)(n,t))}function ZE(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function XT(e){return function(){this.style.removeProperty(e)}}function QT(e,t,n){return function(){this.style.setProperty(e,t,n)}}function ZT(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function JT(e,t,n){return arguments.length>1?this.each((t==null?XT:typeof t=="function"?ZT:QT)(e,t,n??"")):ii(this.node(),e)}function ii(e,t){return e.style.getPropertyValue(t)||ZE(e).getComputedStyle(e,null).getPropertyValue(t)}function eM(e){return function(){delete this[e]}}function tM(e,t){return function(){this[e]=t}}function nM(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function rM(e,t){return arguments.length>1?this.each((t==null?eM:typeof t=="function"?nM:tM)(e,t)):this.node()[e]}function JE(e){return e.trim().split(/^|\s+/)}function xm(e){return e.classList||new eC(e)}function eC(e){this._node=e,this._names=JE(e.getAttribute("class")||"")}eC.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function tC(e,t){for(var n=xm(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function nC(e,t){for(var n=xm(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function iM(e){return function(){tC(this,e)}}function oM(e){return function(){nC(this,e)}}function sM(e,t){return function(){(t.apply(this,arguments)?tC:nC)(this,e)}}function aM(e,t){var n=JE(e+"");if(arguments.length<2){for(var r=xm(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?sM:t?iM:oM)(n,t))}function uM(){this.textContent=""}function lM(e){return function(){this.textContent=e}}function cM(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function fM(e){return arguments.length?this.each(e==null?uM:(typeof e=="function"?cM:lM)(e)):this.node().textContent}function dM(){this.innerHTML=""}function hM(e){return function(){this.innerHTML=e}}function pM(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function gM(e){return arguments.length?this.each(e==null?dM:(typeof e=="function"?pM:hM)(e)):this.node().innerHTML}function mM(){this.nextSibling&&this.parentNode.appendChild(this)}function vM(){return this.each(mM)}function yM(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function xM(){return this.each(yM)}function _M(e){var t=typeof e=="function"?e:WE(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function wM(){return null}function SM(e,t){var n=typeof e=="function"?e:WE(e),r=t==null?wM:typeof t=="function"?t:ym(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function bM(){var e=this.parentNode;e&&e.removeChild(this)}function EM(){return this.each(bM)}function CM(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function NM(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function kM(e){return this.select(e?NM:CM)}function IM(e){return arguments.length?this.property("__data__",e):this.node().__data__}function RM(e){return function(t){e.call(this,t,this.__data__)}}function TM(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function MM(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,o;n<i;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function AM(e,t,n){return function(){var r=this.__on,i,o=RM(t);if(r){for(var s=0,a=r.length;s<a;++s)if((i=r[s]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function jM(e,t,n){var r=TM(e+""),i,o=r.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var u=0,l=a.length,c;u<l;++u)for(i=0,c=a[u];i<o;++i)if((s=r[i]).type===c.type&&s.name===c.name)return c.value}return}for(a=t?AM:MM,i=0;i<o;++i)this.each(a(r[i],t,n));return this}function rC(e,t,n){var r=ZE(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function PM(e,t){return function(){return rC(this,e,t)}}function LM(e,t){return function(){return rC(this,e,t.apply(this,arguments))}}function OM(e,t){return this.each((typeof t=="function"?LM:PM)(e,t))}function*qM(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length,s;i<o;++i)(s=r[i])&&(yield s)}var iC=[null];function mt(e,t){this._groups=e,this._parents=t}function jo(){return new mt([[document.documentElement]],iC)}function DM(){return this}mt.prototype=jo.prototype={constructor:mt,select:cT,selectAll:pT,selectChild:yT,selectChildren:ST,filter:bT,data:RT,enter:ET,exit:MT,join:AT,merge:jT,selection:DM,order:PT,sort:LT,call:qT,nodes:DT,node:$T,size:zT,empty:FT,each:HT,attr:KT,style:JT,property:rM,classed:aM,text:fM,html:gM,raise:vM,lower:xM,append:_M,insert:SM,remove:EM,clone:kM,datum:IM,on:jM,dispatch:OM,[Symbol.iterator]:qM};function dt(e){return typeof e=="string"?new mt([[document.querySelector(e)]],[document.documentElement]):new mt([[e]],iC)}function $M(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Pt(e,t){if(e=$M(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const zM={passive:!1},xo={capture:!0,passive:!1};function ll(e){e.stopImmediatePropagation()}function Kr(e){e.preventDefault(),e.stopImmediatePropagation()}function oC(e){var t=e.document.documentElement,n=dt(e).on("dragstart.drag",Kr,xo);"onselectstart"in t?n.on("selectstart.drag",Kr,xo):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function sC(e,t){var n=e.document.documentElement,r=dt(e).on("dragstart.drag",null);t&&(r.on("click.drag",Kr,xo),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Ss=e=>()=>e;function ag(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:o,x:s,y:a,dx:u,dy:l,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:l,enumerable:!0,configurable:!0},_:{value:c}})}ag.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function FM(e){return!e.ctrlKey&&!e.button}function HM(){return this.parentNode}function BM(e,t){return t??{x:e.x,y:e.y}}function VM(){return navigator.maxTouchPoints||"ontouchstart"in this}function aC(){var e=FM,t=HM,n=BM,r=VM,i={},o=Za("start","drag","end"),s=0,a,u,l,c,f=0;function d(_){_.on("mousedown.drag",p).filter(r).on("touchstart.drag",w).on("touchmove.drag",m,zM).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(_,E){if(!(c||!e.call(this,_,E))){var S=v(this,t.call(this,_,E),_,E,"mouse");S&&(dt(_.view).on("mousemove.drag",h,xo).on("mouseup.drag",x,xo),oC(_.view),ll(_),l=!1,a=_.clientX,u=_.clientY,S("start",_))}}function h(_){if(Kr(_),!l){var E=_.clientX-a,S=_.clientY-u;l=E*E+S*S>f}i.mouse("drag",_)}function x(_){dt(_.view).on("mousemove.drag mouseup.drag",null),sC(_.view,l),Kr(_),i.mouse("end",_)}function w(_,E){if(e.call(this,_,E)){var S=_.changedTouches,b=t.call(this,_,E),k=S.length,T,O;for(T=0;T<k;++T)(O=v(this,b,_,E,S[T].identifier,S[T]))&&(ll(_),O("start",_,S[T]))}}function m(_){var E=_.changedTouches,S=E.length,b,k;for(b=0;b<S;++b)(k=i[E[b].identifier])&&(Kr(_),k("drag",_,E[b]))}function y(_){var E=_.changedTouches,S=E.length,b,k;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),b=0;b<S;++b)(k=i[E[b].identifier])&&(ll(_),k("end",_,E[b]))}function v(_,E,S,b,k,T){var O=o.copy(),R=Pt(T||S,E),j,$,C;if((C=n.call(_,new ag("beforestart",{sourceEvent:S,target:d,identifier:k,active:s,x:R[0],y:R[1],dx:0,dy:0,dispatch:O}),b))!=null)return j=C.x-R[0]||0,$=C.y-R[1]||0,function L(A,D,N){var I=R,P;switch(A){case"start":i[k]=L,P=s++;break;case"end":delete i[k],--s;case"drag":R=Pt(N||D,E),P=s;break}O.call(A,_,new ag(A,{sourceEvent:D,subject:C,target:d,identifier:k,active:P,x:R[0]+j,y:R[1]+$,dx:R[0]-I[0],dy:R[1]-I[1],dispatch:O}),b)}}return d.filter=function(_){return arguments.length?(e=typeof _=="function"?_:Ss(!!_),d):e},d.container=function(_){return arguments.length?(t=typeof _=="function"?_:Ss(_),d):t},d.subject=function(_){return arguments.length?(n=typeof _=="function"?_:Ss(_),d):n},d.touchable=function(_){return arguments.length?(r=typeof _=="function"?_:Ss(!!_),d):r},d.on=function(){var _=o.on.apply(o,arguments);return _===o?d:_},d.clickDistance=function(_){return arguments.length?(f=(_=+_)*_,d):Math.sqrt(f)},d}function _m(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function uC(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Po(){}var _o=.7,Sa=1/_o,Xr="\\s*([+-]?\\d+)\\s*",wo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Zt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",UM=/^#([0-9a-f]{3,8})$/,GM=new RegExp(`^rgb\\(${Xr},${Xr},${Xr}\\)$`),WM=new RegExp(`^rgb\\(${Zt},${Zt},${Zt}\\)$`),YM=new RegExp(`^rgba\\(${Xr},${Xr},${Xr},${wo}\\)$`),KM=new RegExp(`^rgba\\(${Zt},${Zt},${Zt},${wo}\\)$`),XM=new RegExp(`^hsl\\(${wo},${Zt},${Zt}\\)$`),QM=new RegExp(`^hsla\\(${wo},${Zt},${Zt},${wo}\\)$`),xy={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};_m(Po,mr,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:_y,formatHex:_y,formatHex8:ZM,formatHsl:JM,formatRgb:wy,toString:wy});function _y(){return this.rgb().formatHex()}function ZM(){return this.rgb().formatHex8()}function JM(){return lC(this).formatHsl()}function wy(){return this.rgb().formatRgb()}function mr(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=UM.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Sy(t):n===3?new it(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?bs(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?bs(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=GM.exec(e))?new it(t[1],t[2],t[3],1):(t=WM.exec(e))?new it(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=YM.exec(e))?bs(t[1],t[2],t[3],t[4]):(t=KM.exec(e))?bs(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=XM.exec(e))?Cy(t[1],t[2]/100,t[3]/100,1):(t=QM.exec(e))?Cy(t[1],t[2]/100,t[3]/100,t[4]):xy.hasOwnProperty(e)?Sy(xy[e]):e==="transparent"?new it(NaN,NaN,NaN,0):null}function Sy(e){return new it(e>>16&255,e>>8&255,e&255,1)}function bs(e,t,n,r){return r<=0&&(e=t=n=NaN),new it(e,t,n,r)}function eA(e){return e instanceof Po||(e=mr(e)),e?(e=e.rgb(),new it(e.r,e.g,e.b,e.opacity)):new it}function ug(e,t,n,r){return arguments.length===1?eA(e):new it(e,t,n,r??1)}function it(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}_m(it,ug,uC(Po,{brighter(e){return e=e==null?Sa:Math.pow(Sa,e),new it(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?_o:Math.pow(_o,e),new it(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new it(lr(this.r),lr(this.g),lr(this.b),ba(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:by,formatHex:by,formatHex8:tA,formatRgb:Ey,toString:Ey}));function by(){return`#${or(this.r)}${or(this.g)}${or(this.b)}`}function tA(){return`#${or(this.r)}${or(this.g)}${or(this.b)}${or((isNaN(this.opacity)?1:this.opacity)*255)}`}function Ey(){const e=ba(this.opacity);return`${e===1?"rgb(":"rgba("}${lr(this.r)}, ${lr(this.g)}, ${lr(this.b)}${e===1?")":`, ${e})`}`}function ba(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function lr(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function or(e){return e=lr(e),(e<16?"0":"")+e.toString(16)}function Cy(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ot(e,t,n,r)}function lC(e){if(e instanceof Ot)return new Ot(e.h,e.s,e.l,e.opacity);if(e instanceof Po||(e=mr(e)),!e)return new Ot;if(e instanceof Ot)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,a=o-i,u=(o+i)/2;return a?(t===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-t)/a+2:s=(t-n)/a+4,a/=u<.5?o+i:2-o-i,s*=60):a=u>0&&u<1?0:s,new Ot(s,a,u,e.opacity)}function nA(e,t,n,r){return arguments.length===1?lC(e):new Ot(e,t,n,r??1)}function Ot(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}_m(Ot,nA,uC(Po,{brighter(e){return e=e==null?Sa:Math.pow(Sa,e),new Ot(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?_o:Math.pow(_o,e),new Ot(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new it(cl(e>=240?e-240:e+120,i,r),cl(e,i,r),cl(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Ot(Ny(this.h),Es(this.s),Es(this.l),ba(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ba(this.opacity);return`${e===1?"hsl(":"hsla("}${Ny(this.h)}, ${Es(this.s)*100}%, ${Es(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Ny(e){return e=(e||0)%360,e<0?e+360:e}function Es(e){return Math.max(0,Math.min(1,e||0))}function cl(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const wm=e=>()=>e;function rA(e,t){return function(n){return e+n*t}}function iA(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function oA(e){return(e=+e)==1?cC:function(t,n){return n-t?iA(t,n,e):wm(isNaN(t)?n:t)}}function cC(e,t){var n=t-e;return n?rA(e,n):wm(isNaN(e)?t:e)}const Ea=function e(t){var n=oA(t);function r(i,o){var s=n((i=ug(i)).r,(o=ug(o)).r),a=n(i.g,o.g),u=n(i.b,o.b),l=cC(i.opacity,o.opacity);return function(c){return i.r=s(c),i.g=a(c),i.b=u(c),i.opacity=l(c),i+""}}return r.gamma=e,r}(1);function sA(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function aA(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function uA(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=Ji(e[s],t[s]);for(;s<n;++s)o[s]=t[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function lA(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Wt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function cA(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Ji(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var lg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fl=new RegExp(lg.source,"g");function fA(e){return function(){return e}}function dA(e){return function(t){return e(t)+""}}function fC(e,t){var n=lg.lastIndex=fl.lastIndex=0,r,i,o,s=-1,a=[],u=[];for(e=e+"",t=t+"";(r=lg.exec(e))&&(i=fl.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,u.push({i:s,x:Wt(r,i)})),n=fl.lastIndex;return n<t.length&&(o=t.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?u[0]?dA(u[0].x):fA(t):(t=u.length,function(l){for(var c=0,f;c<t;++c)a[(f=u[c]).i]=f.x(l);return a.join("")})}function Ji(e,t){var n=typeof t,r;return t==null||n==="boolean"?wm(t):(n==="number"?Wt:n==="string"?(r=mr(t))?(t=r,Ea):fC:t instanceof mr?Ea:t instanceof Date?lA:aA(t)?sA:Array.isArray(t)?uA:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?cA:Wt)(e,t)}var ky=180/Math.PI,cg={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function dC(e,t,n,r,i,o){var s,a,u;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(u=e*n+t*r)&&(n-=e*u,r-=t*u),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,u/=a),e*r<t*n&&(e=-e,t=-t,u=-u,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*ky,skewX:Math.atan(u)*ky,scaleX:s,scaleY:a}}var Cs;function hA(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?cg:dC(t.a,t.b,t.c,t.d,t.e,t.f)}function pA(e){return e==null||(Cs||(Cs=document.createElementNS("http://www.w3.org/2000/svg","g")),Cs.setAttribute("transform",e),!(e=Cs.transform.baseVal.consolidate()))?cg:(e=e.matrix,dC(e.a,e.b,e.c,e.d,e.e,e.f))}function hC(e,t,n,r){function i(l){return l.length?l.pop()+" ":""}function o(l,c,f,d,p,h){if(l!==f||c!==d){var x=p.push("translate(",null,t,null,n);h.push({i:x-4,x:Wt(l,f)},{i:x-2,x:Wt(c,d)})}else(f||d)&&p.push("translate("+f+t+d+n)}function s(l,c,f,d){l!==c?(l-c>180?c+=360:c-l>180&&(l+=360),d.push({i:f.push(i(f)+"rotate(",null,r)-2,x:Wt(l,c)})):c&&f.push(i(f)+"rotate("+c+r)}function a(l,c,f,d){l!==c?d.push({i:f.push(i(f)+"skewX(",null,r)-2,x:Wt(l,c)}):c&&f.push(i(f)+"skewX("+c+r)}function u(l,c,f,d,p,h){if(l!==f||c!==d){var x=p.push(i(p)+"scale(",null,",",null,")");h.push({i:x-4,x:Wt(l,f)},{i:x-2,x:Wt(c,d)})}else(f!==1||d!==1)&&p.push(i(p)+"scale("+f+","+d+")")}return function(l,c){var f=[],d=[];return l=e(l),c=e(c),o(l.translateX,l.translateY,c.translateX,c.translateY,f,d),s(l.rotate,c.rotate,f,d),a(l.skewX,c.skewX,f,d),u(l.scaleX,l.scaleY,c.scaleX,c.scaleY,f,d),l=c=null,function(p){for(var h=-1,x=d.length,w;++h<x;)f[(w=d[h]).i]=w.x(p);return f.join("")}}}var gA=hC(hA,"px, ","px)","deg)"),mA=hC(pA,", ",")",")"),vA=1e-12;function Iy(e){return((e=Math.exp(e))+1/e)/2}function yA(e){return((e=Math.exp(e))-1/e)/2}function xA(e){return((e=Math.exp(2*e))-1)/(e+1)}const Ws=function e(t,n,r){function i(o,s){var a=o[0],u=o[1],l=o[2],c=s[0],f=s[1],d=s[2],p=c-a,h=f-u,x=p*p+h*h,w,m;if(x<vA)m=Math.log(d/l)/t,w=function(b){return[a+b*p,u+b*h,l*Math.exp(t*b*m)]};else{var y=Math.sqrt(x),v=(d*d-l*l+r*x)/(2*l*n*y),_=(d*d-l*l-r*x)/(2*d*n*y),E=Math.log(Math.sqrt(v*v+1)-v),S=Math.log(Math.sqrt(_*_+1)-_);m=(S-E)/t,w=function(b){var k=b*m,T=Iy(E),O=l/(n*y)*(T*xA(t*k+E)-yA(E));return[a+O*p,u+O*h,l*T/Iy(t*k+E)]}}return w.duration=m*1e3*t/Math.SQRT2,w}return i.rho=function(o){var s=Math.max(.001,+o),a=s*s,u=a*a;return e(s,a,u)},i}(Math.SQRT2,2,4);var oi=0,Oi=0,Ti=0,pC=1e3,Ca,qi,Na=0,vr=0,eu=0,So=typeof performance=="object"&&performance.now?performance:Date,gC=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Sm(){return vr||(gC(_A),vr=So.now()+eu)}function _A(){vr=0}function ka(){this._call=this._time=this._next=null}ka.prototype=mC.prototype={constructor:ka,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Sm():+n)+(t==null?0:+t),!this._next&&qi!==this&&(qi?qi._next=this:Ca=this,qi=this),this._call=e,this._time=n,fg()},stop:function(){this._call&&(this._call=null,this._time=1/0,fg())}};function mC(e,t,n){var r=new ka;return r.restart(e,t,n),r}function wA(){Sm(),++oi;for(var e=Ca,t;e;)(t=vr-e._time)>=0&&e._call.call(void 0,t),e=e._next;--oi}function Ry(){vr=(Na=So.now())+eu,oi=Oi=0;try{wA()}finally{oi=0,bA(),vr=0}}function SA(){var e=So.now(),t=e-Na;t>pC&&(eu-=t,Na=e)}function bA(){for(var e,t=Ca,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Ca=n);qi=e,fg(r)}function fg(e){if(!oi){Oi&&(Oi=clearTimeout(Oi));var t=e-vr;t>24?(e<1/0&&(Oi=setTimeout(Ry,e-So.now()-eu)),Ti&&(Ti=clearInterval(Ti))):(Ti||(Na=So.now(),Ti=setInterval(SA,pC)),oi=1,gC(Ry))}}function Ty(e,t,n){var r=new ka;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var EA=Za("start","end","cancel","interrupt"),CA=[],vC=0,My=1,dg=2,Ys=3,Ay=4,hg=5,Ks=6;function tu(e,t,n,r,i,o){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;NA(e,n,{name:t,index:r,group:i,on:EA,tween:CA,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:vC})}function bm(e,t){var n=Ht(e,t);if(n.state>vC)throw new Error("too late; already scheduled");return n}function en(e,t){var n=Ht(e,t);if(n.state>Ys)throw new Error("too late; already running");return n}function Ht(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function NA(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=mC(o,0,n.time);function o(l){n.state=My,n.timer.restart(s,n.delay,n.time),n.delay<=l&&s(l-n.delay)}function s(l){var c,f,d,p;if(n.state!==My)return u();for(c in r)if(p=r[c],p.name===n.name){if(p.state===Ys)return Ty(s);p.state===Ay?(p.state=Ks,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete r[c]):+c<t&&(p.state=Ks,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete r[c])}if(Ty(function(){n.state===Ys&&(n.state=Ay,n.timer.restart(a,n.delay,n.time),a(l))}),n.state=dg,n.on.call("start",e,e.__data__,n.index,n.group),n.state===dg){for(n.state=Ys,i=new Array(d=n.tween.length),c=0,f=-1;c<d;++c)(p=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(i[++f]=p);i.length=f+1}}function a(l){for(var c=l<n.duration?n.ease.call(null,l/n.duration):(n.timer.restart(u),n.state=hg,1),f=-1,d=i.length;++f<d;)i[f].call(e,c);n.state===hg&&(n.on.call("end",e,e.__data__,n.index,n.group),u())}function u(){n.state=Ks,n.timer.stop(),delete r[t];for(var l in r)return;delete e.__transition}}function Xs(e,t){var n=e.__transition,r,i,o=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){o=!1;continue}i=r.state>dg&&r.state<hg,r.state=Ks,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}o&&delete e.__transition}}function kA(e){return this.each(function(){Xs(this,e)})}function IA(e,t){var n,r;return function(){var i=en(this,e),o=i.tween;if(o!==n){r=n=o;for(var s=0,a=r.length;s<a;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function RA(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=en(this,e),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:t,value:n},u=0,l=i.length;u<l;++u)if(i[u].name===t){i[u]=a;break}u===l&&i.push(a)}o.tween=i}}function TA(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Ht(this.node(),n).tween,i=0,o=r.length,s;i<o;++i)if((s=r[i]).name===e)return s.value;return null}return this.each((t==null?IA:RA)(n,e,t))}function Em(e,t,n){var r=e._id;return e.each(function(){var i=en(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return Ht(i,r).value[t]}}function yC(e,t){var n;return(typeof t=="number"?Wt:t instanceof mr?Ea:(n=mr(t))?(t=n,Ea):fC)(e,t)}function MA(e){return function(){this.removeAttribute(e)}}function AA(e){return function(){this.removeAttributeNS(e.space,e.local)}}function jA(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttribute(e);return s===i?null:s===r?o:o=t(r=s,n)}}function PA(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttributeNS(e.space,e.local);return s===i?null:s===r?o:o=t(r=s,n)}}function LA(e,t,n){var r,i,o;return function(){var s,a=n(this),u;return a==null?void this.removeAttribute(e):(s=this.getAttribute(e),u=a+"",s===u?null:s===r&&u===i?o:(i=u,o=t(r=s,a)))}}function OA(e,t,n){var r,i,o;return function(){var s,a=n(this),u;return a==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),u=a+"",s===u?null:s===r&&u===i?o:(i=u,o=t(r=s,a)))}}function qA(e,t){var n=Ja(e),r=n==="transform"?mA:yC;return this.attrTween(e,typeof t=="function"?(n.local?OA:LA)(n,r,Em(this,"attr."+e,t)):t==null?(n.local?AA:MA)(n):(n.local?PA:jA)(n,r,t))}function DA(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function $A(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function zA(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&$A(e,o)),n}return i._value=t,i}function FA(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&DA(e,o)),n}return i._value=t,i}function HA(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Ja(e);return this.tween(n,(r.local?zA:FA)(r,t))}function BA(e,t){return function(){bm(this,e).delay=+t.apply(this,arguments)}}function VA(e,t){return t=+t,function(){bm(this,e).delay=t}}function UA(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?BA:VA)(t,e)):Ht(this.node(),t).delay}function GA(e,t){return function(){en(this,e).duration=+t.apply(this,arguments)}}function WA(e,t){return t=+t,function(){en(this,e).duration=t}}function YA(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?GA:WA)(t,e)):Ht(this.node(),t).duration}function KA(e,t){if(typeof t!="function")throw new Error;return function(){en(this,e).ease=t}}function XA(e){var t=this._id;return arguments.length?this.each(KA(t,e)):Ht(this.node(),t).ease}function QA(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;en(this,e).ease=n}}function ZA(e){if(typeof e!="function")throw new Error;return this.each(QA(this._id,e))}function JA(e){typeof e!="function"&&(e=KE(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=[],u,l=0;l<s;++l)(u=o[l])&&e.call(u,u.__data__,l,o)&&a.push(u);return new yn(r,this._parents,this._name,this._id)}function ej(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),s=new Array(r),a=0;a<o;++a)for(var u=t[a],l=n[a],c=u.length,f=s[a]=new Array(c),d,p=0;p<c;++p)(d=u[p]||l[p])&&(f[p]=d);for(;a<r;++a)s[a]=t[a];return new yn(s,this._parents,this._name,this._id)}function tj(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function nj(e,t,n){var r,i,o=tj(t)?bm:en;return function(){var s=o(this,e),a=s.on;a!==r&&(i=(r=a).copy()).on(t,n),s.on=i}}function rj(e,t){var n=this._id;return arguments.length<2?Ht(this.node(),n).on.on(e):this.each(nj(n,e,t))}function ij(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function oj(){return this.on("end.remove",ij(this._id))}function sj(e){var t=this._name,n=this._id;typeof e!="function"&&(e=ym(e));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var a=r[s],u=a.length,l=o[s]=new Array(u),c,f,d=0;d<u;++d)(c=a[d])&&(f=e.call(c,c.__data__,d,a))&&("__data__"in c&&(f.__data__=c.__data__),l[d]=f,tu(l[d],t,n,d,l,Ht(c,n)));return new yn(o,this._parents,t,n)}function aj(e){var t=this._name,n=this._id;typeof e!="function"&&(e=YE(e));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var u=r[a],l=u.length,c,f=0;f<l;++f)if(c=u[f]){for(var d=e.call(c,c.__data__,f,u),p,h=Ht(c,n),x=0,w=d.length;x<w;++x)(p=d[x])&&tu(p,t,n,x,d,h);o.push(d),s.push(c)}return new yn(o,s,t,n)}var uj=jo.prototype.constructor;function lj(){return new uj(this._groups,this._parents)}function cj(e,t){var n,r,i;return function(){var o=ii(this,e),s=(this.style.removeProperty(e),ii(this,e));return o===s?null:o===n&&s===r?i:i=t(n=o,r=s)}}function xC(e){return function(){this.style.removeProperty(e)}}function fj(e,t,n){var r,i=n+"",o;return function(){var s=ii(this,e);return s===i?null:s===r?o:o=t(r=s,n)}}function dj(e,t,n){var r,i,o;return function(){var s=ii(this,e),a=n(this),u=a+"";return a==null&&(u=a=(this.style.removeProperty(e),ii(this,e))),s===u?null:s===r&&u===i?o:(i=u,o=t(r=s,a))}}function hj(e,t){var n,r,i,o="style."+t,s="end."+o,a;return function(){var u=en(this,e),l=u.on,c=u.value[o]==null?a||(a=xC(t)):void 0;(l!==n||i!==c)&&(r=(n=l).copy()).on(s,i=c),u.on=r}}function pj(e,t,n){var r=(e+="")=="transform"?gA:yC;return t==null?this.styleTween(e,cj(e,r)).on("end.style."+e,xC(e)):typeof t=="function"?this.styleTween(e,dj(e,r,Em(this,"style."+e,t))).each(hj(this._id,e)):this.styleTween(e,fj(e,r,t),n).on("end.style."+e,null)}function gj(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function mj(e,t,n){var r,i;function o(){var s=t.apply(this,arguments);return s!==i&&(r=(i=s)&&gj(e,s,n)),r}return o._value=t,o}function vj(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,mj(e,t,n??""))}function yj(e){return function(){this.textContent=e}}function xj(e){return function(){var t=e(this);this.textContent=t??""}}function _j(e){return this.tween("text",typeof e=="function"?xj(Em(this,"text",e)):yj(e==null?"":e+""))}function wj(e){return function(t){this.textContent=e.call(this,t)}}function Sj(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&wj(i)),t}return r._value=e,r}function bj(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Sj(e))}function Ej(){for(var e=this._name,t=this._id,n=_C(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,u,l=0;l<a;++l)if(u=s[l]){var c=Ht(u,t);tu(u,e,n,l,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new yn(r,this._parents,e,n)}function Cj(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var a={value:s},u={value:function(){--i===0&&o()}};n.each(function(){var l=en(this,r),c=l.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(u)),l.on=t}),i===0&&o()})}var Nj=0;function yn(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function _C(){return++Nj}var nn=jo.prototype;yn.prototype={constructor:yn,select:sj,selectAll:aj,selectChild:nn.selectChild,selectChildren:nn.selectChildren,filter:JA,merge:ej,selection:lj,transition:Ej,call:nn.call,nodes:nn.nodes,node:nn.node,size:nn.size,empty:nn.empty,each:nn.each,on:rj,attr:qA,attrTween:HA,style:pj,styleTween:vj,text:_j,textTween:bj,remove:oj,tween:TA,delay:UA,duration:YA,ease:XA,easeVarying:ZA,end:Cj,[Symbol.iterator]:nn[Symbol.iterator]};function kj(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Ij={time:null,delay:0,duration:250,ease:kj};function Rj(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function Tj(e){var t,n;e instanceof yn?(t=e._id,e=e._name):(t=_C(),(n=Ij).time=Sm(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,u,l=0;l<a;++l)(u=s[l])&&tu(u,e,t,l,s,n||Rj(u,t));return new yn(r,this._parents,e,t)}jo.prototype.interrupt=kA;jo.prototype.transition=Tj;const Ns=e=>()=>e;function Mj(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function cn(e,t,n){this.k=e,this.x=t,this.y=n}cn.prototype={constructor:cn,scale:function(e){return e===1?this:new cn(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new cn(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var nu=new cn(1,0,0);wC.prototype=cn.prototype;function wC(e){for(;!e.__zoom;)if(!(e=e.parentNode))return nu;return e.__zoom}function dl(e){e.stopImmediatePropagation()}function Mi(e){e.preventDefault(),e.stopImmediatePropagation()}function Aj(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function jj(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function jy(){return this.__zoom||nu}function Pj(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Lj(){return navigator.maxTouchPoints||"ontouchstart"in this}function Oj(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}function SC(){var e=Aj,t=jj,n=Oj,r=Pj,i=Lj,o=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],a=250,u=Ws,l=Za("start","zoom","end"),c,f,d,p=500,h=150,x=0,w=10;function m(C){C.property("__zoom",jy).on("wheel.zoom",k,{passive:!1}).on("mousedown.zoom",T).on("dblclick.zoom",O).filter(i).on("touchstart.zoom",R).on("touchmove.zoom",j).on("touchend.zoom touchcancel.zoom",$).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}m.transform=function(C,L,A,D){var N=C.selection?C.selection():C;N.property("__zoom",jy),C!==N?E(C,L,A,D):N.interrupt().each(function(){S(this,arguments).event(D).start().zoom(null,typeof L=="function"?L.apply(this,arguments):L).end()})},m.scaleBy=function(C,L,A,D){m.scaleTo(C,function(){var N=this.__zoom.k,I=typeof L=="function"?L.apply(this,arguments):L;return N*I},A,D)},m.scaleTo=function(C,L,A,D){m.transform(C,function(){var N=t.apply(this,arguments),I=this.__zoom,P=A==null?_(N):typeof A=="function"?A.apply(this,arguments):A,F=I.invert(P),H=typeof L=="function"?L.apply(this,arguments):L;return n(v(y(I,H),P,F),N,s)},A,D)},m.translateBy=function(C,L,A,D){m.transform(C,function(){return n(this.__zoom.translate(typeof L=="function"?L.apply(this,arguments):L,typeof A=="function"?A.apply(this,arguments):A),t.apply(this,arguments),s)},null,D)},m.translateTo=function(C,L,A,D,N){m.transform(C,function(){var I=t.apply(this,arguments),P=this.__zoom,F=D==null?_(I):typeof D=="function"?D.apply(this,arguments):D;return n(nu.translate(F[0],F[1]).scale(P.k).translate(typeof L=="function"?-L.apply(this,arguments):-L,typeof A=="function"?-A.apply(this,arguments):-A),I,s)},D,N)};function y(C,L){return L=Math.max(o[0],Math.min(o[1],L)),L===C.k?C:new cn(L,C.x,C.y)}function v(C,L,A){var D=L[0]-A[0]*C.k,N=L[1]-A[1]*C.k;return D===C.x&&N===C.y?C:new cn(C.k,D,N)}function _(C){return[(+C[0][0]+ +C[1][0])/2,(+C[0][1]+ +C[1][1])/2]}function E(C,L,A,D){C.on("start.zoom",function(){S(this,arguments).event(D).start()}).on("interrupt.zoom end.zoom",function(){S(this,arguments).event(D).end()}).tween("zoom",function(){var N=this,I=arguments,P=S(N,I).event(D),F=t.apply(N,I),H=A==null?_(F):typeof A=="function"?A.apply(N,I):A,W=Math.max(F[1][0]-F[0][0],F[1][1]-F[0][1]),G=N.__zoom,ne=typeof L=="function"?L.apply(N,I):L,te=u(G.invert(H).concat(W/G.k),ne.invert(H).concat(W/ne.k));return function(re){if(re===1)re=ne;else{var U=te(re),oe=W/U[2];re=new cn(oe,H[0]-U[0]*oe,H[1]-U[1]*oe)}P.zoom(null,re)}})}function S(C,L,A){return!A&&C.__zooming||new b(C,L)}function b(C,L){this.that=C,this.args=L,this.active=0,this.sourceEvent=null,this.extent=t.apply(C,L),this.taps=0}b.prototype={event:function(C){return C&&(this.sourceEvent=C),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(C,L){return this.mouse&&C!=="mouse"&&(this.mouse[1]=L.invert(this.mouse[0])),this.touch0&&C!=="touch"&&(this.touch0[1]=L.invert(this.touch0[0])),this.touch1&&C!=="touch"&&(this.touch1[1]=L.invert(this.touch1[0])),this.that.__zoom=L,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(C){var L=dt(this.that).datum();l.call(C,this.that,new Mj(C,{sourceEvent:this.sourceEvent,target:m,transform:this.that.__zoom,dispatch:l}),L)}};function k(C,...L){if(!e.apply(this,arguments))return;var A=S(this,L).event(C),D=this.__zoom,N=Math.max(o[0],Math.min(o[1],D.k*Math.pow(2,r.apply(this,arguments)))),I=Pt(C);if(A.wheel)(A.mouse[0][0]!==I[0]||A.mouse[0][1]!==I[1])&&(A.mouse[1]=D.invert(A.mouse[0]=I)),clearTimeout(A.wheel);else{if(D.k===N)return;A.mouse=[I,D.invert(I)],Xs(this),A.start()}Mi(C),A.wheel=setTimeout(P,h),A.zoom("mouse",n(v(y(D,N),A.mouse[0],A.mouse[1]),A.extent,s));function P(){A.wheel=null,A.end()}}function T(C,...L){if(d||!e.apply(this,arguments))return;var A=C.currentTarget,D=S(this,L,!0).event(C),N=dt(C.view).on("mousemove.zoom",H,!0).on("mouseup.zoom",W,!0),I=Pt(C,A),P=C.clientX,F=C.clientY;oC(C.view),dl(C),D.mouse=[I,this.__zoom.invert(I)],Xs(this),D.start();function H(G){if(Mi(G),!D.moved){var ne=G.clientX-P,te=G.clientY-F;D.moved=ne*ne+te*te>x}D.event(G).zoom("mouse",n(v(D.that.__zoom,D.mouse[0]=Pt(G,A),D.mouse[1]),D.extent,s))}function W(G){N.on("mousemove.zoom mouseup.zoom",null),sC(G.view,D.moved),Mi(G),D.event(G).end()}}function O(C,...L){if(e.apply(this,arguments)){var A=this.__zoom,D=Pt(C.changedTouches?C.changedTouches[0]:C,this),N=A.invert(D),I=A.k*(C.shiftKey?.5:2),P=n(v(y(A,I),D,N),t.apply(this,L),s);Mi(C),a>0?dt(this).transition().duration(a).call(E,P,D,C):dt(this).call(m.transform,P,D,C)}}function R(C,...L){if(e.apply(this,arguments)){var A=C.touches,D=A.length,N=S(this,L,C.changedTouches.length===D).event(C),I,P,F,H;for(dl(C),P=0;P<D;++P)F=A[P],H=Pt(F,this),H=[H,this.__zoom.invert(H),F.identifier],N.touch0?!N.touch1&&N.touch0[2]!==H[2]&&(N.touch1=H,N.taps=0):(N.touch0=H,I=!0,N.taps=1+!!c);c&&(c=clearTimeout(c)),I&&(N.taps<2&&(f=H[0],c=setTimeout(function(){c=null},p)),Xs(this),N.start())}}function j(C,...L){if(this.__zooming){var A=S(this,L).event(C),D=C.changedTouches,N=D.length,I,P,F,H;for(Mi(C),I=0;I<N;++I)P=D[I],F=Pt(P,this),A.touch0&&A.touch0[2]===P.identifier?A.touch0[0]=F:A.touch1&&A.touch1[2]===P.identifier&&(A.touch1[0]=F);if(P=A.that.__zoom,A.touch1){var W=A.touch0[0],G=A.touch0[1],ne=A.touch1[0],te=A.touch1[1],re=(re=ne[0]-W[0])*re+(re=ne[1]-W[1])*re,U=(U=te[0]-G[0])*U+(U=te[1]-G[1])*U;P=y(P,Math.sqrt(re/U)),F=[(W[0]+ne[0])/2,(W[1]+ne[1])/2],H=[(G[0]+te[0])/2,(G[1]+te[1])/2]}else if(A.touch0)F=A.touch0[0],H=A.touch0[1];else return;A.zoom("touch",n(v(P,F,H),A.extent,s))}}function $(C,...L){if(this.__zooming){var A=S(this,L).event(C),D=C.changedTouches,N=D.length,I,P;for(dl(C),d&&clearTimeout(d),d=setTimeout(function(){d=null},p),I=0;I<N;++I)P=D[I],A.touch0&&A.touch0[2]===P.identifier?delete A.touch0:A.touch1&&A.touch1[2]===P.identifier&&delete A.touch1;if(A.touch1&&!A.touch0&&(A.touch0=A.touch1,delete A.touch1),A.touch0)A.touch0[1]=this.__zoom.invert(A.touch0[0]);else if(A.end(),A.taps===2&&(P=Pt(P,this),Math.hypot(f[0]-P[0],f[1]-P[1])<w)){var F=dt(this).on("dblclick.zoom");F&&F.apply(this,arguments)}}}return m.wheelDelta=function(C){return arguments.length?(r=typeof C=="function"?C:Ns(+C),m):r},m.filter=function(C){return arguments.length?(e=typeof C=="function"?C:Ns(!!C),m):e},m.touchable=function(C){return arguments.length?(i=typeof C=="function"?C:Ns(!!C),m):i},m.extent=function(C){return arguments.length?(t=typeof C=="function"?C:Ns([[+C[0][0],+C[0][1]],[+C[1][0],+C[1][1]]]),m):t},m.scaleExtent=function(C){return arguments.length?(o[0]=+C[0],o[1]=+C[1],m):[o[0],o[1]]},m.translateExtent=function(C){return arguments.length?(s[0][0]=+C[0][0],s[1][0]=+C[1][0],s[0][1]=+C[0][1],s[1][1]=+C[1][1],m):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},m.constrain=function(C){return arguments.length?(n=C,m):n},m.duration=function(C){return arguments.length?(a=+C,m):a},m.interpolate=function(C){return arguments.length?(u=C,m):u},m.on=function(){var C=l.on.apply(l,arguments);return C===l?m:C},m.clickDistance=function(C){return arguments.length?(x=(C=+C)*C,m):Math.sqrt(x)},m.tapDistance=function(C){return arguments.length?(w=+C,m):w},m}const Jt={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:r}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},bo=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],bC=["Enter"," ","Escape"],EC={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:t,y:n})=>`Moved selected node ${e}. New position, x: ${t}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var si;(function(e){e.Strict="strict",e.Loose="loose"})(si||(si={}));var cr;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(cr||(cr={}));var Eo;(function(e){e.Partial="partial",e.Full="full"})(Eo||(Eo={}));const CC={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var An;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(An||(An={}));var Ia;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Ia||(Ia={}));var ee;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(ee||(ee={}));const Py={[ee.Left]:ee.Right,[ee.Right]:ee.Left,[ee.Top]:ee.Bottom,[ee.Bottom]:ee.Top};function NC(e){return e===null?null:e?"valid":"invalid"}const kC=e=>"id"in e&&"source"in e&&"target"in e,qj=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),Cm=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),Lo=(e,t=[0,0])=>{const{width:n,height:r}=wn(e),i=e.origin??t,o=n*i[0],s=r*i[1];return{x:e.position.x-o,y:e.position.y-s}},Dj=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,i)=>{const o=typeof i=="string";let s=!t.nodeLookup&&!o?i:void 0;t.nodeLookup&&(s=o?t.nodeLookup.get(i):Cm(i)?i:t.nodeLookup.get(i.id));const a=s?Ra(s,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return ru(r,a)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return iu(n)},Oo=(e,t={})=>{let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0},r=!1;return e.forEach(i=>{(t.filter===void 0||t.filter(i))&&(n=ru(n,Ra(i)),r=!0)}),r?iu(n):{x:0,y:0,width:0,height:0}},Nm=(e,t,[n,r,i]=[0,0,1],o=!1,s=!1)=>{const a={...Do(t,[n,r,i]),width:t.width/i,height:t.height/i},u=[];for(const l of e.values()){const{measured:c,selectable:f=!0,hidden:d=!1}=l;if(s&&!f||d)continue;const p=c.width??l.width??l.initialWidth??null,h=c.height??l.height??l.initialHeight??null,x=Co(a,ui(l)),w=(p??0)*(h??0),m=o&&x>0;(!l.internals.handleBounds||m||x>=w||l.dragging)&&u.push(l)}return u},$j=(e,t)=>{const n=new Set;return e.forEach(r=>{n.add(r.id)}),t.filter(r=>n.has(r.source)||n.has(r.target))};function zj(e,t){const n=new Map,r=t!=null&&t.nodes?new Set(t.nodes.map(i=>i.id)):null;return e.forEach(i=>{i.measured.width&&i.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!i.hidden)&&(!r||r.has(i.id))&&n.set(i.id,i)}),n}async function Fj({nodes:e,width:t,height:n,panZoom:r,minZoom:i,maxZoom:o},s){if(e.size===0)return Promise.resolve(!0);const a=zj(e,s),u=Oo(a),l=km(u,t,n,(s==null?void 0:s.minZoom)??i,(s==null?void 0:s.maxZoom)??o,(s==null?void 0:s.padding)??.1);return await r.setViewport(l,{duration:s==null?void 0:s.duration,ease:s==null?void 0:s.ease,interpolate:s==null?void 0:s.interpolate}),Promise.resolve(!0)}function IC({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:i,onError:o}){const s=n.get(e),a=s.parentId?n.get(s.parentId):void 0,{x:u,y:l}=a?a.internals.positionAbsolute:{x:0,y:0},c=s.origin??r;let f=s.extent||i;if(s.extent==="parent"&&!s.expandParent)if(!a)o==null||o("005",Jt.error005());else{const p=a.measured.width,h=a.measured.height;p&&h&&(f=[[u,l],[u+p,l+h]])}else a&&li(s.extent)&&(f=[[s.extent[0][0]+u,s.extent[0][1]+l],[s.extent[1][0]+u,s.extent[1][1]+l]]);const d=li(f)?yr(t,f,s.measured):t;return(s.measured.width===void 0||s.measured.height===void 0)&&(o==null||o("015",Jt.error015())),{position:{x:d.x-u+(s.measured.width??0)*c[0],y:d.y-l+(s.measured.height??0)*c[1]},positionAbsolute:d}}async function Hj({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:r,onBeforeDelete:i}){const o=new Set(e.map(d=>d.id)),s=[];for(const d of n){if(d.deletable===!1)continue;const p=o.has(d.id),h=!p&&d.parentId&&s.find(x=>x.id===d.parentId);(p||h)&&s.push(d)}const a=new Set(t.map(d=>d.id)),u=r.filter(d=>d.deletable!==!1),c=$j(s,u);for(const d of u)a.has(d.id)&&!c.find(h=>h.id===d.id)&&c.push(d);if(!i)return{edges:c,nodes:s};const f=await i({nodes:s,edges:c});return typeof f=="boolean"?f?{edges:c,nodes:s}:{edges:[],nodes:[]}:f}const ai=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),yr=(e={x:0,y:0},t,n)=>({x:ai(e.x,t[0][0],t[1][0]-((n==null?void 0:n.width)??0)),y:ai(e.y,t[0][1],t[1][1]-((n==null?void 0:n.height)??0))});function RC(e,t,n){const{width:r,height:i}=wn(n),{x:o,y:s}=n.internals.positionAbsolute;return yr(e,[[o,s],[o+r,s+i]],t)}const Ly=(e,t,n)=>e<t?ai(Math.abs(e-t),1,t)/t:e>n?-ai(Math.abs(e-n),1,t)/t:0,TC=(e,t,n=15,r=40)=>{const i=Ly(e.x,r,t.width-r)*n,o=Ly(e.y,r,t.height-r)*n;return[i,o]},ru=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),pg=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),iu=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),ui=(e,t=[0,0])=>{var i,o;const{x:n,y:r}=Cm(e)?e.internals.positionAbsolute:Lo(e,t);return{x:n,y:r,width:((i=e.measured)==null?void 0:i.width)??e.width??e.initialWidth??0,height:((o=e.measured)==null?void 0:o.height)??e.height??e.initialHeight??0}},Ra=(e,t=[0,0])=>{var i,o;const{x:n,y:r}=Cm(e)?e.internals.positionAbsolute:Lo(e,t);return{x:n,y:r,x2:n+(((i=e.measured)==null?void 0:i.width)??e.width??e.initialWidth??0),y2:r+(((o=e.measured)==null?void 0:o.height)??e.height??e.initialHeight??0)}},MC=(e,t)=>iu(ru(pg(e),pg(t))),Co=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},Oy=e=>qt(e.width)&&qt(e.height)&&qt(e.x)&&qt(e.y),qt=e=>!isNaN(e)&&isFinite(e),Bj=(e,t)=>{},qo=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),Do=({x:e,y:t},[n,r,i],o=!1,s=[1,1])=>{const a={x:(e-n)/i,y:(t-r)/i};return o?qo(a,s):a},Ta=({x:e,y:t},[n,r,i])=>({x:e*i+n,y:t*i+r});function Ir(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function Vj(e,t,n){if(typeof e=="string"||typeof e=="number"){const r=Ir(e,n),i=Ir(e,t);return{top:r,right:i,bottom:r,left:i,x:i*2,y:r*2}}if(typeof e=="object"){const r=Ir(e.top??e.y??0,n),i=Ir(e.bottom??e.y??0,n),o=Ir(e.left??e.x??0,t),s=Ir(e.right??e.x??0,t);return{top:r,right:s,bottom:i,left:o,x:o+s,y:r+i}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function Uj(e,t,n,r,i,o){const{x:s,y:a}=Ta(e,[t,n,r]),{x:u,y:l}=Ta({x:e.x+e.width,y:e.y+e.height},[t,n,r]),c=i-u,f=o-l;return{left:Math.floor(s),top:Math.floor(a),right:Math.floor(c),bottom:Math.floor(f)}}const km=(e,t,n,r,i,o)=>{const s=Vj(o,t,n),a=(t-s.x)/e.width,u=(n-s.y)/e.height,l=Math.min(a,u),c=ai(l,r,i),f=e.x+e.width/2,d=e.y+e.height/2,p=t/2-f*c,h=n/2-d*c,x=Uj(e,p,h,c,t,n),w={left:Math.min(x.left-s.left,0),top:Math.min(x.top-s.top,0),right:Math.min(x.right-s.right,0),bottom:Math.min(x.bottom-s.bottom,0)};return{x:p-w.left+w.right,y:h-w.top+w.bottom,zoom:c}},No=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function li(e){return e!=null&&e!=="parent"}function wn(e){var t,n;return{width:((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth??0,height:((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight??0}}function AC(e){var t,n;return(((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth)!==void 0&&(((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight)!==void 0}function jC(e,t={width:0,height:0},n,r,i){const o={...e},s=r.get(n);if(s){const a=s.origin||i;o.x+=s.internals.positionAbsolute.x-(t.width??0)*a[0],o.y+=s.internals.positionAbsolute.y-(t.height??0)*a[1]}return o}function qy(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function Gj(){let e,t;return{promise:new Promise((r,i)=>{e=r,t=i}),resolve:e,reject:t}}function Wj(e){return{...EC,...e||{}}}function eo(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:r,containerBounds:i}){const{x:o,y:s}=Dt(e),a=Do({x:o-((i==null?void 0:i.left)??0),y:s-((i==null?void 0:i.top)??0)},r),{x:u,y:l}=n?qo(a,t):a;return{xSnapped:u,ySnapped:l,...a}}const Im=e=>({width:e.offsetWidth,height:e.offsetHeight}),PC=e=>{var t;return((t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},Yj=["INPUT","SELECT","TEXTAREA"];function LC(e){var r,i;const t=((i=(r=e.composedPath)==null?void 0:r.call(e))==null?void 0:i[0])||e.target;return(t==null?void 0:t.nodeType)!==1?!1:Yj.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const OC=e=>"clientX"in e,Dt=(e,t)=>{var o,s;const n=OC(e),r=n?e.clientX:(o=e.touches)==null?void 0:o[0].clientX,i=n?e.clientY:(s=e.touches)==null?void 0:s[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:i-((t==null?void 0:t.top)??0)}},Dy=(e,t,n,r,i)=>{const o=t.querySelectorAll(`.${e}`);return!o||!o.length?null:Array.from(o).map(s=>{const a=s.getBoundingClientRect();return{id:s.getAttribute("data-handleid"),type:e,nodeId:i,position:s.getAttribute("data-handlepos"),x:(a.left-n.left)/r,y:(a.top-n.top)/r,...Im(s)}})};function qC({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:i,sourceControlY:o,targetControlX:s,targetControlY:a}){const u=e*.125+i*.375+s*.375+n*.125,l=t*.125+o*.375+a*.375+r*.125,c=Math.abs(u-e),f=Math.abs(l-t);return[u,l,c,f]}function ks(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function $y({pos:e,x1:t,y1:n,x2:r,y2:i,c:o}){switch(e){case ee.Left:return[t-ks(t-r,o),n];case ee.Right:return[t+ks(r-t,o),n];case ee.Top:return[t,n-ks(n-i,o)];case ee.Bottom:return[t,n+ks(i-n,o)]}}function DC({sourceX:e,sourceY:t,sourcePosition:n=ee.Bottom,targetX:r,targetY:i,targetPosition:o=ee.Top,curvature:s=.25}){const[a,u]=$y({pos:n,x1:e,y1:t,x2:r,y2:i,c:s}),[l,c]=$y({pos:o,x1:r,y1:i,x2:e,y2:t,c:s}),[f,d,p,h]=qC({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:a,sourceControlY:u,targetControlX:l,targetControlY:c});return[`M${e},${t} C${a},${u} ${l},${c} ${r},${i}`,f,d,p,h]}function $C({sourceX:e,sourceY:t,targetX:n,targetY:r}){const i=Math.abs(n-e)/2,o=n<e?n+i:n-i,s=Math.abs(r-t)/2,a=r<t?r+s:r-s;return[o,a,i,s]}function Kj({sourceNode:e,targetNode:t,selected:n=!1,zIndex:r=0,elevateOnSelect:i=!1,zIndexMode:o="basic"}){if(o==="manual")return r;const s=i&&n?r+1e3:r,a=Math.max(e.parentId||i&&e.selected?e.internals.z:0,t.parentId||i&&t.selected?t.internals.z:0);return s+a}function Xj({sourceNode:e,targetNode:t,width:n,height:r,transform:i}){const o=ru(Ra(e),Ra(t));o.x===o.x2&&(o.x2+=1),o.y===o.y2&&(o.y2+=1);const s={x:-i[0]/i[2],y:-i[1]/i[2],width:n/i[2],height:r/i[2]};return Co(s,iu(o))>0}const Qj=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`xy-edge__${e}${t||""}-${n}${r||""}`,Zj=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),zC=(e,t,n={})=>{if(!e.source||!e.target)return t;const r=n.getEdgeId||Qj;let i;return kC(e)?i={...e}:i={...e,id:r(e)},Zj(i,t)?t:(i.sourceHandle===null&&delete i.sourceHandle,i.targetHandle===null&&delete i.targetHandle,t.concat(i))};function FC({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[i,o,s,a]=$C({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,i,o,s,a]}const zy={[ee.Left]:{x:-1,y:0},[ee.Right]:{x:1,y:0},[ee.Top]:{x:0,y:-1},[ee.Bottom]:{x:0,y:1}},Jj=({source:e,sourcePosition:t=ee.Bottom,target:n})=>t===ee.Left||t===ee.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},Fy=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function eP({source:e,sourcePosition:t=ee.Bottom,target:n,targetPosition:r=ee.Top,center:i,offset:o,stepPosition:s}){const a=zy[t],u=zy[r],l={x:e.x+a.x*o,y:e.y+a.y*o},c={x:n.x+u.x*o,y:n.y+u.y*o},f=Jj({source:l,sourcePosition:t,target:c}),d=f.x!==0?"x":"y",p=f[d];let h=[],x,w;const m={x:0,y:0},y={x:0,y:0},[,,v,_]=$C({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(a[d]*u[d]===-1){d==="x"?(x=i.x??l.x+(c.x-l.x)*s,w=i.y??(l.y+c.y)/2):(x=i.x??(l.x+c.x)/2,w=i.y??l.y+(c.y-l.y)*s);const S=[{x,y:l.y},{x,y:c.y}],b=[{x:l.x,y:w},{x:c.x,y:w}];a[d]===p?h=d==="x"?S:b:h=d==="x"?b:S}else{const S=[{x:l.x,y:c.y}],b=[{x:c.x,y:l.y}];if(d==="x"?h=a.x===p?b:S:h=a.y===p?S:b,t===r){const j=Math.abs(e[d]-n[d]);if(j<=o){const $=Math.min(o-1,o-j);a[d]===p?m[d]=(l[d]>e[d]?-1:1)*$:y[d]=(c[d]>n[d]?-1:1)*$}}if(t!==r){const j=d==="x"?"y":"x",$=a[d]===u[j],C=l[j]>c[j],L=l[j]<c[j];(a[d]===1&&(!$&&C||$&&L)||a[d]!==1&&(!$&&L||$&&C))&&(h=d==="x"?S:b)}const k={x:l.x+m.x,y:l.y+m.y},T={x:c.x+y.x,y:c.y+y.y},O=Math.max(Math.abs(k.x-h[0].x),Math.abs(T.x-h[0].x)),R=Math.max(Math.abs(k.y-h[0].y),Math.abs(T.y-h[0].y));O>=R?(x=(k.x+T.x)/2,w=h[0].y):(x=h[0].x,w=(k.y+T.y)/2)}return[[e,{x:l.x+m.x,y:l.y+m.y},...h,{x:c.x+y.x,y:c.y+y.y},n],x,w,v,_]}function tP(e,t,n,r){const i=Math.min(Fy(e,t)/2,Fy(t,n)/2,r),{x:o,y:s}=t;if(e.x===o&&o===n.x||e.y===s&&s===n.y)return`L${o} ${s}`;if(e.y===s){const l=e.x<n.x?-1:1,c=e.y<n.y?1:-1;return`L ${o+i*l},${s}Q ${o},${s} ${o},${s+i*c}`}const a=e.x<n.x?1:-1,u=e.y<n.y?-1:1;return`L ${o},${s+i*u}Q ${o},${s} ${o+i*a},${s}`}function gg({sourceX:e,sourceY:t,sourcePosition:n=ee.Bottom,targetX:r,targetY:i,targetPosition:o=ee.Top,borderRadius:s=5,centerX:a,centerY:u,offset:l=20,stepPosition:c=.5}){const[f,d,p,h,x]=eP({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:i},targetPosition:o,center:{x:a,y:u},offset:l,stepPosition:c});return[f.reduce((m,y,v)=>{let _="";return v>0&&v<f.length-1?_=tP(f[v-1],y,f[v+1],s):_=`${v===0?"M":"L"}${y.x} ${y.y}`,m+=_,m},""),d,p,h,x]}function Hy(e){var t;return e&&!!(e.internals.handleBounds||(t=e.handles)!=null&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function nP(e){var f;const{sourceNode:t,targetNode:n}=e;if(!Hy(t)||!Hy(n))return null;const r=t.internals.handleBounds||By(t.handles),i=n.internals.handleBounds||By(n.handles),o=Vy((r==null?void 0:r.source)??[],e.sourceHandle),s=Vy(e.connectionMode===si.Strict?(i==null?void 0:i.target)??[]:((i==null?void 0:i.target)??[]).concat((i==null?void 0:i.source)??[]),e.targetHandle);if(!o||!s)return(f=e.onError)==null||f.call(e,"008",Jt.error008(o?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const a=(o==null?void 0:o.position)||ee.Bottom,u=(s==null?void 0:s.position)||ee.Top,l=xr(t,o,a),c=xr(n,s,u);return{sourceX:l.x,sourceY:l.y,targetX:c.x,targetY:c.y,sourcePosition:a,targetPosition:u}}function By(e){if(!e)return null;const t=[],n=[];for(const r of e)r.width=r.width??1,r.height=r.height??1,r.type==="source"?t.push(r):r.type==="target"&&n.push(r);return{source:t,target:n}}function xr(e,t,n=ee.Left,r=!1){const i=((t==null?void 0:t.x)??0)+e.internals.positionAbsolute.x,o=((t==null?void 0:t.y)??0)+e.internals.positionAbsolute.y,{width:s,height:a}=t??wn(e);if(r)return{x:i+s/2,y:o+a/2};switch((t==null?void 0:t.position)??n){case ee.Top:return{x:i+s/2,y:o};case ee.Right:return{x:i+s,y:o+a/2};case ee.Bottom:return{x:i+s/2,y:o+a};case ee.Left:return{x:i,y:o+a/2}}}function Vy(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function mg(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`:""}function rP(e,{id:t,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:i}){const o=new Set;return e.reduce((s,a)=>([a.markerStart||r,a.markerEnd||i].forEach(u=>{if(u&&typeof u=="object"){const l=mg(u,t);o.has(l)||(s.push({id:l,color:u.color||n,...u}),o.add(l))}}),s),[]).sort((s,a)=>s.id.localeCompare(a.id))}const HC=1e3,iP=10,Rm={nodeOrigin:[0,0],nodeExtent:bo,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},oP={...Rm,checkEquality:!0};function Tm(e,t){const n={...e};for(const r in t)t[r]!==void 0&&(n[r]=t[r]);return n}function sP(e,t,n){const r=Tm(Rm,n);for(const i of e.values())if(i.parentId)Am(i,e,t,r);else{const o=Lo(i,r.nodeOrigin),s=li(i.extent)?i.extent:r.nodeExtent,a=yr(o,s,wn(i));i.internals.positionAbsolute=a}}function aP(e,t){if(!e.handles)return e.measured?t==null?void 0:t.internals.handleBounds:void 0;const n=[],r=[];for(const i of e.handles){const o={id:i.id,width:i.width??1,height:i.height??1,nodeId:e.id,x:i.x,y:i.y,position:i.position,type:i.type};i.type==="source"?n.push(o):i.type==="target"&&r.push(o)}return{source:n,target:r}}function Mm(e){return e==="manual"}function vg(e,t,n,r={}){var l,c;const i=Tm(oP,r),o={i:0},s=new Map(t),a=i!=null&&i.elevateNodesOnSelect&&!Mm(i.zIndexMode)?HC:0;let u=e.length>0;t.clear(),n.clear();for(const f of e){let d=s.get(f.id);if(i.checkEquality&&f===(d==null?void 0:d.internals.userNode))t.set(f.id,d);else{const p=Lo(f,i.nodeOrigin),h=li(f.extent)?f.extent:i.nodeExtent,x=yr(p,h,wn(f));d={...i.defaults,...f,measured:{width:(l=f.measured)==null?void 0:l.width,height:(c=f.measured)==null?void 0:c.height},internals:{positionAbsolute:x,handleBounds:aP(f,d),z:BC(f,a,i.zIndexMode),userNode:f}},t.set(f.id,d)}(d.measured===void 0||d.measured.width===void 0||d.measured.height===void 0)&&!d.hidden&&(u=!1),f.parentId&&Am(d,t,n,r,o)}return u}function uP(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function Am(e,t,n,r,i){const{elevateNodesOnSelect:o,nodeOrigin:s,nodeExtent:a,zIndexMode:u}=Tm(Rm,r),l=e.parentId,c=t.get(l);if(!c){console.warn(`Parent node ${l} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}uP(e,n),i&&!c.parentId&&c.internals.rootParentIndex===void 0&&u==="auto"&&(c.internals.rootParentIndex=++i.i,c.internals.z=c.internals.z+i.i*iP),i&&c.internals.rootParentIndex!==void 0&&(i.i=c.internals.rootParentIndex);const f=o&&!Mm(u)?HC:0,{x:d,y:p,z:h}=lP(e,c,s,a,f,u),{positionAbsolute:x}=e.internals,w=d!==x.x||p!==x.y;(w||h!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:w?{x:d,y:p}:x,z:h}})}function BC(e,t,n){const r=qt(e.zIndex)?e.zIndex:0;return Mm(n)?r:r+(e.selected?t:0)}function lP(e,t,n,r,i,o){const{x:s,y:a}=t.internals.positionAbsolute,u=wn(e),l=Lo(e,n),c=li(e.extent)?yr(l,e.extent,u):l;let f=yr({x:s+c.x,y:a+c.y},r,u);e.extent==="parent"&&(f=RC(f,u,t));const d=BC(e,i,o),p=t.internals.z??0;return{x:f.x,y:f.y,z:p>=d?p+1:d}}function jm(e,t,n,r=[0,0]){var s;const i=[],o=new Map;for(const a of e){const u=t.get(a.parentId);if(!u)continue;const l=((s=o.get(a.parentId))==null?void 0:s.expandedRect)??ui(u),c=MC(l,a.rect);o.set(a.parentId,{expandedRect:c,parent:u})}return o.size>0&&o.forEach(({expandedRect:a,parent:u},l)=>{var v;const c=u.internals.positionAbsolute,f=wn(u),d=u.origin??r,p=a.x<c.x?Math.round(Math.abs(c.x-a.x)):0,h=a.y<c.y?Math.round(Math.abs(c.y-a.y)):0,x=Math.max(f.width,Math.round(a.width)),w=Math.max(f.height,Math.round(a.height)),m=(x-f.width)*d[0],y=(w-f.height)*d[1];(p>0||h>0||m||y)&&(i.push({id:l,type:"position",position:{x:u.position.x-p+m,y:u.position.y-h+y}}),(v=n.get(l))==null||v.forEach(_=>{e.some(E=>E.id===_.id)||i.push({id:_.id,type:"position",position:{x:_.position.x+p,y:_.position.y+h}})})),(f.width<a.width||f.height<a.height||p||h)&&i.push({id:l,type:"dimensions",setAttributes:!0,dimensions:{width:x+(p?d[0]*p-m:0),height:w+(h?d[1]*h-y:0)}})}),i}function cP(e,t,n,r,i,o,s){const a=r==null?void 0:r.querySelector(".xyflow__viewport");let u=!1;if(!a)return{changes:[],updatedInternals:u};const l=[],c=window.getComputedStyle(a),{m22:f}=new window.DOMMatrixReadOnly(c.transform),d=[];for(const p of e.values()){const h=t.get(p.id);if(!h)continue;if(h.hidden){t.set(h.id,{...h,internals:{...h.internals,handleBounds:void 0}}),u=!0;continue}const x=Im(p.nodeElement),w=h.measured.width!==x.width||h.measured.height!==x.height;if(!!(x.width&&x.height&&(w||!h.internals.handleBounds||p.force))){const y=p.nodeElement.getBoundingClientRect(),v=li(h.extent)?h.extent:o;let{positionAbsolute:_}=h.internals;h.parentId&&h.extent==="parent"?_=RC(_,x,t.get(h.parentId)):v&&(_=yr(_,v,x));const E={...h,measured:x,internals:{...h.internals,positionAbsolute:_,handleBounds:{source:Dy("source",p.nodeElement,y,f,h.id),target:Dy("target",p.nodeElement,y,f,h.id)}}};t.set(h.id,E),h.parentId&&Am(E,t,n,{nodeOrigin:i,zIndexMode:s}),u=!0,w&&(l.push({id:h.id,type:"dimensions",dimensions:x}),h.expandParent&&h.parentId&&d.push({id:h.id,parentId:h.parentId,rect:ui(E,i)}))}}if(d.length>0){const p=jm(d,t,n,i);l.push(...p)}return{changes:l,updatedInternals:u}}async function fP({delta:e,panZoom:t,transform:n,translateExtent:r,width:i,height:o}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const s=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[i,o]],r),a=!!s&&(s.x!==n[0]||s.y!==n[1]||s.k!==n[2]);return Promise.resolve(a)}function Uy(e,t,n,r,i,o){let s=i;const a=r.get(s)||new Map;r.set(s,a.set(n,t)),s=`${i}-${e}`;const u=r.get(s)||new Map;if(r.set(s,u.set(n,t)),o){s=`${i}-${e}-${o}`;const l=r.get(s)||new Map;r.set(s,l.set(n,t))}}function VC(e,t,n){e.clear(),t.clear();for(const r of n){const{source:i,target:o,sourceHandle:s=null,targetHandle:a=null}=r,u={edgeId:r.id,source:i,target:o,sourceHandle:s,targetHandle:a},l=`${i}-${s}--${o}-${a}`,c=`${o}-${a}--${i}-${s}`;Uy("source",u,c,e,i,s),Uy("target",u,l,e,o,a),t.set(r.id,r)}}function UC(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:UC(n,t):!1}function Gy(e,t,n){var i;let r=e;do{if((i=r==null?void 0:r.matches)!=null&&i.call(r,t))return!0;if(r===n)return!1;r=r==null?void 0:r.parentElement}while(r);return!1}function dP(e,t,n,r){const i=new Map;for(const[o,s]of e)if((s.selected||s.id===r)&&(!s.parentId||!UC(s,e))&&(s.draggable||t&&typeof s.draggable>"u")){const a=e.get(o);a&&i.set(o,{id:o,position:a.position||{x:0,y:0},distance:{x:n.x-a.internals.positionAbsolute.x,y:n.y-a.internals.positionAbsolute.y},extent:a.extent,parentId:a.parentId,origin:a.origin,expandParent:a.expandParent,internals:{positionAbsolute:a.internals.positionAbsolute||{x:0,y:0}},measured:{width:a.measured.width??0,height:a.measured.height??0}})}return i}function hl({nodeId:e,dragItems:t,nodeLookup:n,dragging:r=!0}){var s,a,u;const i=[];for(const[l,c]of t){const f=(s=n.get(l))==null?void 0:s.internals.userNode;f&&i.push({...f,position:c.position,dragging:r})}if(!e)return[i[0],i];const o=(a=n.get(e))==null?void 0:a.internals.userNode;return[o?{...o,position:((u=t.get(e))==null?void 0:u.position)||o.position,dragging:r}:i[0],i]}function hP({dragItems:e,snapGrid:t,x:n,y:r}){const i=e.values().next().value;if(!i)return null;const o={x:n-i.distance.x,y:r-i.distance.y},s=qo(o,t);return{x:s.x-o.x,y:s.y-o.y}}function pP({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:r,onDragStop:i}){let o={x:null,y:null},s=0,a=new Map,u=!1,l={x:0,y:0},c=null,f=!1,d=null,p=!1,h=!1,x=null;function w({noDragClassName:y,handleSelector:v,domNode:_,isSelectable:E,nodeId:S,nodeClickDistance:b=0}){d=dt(_);function k({x:j,y:$}){const{nodeLookup:C,nodeExtent:L,snapGrid:A,snapToGrid:D,nodeOrigin:N,onNodeDrag:I,onSelectionDrag:P,onError:F,updateNodePositions:H}=t();o={x:j,y:$};let W=!1;const G=a.size>1,ne=G&&L?pg(Oo(a)):null,te=G&&D?hP({dragItems:a,snapGrid:A,x:j,y:$}):null;for(const[re,U]of a){if(!C.has(re))continue;let oe={x:j-U.distance.x,y:$-U.distance.y};D&&(oe=te?{x:Math.round(oe.x+te.x),y:Math.round(oe.y+te.y)}:qo(oe,A));let K=null;if(G&&L&&!U.extent&&ne){const{positionAbsolute:z}=U.internals,ae=z.x-ne.x+L[0][0],Z=z.x+U.measured.width-ne.x2+L[1][0],se=z.y-ne.y+L[0][1],ue=z.y+U.measured.height-ne.y2+L[1][1];K=[[ae,se],[Z,ue]]}const{position:Y,positionAbsolute:Q}=IC({nodeId:re,nextPosition:oe,nodeLookup:C,nodeExtent:K||L,nodeOrigin:N,onError:F});W=W||U.position.x!==Y.x||U.position.y!==Y.y,U.position=Y,U.internals.positionAbsolute=Q}if(h=h||W,!!W&&(H(a,!0),x&&(r||I||!S&&P))){const[re,U]=hl({nodeId:S,dragItems:a,nodeLookup:C});r==null||r(x,a,re,U),I==null||I(x,re,U),S||P==null||P(x,U)}}async function T(){if(!c)return;const{transform:j,panBy:$,autoPanSpeed:C,autoPanOnNodeDrag:L}=t();if(!L){u=!1,cancelAnimationFrame(s);return}const[A,D]=TC(l,c,C);(A!==0||D!==0)&&(o.x=(o.x??0)-A/j[2],o.y=(o.y??0)-D/j[2],await $({x:A,y:D})&&k(o)),s=requestAnimationFrame(T)}function O(j){var G;const{nodeLookup:$,multiSelectionActive:C,nodesDraggable:L,transform:A,snapGrid:D,snapToGrid:N,selectNodesOnDrag:I,onNodeDragStart:P,onSelectionDragStart:F,unselectNodesAndEdges:H}=t();f=!0,(!I||!E)&&!C&&S&&((G=$.get(S))!=null&&G.selected||H()),E&&I&&S&&(e==null||e(S));const W=eo(j.sourceEvent,{transform:A,snapGrid:D,snapToGrid:N,containerBounds:c});if(o=W,a=dP($,L,W,S),a.size>0&&(n||P||!S&&F)){const[ne,te]=hl({nodeId:S,dragItems:a,nodeLookup:$});n==null||n(j.sourceEvent,a,ne,te),P==null||P(j.sourceEvent,ne,te),S||F==null||F(j.sourceEvent,te)}}const R=aC().clickDistance(b).on("start",j=>{const{domNode:$,nodeDragThreshold:C,transform:L,snapGrid:A,snapToGrid:D}=t();c=($==null?void 0:$.getBoundingClientRect())||null,p=!1,h=!1,x=j.sourceEvent,C===0&&O(j),o=eo(j.sourceEvent,{transform:L,snapGrid:A,snapToGrid:D,containerBounds:c}),l=Dt(j.sourceEvent,c)}).on("drag",j=>{const{autoPanOnNodeDrag:$,transform:C,snapGrid:L,snapToGrid:A,nodeDragThreshold:D,nodeLookup:N}=t(),I=eo(j.sourceEvent,{transform:C,snapGrid:L,snapToGrid:A,containerBounds:c});if(x=j.sourceEvent,(j.sourceEvent.type==="touchmove"&&j.sourceEvent.touches.length>1||S&&!N.has(S))&&(p=!0),!p){if(!u&&$&&f&&(u=!0,T()),!f){const P=Dt(j.sourceEvent,c),F=P.x-l.x,H=P.y-l.y;Math.sqrt(F*F+H*H)>D&&O(j)}(o.x!==I.xSnapped||o.y!==I.ySnapped)&&a&&f&&(l=Dt(j.sourceEvent,c),k(I))}}).on("end",j=>{if(!(!f||p)&&(u=!1,f=!1,cancelAnimationFrame(s),a.size>0)){const{nodeLookup:$,updateNodePositions:C,onNodeDragStop:L,onSelectionDragStop:A}=t();if(h&&(C(a,!1),h=!1),i||L||!S&&A){const[D,N]=hl({nodeId:S,dragItems:a,nodeLookup:$,dragging:!1});i==null||i(j.sourceEvent,a,D,N),L==null||L(j.sourceEvent,D,N),S||A==null||A(j.sourceEvent,N)}}}).filter(j=>{const $=j.target;return!j.button&&(!y||!Gy($,`.${y}`,_))&&(!v||Gy($,v,_))});d.call(R)}function m(){d==null||d.on(".drag",null)}return{update:w,destroy:m}}function gP(e,t,n){const r=[],i={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const o of t.values())Co(i,ui(o))>0&&r.push(o);return r}const mP=250;function vP(e,t,n,r){var a,u;let i=[],o=1/0;const s=gP(e,n,t+mP);for(const l of s){const c=[...((a=l.internals.handleBounds)==null?void 0:a.source)??[],...((u=l.internals.handleBounds)==null?void 0:u.target)??[]];for(const f of c){if(r.nodeId===f.nodeId&&r.type===f.type&&r.id===f.id)continue;const{x:d,y:p}=xr(l,f,f.position,!0),h=Math.sqrt(Math.pow(d-e.x,2)+Math.pow(p-e.y,2));h>t||(h<o?(i=[{...f,x:d,y:p}],o=h):h===o&&i.push({...f,x:d,y:p}))}}if(!i.length)return null;if(i.length>1){const l=r.type==="source"?"target":"source";return i.find(c=>c.type===l)??i[0]}return i[0]}function GC(e,t,n,r,i,o=!1){var l,c,f;const s=r.get(e);if(!s)return null;const a=i==="strict"?(l=s.internals.handleBounds)==null?void 0:l[t]:[...((c=s.internals.handleBounds)==null?void 0:c.source)??[],...((f=s.internals.handleBounds)==null?void 0:f.target)??[]],u=(n?a==null?void 0:a.find(d=>d.id===n):a==null?void 0:a[0])??null;return u&&o?{...u,...xr(s,u,u.position,!0)}:u}function WC(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function yP(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const YC=()=>!0;function xP(e,{connectionMode:t,connectionRadius:n,handleId:r,nodeId:i,edgeUpdaterType:o,isTarget:s,domNode:a,nodeLookup:u,lib:l,autoPanOnConnect:c,flowId:f,panBy:d,cancelConnection:p,onConnectStart:h,onConnect:x,onConnectEnd:w,isValidConnection:m=YC,onReconnectEnd:y,updateConnection:v,getTransform:_,getFromHandle:E,autoPanSpeed:S,dragThreshold:b=1,handleDomNode:k}){const T=PC(e.target);let O=0,R;const{x:j,y:$}=Dt(e),C=WC(o,k),L=a==null?void 0:a.getBoundingClientRect();let A=!1;if(!L||!C)return;const D=GC(i,C,r,u,t);if(!D)return;let N=Dt(e,L),I=!1,P=null,F=!1,H=null;function W(){if(!c||!L)return;const[Y,Q]=TC(N,L,S);d({x:Y,y:Q}),O=requestAnimationFrame(W)}const G={...D,nodeId:i,type:C,position:D.position},ne=u.get(i);let re={inProgress:!0,isValid:null,from:xr(ne,G,ee.Left,!0),fromHandle:G,fromPosition:G.position,fromNode:ne,to:N,toHandle:null,toPosition:Py[G.position],toNode:null,pointer:N};function U(){A=!0,v(re),h==null||h(e,{nodeId:i,handleId:r,handleType:C})}b===0&&U();function oe(Y){if(!A){const{x:ue,y:$e}=Dt(Y),Oe=ue-j,xt=$e-$;if(!(Oe*Oe+xt*xt>b*b))return;U()}if(!E()||!G){K(Y);return}const Q=_();N=Dt(Y,L),R=vP(Do(N,Q,!1,[1,1]),n,u,G),I||(W(),I=!0);const z=KC(Y,{handle:R,connectionMode:t,fromNodeId:i,fromHandleId:r,fromType:s?"target":"source",isValidConnection:m,doc:T,lib:l,flowId:f,nodeLookup:u});H=z.handleDomNode,P=z.connection,F=yP(!!R,z.isValid);const ae=u.get(i),Z=ae?xr(ae,G,ee.Left,!0):re.from,se={...re,from:Z,isValid:F,to:z.toHandle&&F?Ta({x:z.toHandle.x,y:z.toHandle.y},Q):N,toHandle:z.toHandle,toPosition:F&&z.toHandle?z.toHandle.position:Py[G.position],toNode:z.toHandle?u.get(z.toHandle.nodeId):null,pointer:N};v(se),re=se}function K(Y){if(!("touches"in Y&&Y.touches.length>0)){if(A){(R||H)&&P&&F&&(x==null||x(P));const{inProgress:Q,...z}=re,ae={...z,toPosition:re.toHandle?re.toPosition:null};w==null||w(Y,ae),o&&(y==null||y(Y,ae))}p(),cancelAnimationFrame(O),I=!1,F=!1,P=null,H=null,T.removeEventListener("mousemove",oe),T.removeEventListener("mouseup",K),T.removeEventListener("touchmove",oe),T.removeEventListener("touchend",K)}}T.addEventListener("mousemove",oe),T.addEventListener("mouseup",K),T.addEventListener("touchmove",oe),T.addEventListener("touchend",K)}function KC(e,{handle:t,connectionMode:n,fromNodeId:r,fromHandleId:i,fromType:o,doc:s,lib:a,flowId:u,isValidConnection:l=YC,nodeLookup:c}){const f=o==="target",d=t?s.querySelector(`.${a}-flow__handle[data-id="${u}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:p,y:h}=Dt(e),x=s.elementFromPoint(p,h),w=x!=null&&x.classList.contains(`${a}-flow__handle`)?x:d,m={handleDomNode:w,isValid:!1,connection:null,toHandle:null};if(w){const y=WC(void 0,w),v=w.getAttribute("data-nodeid"),_=w.getAttribute("data-handleid"),E=w.classList.contains("connectable"),S=w.classList.contains("connectableend");if(!v||!y)return m;const b={source:f?v:r,sourceHandle:f?_:i,target:f?r:v,targetHandle:f?i:_};m.connection=b;const T=E&&S&&(n===si.Strict?f&&y==="source"||!f&&y==="target":v!==r||_!==i);m.isValid=T&&l(b),m.toHandle=GC(v,y,_,c,n,!0)}return m}const yg={onPointerDown:xP,isValid:KC};function _P({domNode:e,panZoom:t,getTransform:n,getViewScale:r}){const i=dt(e);function o({translateExtent:a,width:u,height:l,zoomStep:c=1,pannable:f=!0,zoomable:d=!0,inversePan:p=!1}){const h=v=>{if(v.sourceEvent.type!=="wheel"||!t)return;const _=n(),E=v.sourceEvent.ctrlKey&&No()?10:1,S=-v.sourceEvent.deltaY*(v.sourceEvent.deltaMode===1?.05:v.sourceEvent.deltaMode?1:.002)*c,b=_[2]*Math.pow(2,S*E);t.scaleTo(b)};let x=[0,0];const w=v=>{(v.sourceEvent.type==="mousedown"||v.sourceEvent.type==="touchstart")&&(x=[v.sourceEvent.clientX??v.sourceEvent.touches[0].clientX,v.sourceEvent.clientY??v.sourceEvent.touches[0].clientY])},m=v=>{const _=n();if(v.sourceEvent.type!=="mousemove"&&v.sourceEvent.type!=="touchmove"||!t)return;const E=[v.sourceEvent.clientX??v.sourceEvent.touches[0].clientX,v.sourceEvent.clientY??v.sourceEvent.touches[0].clientY],S=[E[0]-x[0],E[1]-x[1]];x=E;const b=r()*Math.max(_[2],Math.log(_[2]))*(p?-1:1),k={x:_[0]-S[0]*b,y:_[1]-S[1]*b},T=[[0,0],[u,l]];t.setViewportConstrained({x:k.x,y:k.y,zoom:_[2]},T,a)},y=SC().on("start",w).on("zoom",f?m:null).on("zoom.wheel",d?h:null);i.call(y,{})}function s(){i.on("zoom",null)}return{update:o,destroy:s,pointer:Pt}}const ou=e=>({x:e.x,y:e.y,zoom:e.k}),pl=({x:e,y:t,zoom:n})=>nu.translate(e,t).scale(n),Fr=(e,t)=>e.target.closest(`.${t}`),XC=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),wP=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,gl=(e,t=0,n=wP,r=()=>{})=>{const i=typeof t=="number"&&t>0;return i||r(),i?e.transition().duration(t).ease(n).on("end",r):e},QC=e=>{const t=e.ctrlKey&&No()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function SP({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:r,panOnScrollMode:i,panOnScrollSpeed:o,zoomOnPinch:s,onPanZoomStart:a,onPanZoom:u,onPanZoomEnd:l}){return c=>{if(Fr(c,t))return c.ctrlKey&&c.preventDefault(),!1;c.preventDefault(),c.stopImmediatePropagation();const f=n.property("__zoom").k||1;if(c.ctrlKey&&s){const w=Pt(c),m=QC(c),y=f*Math.pow(2,m);r.scaleTo(n,y,w,c);return}const d=c.deltaMode===1?20:1;let p=i===cr.Vertical?0:c.deltaX*d,h=i===cr.Horizontal?0:c.deltaY*d;!No()&&c.shiftKey&&i!==cr.Vertical&&(p=c.deltaY*d,h=0),r.translateBy(n,-(p/f)*o,-(h/f)*o,{internal:!0});const x=ou(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling?(u==null||u(c,x),e.panScrollTimeout=setTimeout(()=>{l==null||l(c,x),e.isPanScrolling=!1},150)):(e.isPanScrolling=!0,a==null||a(c,x))}}function bP({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(r,i){const o=r.type==="wheel",s=!t&&o&&!r.ctrlKey,a=Fr(r,e);if(r.ctrlKey&&o&&a&&r.preventDefault(),s||a)return null;r.preventDefault(),n.call(this,r,i)}}function EP({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return r=>{var o,s,a;if((o=r.sourceEvent)!=null&&o.internal)return;const i=ou(r.transform);e.mouseButton=((s=r.sourceEvent)==null?void 0:s.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=i,((a=r.sourceEvent)==null?void 0:a.type)==="mousedown"&&t(!0),n&&(n==null||n(r.sourceEvent,i))}}function CP({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:r,onPanZoom:i}){return o=>{var s,a;e.usedRightMouseButton=!!(n&&XC(t,e.mouseButton??0)),(s=o.sourceEvent)!=null&&s.sync||r([o.transform.x,o.transform.y,o.transform.k]),i&&!((a=o.sourceEvent)!=null&&a.internal)&&(i==null||i(o.sourceEvent,ou(o.transform)))}}function NP({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:i,onPaneContextMenu:o}){return s=>{var a;if(!((a=s.sourceEvent)!=null&&a.internal)&&(e.isZoomingOrPanning=!1,o&&XC(t,e.mouseButton??0)&&!e.usedRightMouseButton&&s.sourceEvent&&o(s.sourceEvent),e.usedRightMouseButton=!1,r(!1),i)){const u=ou(s.transform);e.prevViewport=u,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{i==null||i(s.sourceEvent,u)},n?150:0)}}}function kP({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:r,panOnScroll:i,zoomOnDoubleClick:o,userSelectionActive:s,noWheelClassName:a,noPanClassName:u,lib:l,connectionInProgress:c}){return f=>{var w;const d=e||t,p=n&&f.ctrlKey,h=f.type==="wheel";if(f.button===1&&f.type==="mousedown"&&(Fr(f,`${l}-flow__node`)||Fr(f,`${l}-flow__edge`)))return!0;if(!r&&!d&&!i&&!o&&!n||s||c&&!h||Fr(f,a)&&h||Fr(f,u)&&(!h||i&&h&&!e)||!n&&f.ctrlKey&&h)return!1;if(!n&&f.type==="touchstart"&&((w=f.touches)==null?void 0:w.length)>1)return f.preventDefault(),!1;if(!d&&!i&&!p&&h||!r&&(f.type==="mousedown"||f.type==="touchstart")||Array.isArray(r)&&!r.includes(f.button)&&f.type==="mousedown")return!1;const x=Array.isArray(r)&&r.includes(f.button)||!f.button||f.button<=1;return(!f.ctrlKey||h)&&x}}function IP({domNode:e,minZoom:t,maxZoom:n,translateExtent:r,viewport:i,onPanZoom:o,onPanZoomStart:s,onPanZoomEnd:a,onDraggingChange:u}){const l={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},c=e.getBoundingClientRect(),f=SC().scaleExtent([t,n]).translateExtent(r),d=dt(e).call(f);y({x:i.x,y:i.y,zoom:ai(i.zoom,t,n)},[[0,0],[c.width,c.height]],r);const p=d.on("wheel.zoom"),h=d.on("dblclick.zoom");f.wheelDelta(QC);function x(R,j){return d?new Promise($=>{f==null||f.interpolate((j==null?void 0:j.interpolate)==="linear"?Ji:Ws).transform(gl(d,j==null?void 0:j.duration,j==null?void 0:j.ease,()=>$(!0)),R)}):Promise.resolve(!1)}function w({noWheelClassName:R,noPanClassName:j,onPaneContextMenu:$,userSelectionActive:C,panOnScroll:L,panOnDrag:A,panOnScrollMode:D,panOnScrollSpeed:N,preventScrolling:I,zoomOnPinch:P,zoomOnScroll:F,zoomOnDoubleClick:H,zoomActivationKeyPressed:W,lib:G,onTransformChange:ne,connectionInProgress:te,paneClickDistance:re,selectionOnDrag:U}){C&&!l.isZoomingOrPanning&&m();const oe=L&&!W&&!C;f.clickDistance(U?1/0:!qt(re)||re<0?0:re);const K=oe?SP({zoomPanValues:l,noWheelClassName:R,d3Selection:d,d3Zoom:f,panOnScrollMode:D,panOnScrollSpeed:N,zoomOnPinch:P,onPanZoomStart:s,onPanZoom:o,onPanZoomEnd:a}):bP({noWheelClassName:R,preventScrolling:I,d3ZoomHandler:p});if(d.on("wheel.zoom",K,{passive:!1}),!C){const Q=EP({zoomPanValues:l,onDraggingChange:u,onPanZoomStart:s});f.on("start",Q);const z=CP({zoomPanValues:l,panOnDrag:A,onPaneContextMenu:!!$,onPanZoom:o,onTransformChange:ne});f.on("zoom",z);const ae=NP({zoomPanValues:l,panOnDrag:A,panOnScroll:L,onPaneContextMenu:$,onPanZoomEnd:a,onDraggingChange:u});f.on("end",ae)}const Y=kP({zoomActivationKeyPressed:W,panOnDrag:A,zoomOnScroll:F,panOnScroll:L,zoomOnDoubleClick:H,zoomOnPinch:P,userSelectionActive:C,noPanClassName:j,noWheelClassName:R,lib:G,connectionInProgress:te});f.filter(Y),H?d.on("dblclick.zoom",h):d.on("dblclick.zoom",null)}function m(){f.on("zoom",null)}async function y(R,j,$){const C=pl(R),L=f==null?void 0:f.constrain()(C,j,$);return L&&await x(L),new Promise(A=>A(L))}async function v(R,j){const $=pl(R);return await x($,j),new Promise(C=>C($))}function _(R){if(d){const j=pl(R),$=d.property("__zoom");($.k!==R.zoom||$.x!==R.x||$.y!==R.y)&&(f==null||f.transform(d,j,null,{sync:!0}))}}function E(){const R=d?wC(d.node()):{x:0,y:0,k:1};return{x:R.x,y:R.y,zoom:R.k}}function S(R,j){return d?new Promise($=>{f==null||f.interpolate((j==null?void 0:j.interpolate)==="linear"?Ji:Ws).scaleTo(gl(d,j==null?void 0:j.duration,j==null?void 0:j.ease,()=>$(!0)),R)}):Promise.resolve(!1)}function b(R,j){return d?new Promise($=>{f==null||f.interpolate((j==null?void 0:j.interpolate)==="linear"?Ji:Ws).scaleBy(gl(d,j==null?void 0:j.duration,j==null?void 0:j.ease,()=>$(!0)),R)}):Promise.resolve(!1)}function k(R){f==null||f.scaleExtent(R)}function T(R){f==null||f.translateExtent(R)}function O(R){const j=!qt(R)||R<0?0:R;f==null||f.clickDistance(j)}return{update:w,destroy:m,setViewport:v,setViewportConstrained:y,getViewport:E,scaleTo:S,scaleBy:b,setScaleExtent:k,setTranslateExtent:T,syncViewport:_,setClickDistance:O}}var ci;(function(e){e.Line="line",e.Handle="handle"})(ci||(ci={}));function RP({width:e,prevWidth:t,height:n,prevHeight:r,affectsX:i,affectsY:o}){const s=e-t,a=n-r,u=[s>0?1:s<0?-1:0,a>0?1:a<0?-1:0];return s&&i&&(u[0]=u[0]*-1),a&&o&&(u[1]=u[1]*-1),u}function Wy(e){const t=e.includes("right")||e.includes("left"),n=e.includes("bottom")||e.includes("top"),r=e.includes("left"),i=e.includes("top");return{isHorizontal:t,isVertical:n,affectsX:r,affectsY:i}}function Cn(e,t){return Math.max(0,t-e)}function Nn(e,t){return Math.max(0,e-t)}function Is(e,t,n){return Math.max(0,t-e,e-n)}function Yy(e,t){return e?!t:t}function TP(e,t,n,r,i,o,s,a){let{affectsX:u,affectsY:l}=t;const{isHorizontal:c,isVertical:f}=t,d=c&&f,{xSnapped:p,ySnapped:h}=n,{minWidth:x,maxWidth:w,minHeight:m,maxHeight:y}=r,{x:v,y:_,width:E,height:S,aspectRatio:b}=e;let k=Math.floor(c?p-e.pointerX:0),T=Math.floor(f?h-e.pointerY:0);const O=E+(u?-k:k),R=S+(l?-T:T),j=-o[0]*E,$=-o[1]*S;let C=Is(O,x,w),L=Is(R,m,y);if(s){let N=0,I=0;u&&k<0?N=Cn(v+k+j,s[0][0]):!u&&k>0&&(N=Nn(v+O+j,s[1][0])),l&&T<0?I=Cn(_+T+$,s[0][1]):!l&&T>0&&(I=Nn(_+R+$,s[1][1])),C=Math.max(C,N),L=Math.max(L,I)}if(a){let N=0,I=0;u&&k>0?N=Nn(v+k,a[0][0]):!u&&k<0&&(N=Cn(v+O,a[1][0])),l&&T>0?I=Nn(_+T,a[0][1]):!l&&T<0&&(I=Cn(_+R,a[1][1])),C=Math.max(C,N),L=Math.max(L,I)}if(i){if(c){const N=Is(O/b,m,y)*b;if(C=Math.max(C,N),s){let I=0;!u&&!l||u&&!l&&d?I=Nn(_+$+O/b,s[1][1])*b:I=Cn(_+$+(u?k:-k)/b,s[0][1])*b,C=Math.max(C,I)}if(a){let I=0;!u&&!l||u&&!l&&d?I=Cn(_+O/b,a[1][1])*b:I=Nn(_+(u?k:-k)/b,a[0][1])*b,C=Math.max(C,I)}}if(f){const N=Is(R*b,x,w)/b;if(L=Math.max(L,N),s){let I=0;!u&&!l||l&&!u&&d?I=Nn(v+R*b+j,s[1][0])/b:I=Cn(v+(l?T:-T)*b+j,s[0][0])/b,L=Math.max(L,I)}if(a){let I=0;!u&&!l||l&&!u&&d?I=Cn(v+R*b,a[1][0])/b:I=Nn(v+(l?T:-T)*b,a[0][0])/b,L=Math.max(L,I)}}}T=T+(T<0?L:-L),k=k+(k<0?C:-C),i&&(d?O>R*b?T=(Yy(u,l)?-k:k)/b:k=(Yy(u,l)?-T:T)*b:c?(T=k/b,l=u):(k=T*b,u=l));const A=u?v+k:v,D=l?_+T:_;return{width:E+(u?-k:k),height:S+(l?-T:T),x:o[0]*k*(u?-1:1)+A,y:o[1]*T*(l?-1:1)+D}}const ZC={width:0,height:0,x:0,y:0},MP={...ZC,pointerX:0,pointerY:0,aspectRatio:1};function AP(e){return[[0,0],[e.measured.width,e.measured.height]]}function jP(e,t,n){const r=t.position.x+e.position.x,i=t.position.y+e.position.y,o=e.measured.width??0,s=e.measured.height??0,a=n[0]*o,u=n[1]*s;return[[r-a,i-u],[r+o-a,i+s-u]]}function PP({domNode:e,nodeId:t,getStoreItems:n,onChange:r,onEnd:i}){const o=dt(e);let s={controlDirection:Wy("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function a({controlPosition:l,boundaries:c,keepAspectRatio:f,resizeDirection:d,onResizeStart:p,onResize:h,onResizeEnd:x,shouldResize:w}){let m={...ZC},y={...MP};s={boundaries:c,resizeDirection:d,keepAspectRatio:f,controlDirection:Wy(l)};let v,_=null,E=[],S,b,k,T=!1;const O=aC().on("start",R=>{const{nodeLookup:j,transform:$,snapGrid:C,snapToGrid:L,nodeOrigin:A,paneDomNode:D}=n();if(v=j.get(t),!v)return;_=(D==null?void 0:D.getBoundingClientRect())??null;const{xSnapped:N,ySnapped:I}=eo(R.sourceEvent,{transform:$,snapGrid:C,snapToGrid:L,containerBounds:_});m={width:v.measured.width??0,height:v.measured.height??0,x:v.position.x??0,y:v.position.y??0},y={...m,pointerX:N,pointerY:I,aspectRatio:m.width/m.height},S=void 0,v.parentId&&(v.extent==="parent"||v.expandParent)&&(S=j.get(v.parentId),b=S&&v.extent==="parent"?AP(S):void 0),E=[],k=void 0;for(const[P,F]of j)if(F.parentId===t&&(E.push({id:P,position:{...F.position},extent:F.extent}),F.extent==="parent"||F.expandParent)){const H=jP(F,v,F.origin??A);k?k=[[Math.min(H[0][0],k[0][0]),Math.min(H[0][1],k[0][1])],[Math.max(H[1][0],k[1][0]),Math.max(H[1][1],k[1][1])]]:k=H}p==null||p(R,{...m})}).on("drag",R=>{const{transform:j,snapGrid:$,snapToGrid:C,nodeOrigin:L}=n(),A=eo(R.sourceEvent,{transform:j,snapGrid:$,snapToGrid:C,containerBounds:_}),D=[];if(!v)return;const{x:N,y:I,width:P,height:F}=m,H={},W=v.origin??L,{width:G,height:ne,x:te,y:re}=TP(y,s.controlDirection,A,s.boundaries,s.keepAspectRatio,W,b,k),U=G!==P,oe=ne!==F,K=te!==N&&U,Y=re!==I&&oe;if(!K&&!Y&&!U&&!oe)return;if((K||Y||W[0]===1||W[1]===1)&&(H.x=K?te:m.x,H.y=Y?re:m.y,m.x=H.x,m.y=H.y,E.length>0)){const Z=te-N,se=re-I;for(const ue of E)ue.position={x:ue.position.x-Z+W[0]*(G-P),y:ue.position.y-se+W[1]*(ne-F)},D.push(ue)}if((U||oe)&&(H.width=U&&(!s.resizeDirection||s.resizeDirection==="horizontal")?G:m.width,H.height=oe&&(!s.resizeDirection||s.resizeDirection==="vertical")?ne:m.height,m.width=H.width,m.height=H.height),S&&v.expandParent){const Z=W[0]*(H.width??0);H.x&&H.x<Z&&(m.x=Z,y.x=y.x-(H.x-Z));const se=W[1]*(H.height??0);H.y&&H.y<se&&(m.y=se,y.y=y.y-(H.y-se))}const Q=RP({width:m.width,prevWidth:P,height:m.height,prevHeight:F,affectsX:s.controlDirection.affectsX,affectsY:s.controlDirection.affectsY}),z={...m,direction:Q};(w==null?void 0:w(R,z))!==!1&&(T=!0,h==null||h(R,z),r(H,D))}).on("end",R=>{T&&(x==null||x(R,{...m}),i==null||i({...m}),T=!1)});o.call(O)}function u(){o.on(".drag",null)}return{update:a,destroy:u}}var JC={exports:{}},e2={},t2={exports:{}},n2={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fi=q;function LP(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var OP=typeof Object.is=="function"?Object.is:LP,qP=fi.useState,DP=fi.useEffect,$P=fi.useLayoutEffect,zP=fi.useDebugValue;function FP(e,t){var n=t(),r=qP({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return $P(function(){i.value=n,i.getSnapshot=t,ml(i)&&o({inst:i})},[e,n,t]),DP(function(){return ml(i)&&o({inst:i}),e(function(){ml(i)&&o({inst:i})})},[e]),zP(n),n}function ml(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!OP(e,n)}catch{return!0}}function HP(e,t){return t()}var BP=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?HP:FP;n2.useSyncExternalStore=fi.useSyncExternalStore!==void 0?fi.useSyncExternalStore:BP;t2.exports=n2;var VP=t2.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var su=q,UP=VP;function GP(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var WP=typeof Object.is=="function"?Object.is:GP,YP=UP.useSyncExternalStore,KP=su.useRef,XP=su.useEffect,QP=su.useMemo,ZP=su.useDebugValue;e2.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=KP(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=QP(function(){function u(p){if(!l){if(l=!0,c=p,p=r(p),i!==void 0&&s.hasValue){var h=s.value;if(i(h,p))return f=h}return f=p}if(h=f,WP(c,p))return h;var x=r(p);return i!==void 0&&i(h,x)?(c=p,h):(c=p,f=x)}var l=!1,c,f,d=n===void 0?null:n;return[function(){return u(t())},d===null?void 0:function(){return u(d())}]},[t,n,r,i]);var a=YP(e,o[0],o[1]);return XP(function(){s.hasValue=!0,s.value=a},[a]),ZP(a),a};JC.exports=e2;var JP=JC.exports;const e3=bg(JP),t3={},Ky=e=>{let t;const n=new Set,r=(c,f)=>{const d=typeof c=="function"?c(t):c;if(!Object.is(d,t)){const p=t;t=f??(typeof d!="object"||d===null)?d:Object.assign({},t,d),n.forEach(h=>h(t,p))}},i=()=>t,u={setState:r,getState:i,getInitialState:()=>l,subscribe:c=>(n.add(c),()=>n.delete(c)),destroy:()=>{(t3?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},l=t=e(r,i,u);return u},n3=e=>e?Ky(e):Ky,{useDebugValue:r3}=VS,{useSyncExternalStoreWithSelector:i3}=e3,o3=e=>e;function r2(e,t=o3,n){const r=i3(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return r3(r),r}const Xy=(e,t)=>{const n=n3(e),r=(i,o=t)=>r2(n,i,o);return Object.assign(r,n),r},s3=(e,t)=>e?Xy(e,t):Xy;function Ee(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,i]of e)if(!Object.is(i,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}const au=q.createContext(null),a3=au.Provider,i2=Jt.error001();function me(e,t){const n=q.useContext(au);if(n===null)throw new Error(i2);return r2(n,e,t)}function Ce(){const e=q.useContext(au);if(e===null)throw new Error(i2);return q.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const Qy={display:"none"},u3={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},o2="react-flow__node-desc",s2="react-flow__edge-desc",l3="react-flow__aria-live",c3=e=>e.ariaLiveMessage,f3=e=>e.ariaLabelConfig;function d3({rfId:e}){const t=me(c3);return g.jsx("div",{id:`${l3}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:u3,children:t})}function h3({rfId:e,disableKeyboardA11y:t}){const n=me(f3);return g.jsxs(g.Fragment,{children:[g.jsx("div",{id:`${o2}-${e}`,style:Qy,children:t?n["node.a11yDescription.default"]:n["node.a11yDescription.keyboardDisabled"]}),g.jsx("div",{id:`${s2}-${e}`,style:Qy,children:n["edge.a11yDescription.default"]}),!t&&g.jsx(d3,{rfId:e})]})}const di=q.forwardRef(({position:e="top-left",children:t,className:n,style:r,...i},o)=>{const s=`${e}`.split("-");return g.jsx("div",{className:Pe(["react-flow__panel",n,...s]),style:r,ref:o,...i,children:t})});di.displayName="Panel";function p3({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:g.jsx(di,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:g.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const g3=e=>{const t=[],n=[];for(const[,r]of e.nodeLookup)r.selected&&t.push(r.internals.userNode);for(const[,r]of e.edgeLookup)r.selected&&n.push(r);return{selectedNodes:t,selectedEdges:n}},Rs=e=>e.id;function m3(e,t){return Ee(e.selectedNodes.map(Rs),t.selectedNodes.map(Rs))&&Ee(e.selectedEdges.map(Rs),t.selectedEdges.map(Rs))}function v3({onSelectionChange:e}){const t=Ce(),{selectedNodes:n,selectedEdges:r}=me(g3,m3);return q.useEffect(()=>{const i={nodes:n,edges:r};e==null||e(i),t.getState().onSelectionChangeHandlers.forEach(o=>o(i))},[n,r,e]),null}const y3=e=>!!e.onSelectionChangeHandlers;function x3({onSelectionChange:e}){const t=me(y3);return e||t?g.jsx(v3,{onSelectionChange:e}):null}const a2=[0,0],_3={x:0,y:0,zoom:1},w3=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode"],Zy=[...w3,"rfId"],S3=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges}),Jy={translateExtent:bo,nodeOrigin:a2,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function b3(e){const{setNodes:t,setEdges:n,setMinZoom:r,setMaxZoom:i,setTranslateExtent:o,setNodeExtent:s,reset:a,setDefaultNodesAndEdges:u}=me(S3,Ee),l=Ce();q.useEffect(()=>(u(e.defaultNodes,e.defaultEdges),()=>{c.current=Jy,a()}),[]);const c=q.useRef(Jy);return q.useEffect(()=>{for(const f of Zy){const d=e[f],p=c.current[f];d!==p&&(typeof e[f]>"u"||(f==="nodes"?t(d):f==="edges"?n(d):f==="minZoom"?r(d):f==="maxZoom"?i(d):f==="translateExtent"?o(d):f==="nodeExtent"?s(d):f==="ariaLabelConfig"?l.setState({ariaLabelConfig:Wj(d)}):f==="fitView"?l.setState({fitViewQueued:d}):f==="fitViewOptions"?l.setState({fitViewOptions:d}):l.setState({[f]:d})))}c.current=e},Zy.map(f=>e[f])),null}function e0(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function E3(e){var r;const[t,n]=q.useState(e==="system"?null:e);return q.useEffect(()=>{if(e!=="system"){n(e);return}const i=e0(),o=()=>n(i!=null&&i.matches?"dark":"light");return o(),i==null||i.addEventListener("change",o),()=>{i==null||i.removeEventListener("change",o)}},[e]),t!==null?t:(r=e0())!=null&&r.matches?"dark":"light"}const t0=typeof document<"u"?document:null;function ko(e=null,t={target:t0,actInsideInputWithModifier:!0}){const[n,r]=q.useState(!1),i=q.useRef(!1),o=q.useRef(new Set([])),[s,a]=q.useMemo(()=>{if(e!==null){const l=(Array.isArray(e)?e:[e]).filter(f=>typeof f=="string").map(f=>f.replace("+",`
`).replace(`

`,`
+`).split(`
`)),c=l.reduce((f,d)=>f.concat(...d),[]);return[l,c]}return[[],[]]},[e]);return q.useEffect(()=>{const u=(t==null?void 0:t.target)??t0,l=(t==null?void 0:t.actInsideInputWithModifier)??!0;if(e!==null){const c=p=>{var w,m;if(i.current=p.ctrlKey||p.metaKey||p.shiftKey||p.altKey,(!i.current||i.current&&!l)&&LC(p))return!1;const x=r0(p.code,a);if(o.current.add(p[x]),n0(s,o.current,!1)){const y=((m=(w=p.composedPath)==null?void 0:w.call(p))==null?void 0:m[0])||p.target,v=(y==null?void 0:y.nodeName)==="BUTTON"||(y==null?void 0:y.nodeName)==="A";t.preventDefault!==!1&&(i.current||!v)&&p.preventDefault(),r(!0)}},f=p=>{const h=r0(p.code,a);n0(s,o.current,!0)?(r(!1),o.current.clear()):o.current.delete(p[h]),p.key==="Meta"&&o.current.clear(),i.current=!1},d=()=>{o.current.clear(),r(!1)};return u==null||u.addEventListener("keydown",c),u==null||u.addEventListener("keyup",f),window.addEventListener("blur",d),window.addEventListener("contextmenu",d),()=>{u==null||u.removeEventListener("keydown",c),u==null||u.removeEventListener("keyup",f),window.removeEventListener("blur",d),window.removeEventListener("contextmenu",d)}}},[e,r]),n}function n0(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(i=>t.has(i)))}function r0(e,t){return t.includes(e)?"code":"key"}const C3=()=>{const e=Ce();return q.useMemo(()=>({zoomIn:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{const{panZoom:r}=e.getState();return r?r.scaleTo(t,{duration:n==null?void 0:n.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{const{transform:[r,i,o],panZoom:s}=e.getState();return s?(await s.setViewport({x:t.x??r,y:t.y??i,zoom:t.zoom??o},n),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,n,r]=e.getState().transform;return{x:t,y:n,zoom:r}},setCenter:async(t,n,r)=>e.getState().setCenter(t,n,r),fitBounds:async(t,n)=>{const{width:r,height:i,minZoom:o,maxZoom:s,panZoom:a}=e.getState(),u=km(t,r,i,o,s,(n==null?void 0:n.padding)??.1);return a?(await a.setViewport(u,{duration:n==null?void 0:n.duration,ease:n==null?void 0:n.ease,interpolate:n==null?void 0:n.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,n={})=>{const{transform:r,snapGrid:i,snapToGrid:o,domNode:s}=e.getState();if(!s)return t;const{x:a,y:u}=s.getBoundingClientRect(),l={x:t.x-a,y:t.y-u},c=n.snapGrid??i,f=n.snapToGrid??o;return Do(l,r,f,c)},flowToScreenPosition:t=>{const{transform:n,domNode:r}=e.getState();if(!r)return t;const{x:i,y:o}=r.getBoundingClientRect(),s=Ta(t,n);return{x:s.x+i,y:s.y+o}}}),[])};function u2(e,t){const n=[],r=new Map,i=[];for(const o of e)if(o.type==="add"){i.push(o);continue}else if(o.type==="remove"||o.type==="replace")r.set(o.id,[o]);else{const s=r.get(o.id);s?s.push(o):r.set(o.id,[o])}for(const o of t){const s=r.get(o.id);if(!s){n.push(o);continue}if(s[0].type==="remove")continue;if(s[0].type==="replace"){n.push({...s[0].item});continue}const a={...o};for(const u of s)N3(u,a);n.push(a)}return i.length&&i.forEach(o=>{o.index!==void 0?n.splice(o.index,0,{...o.item}):n.push({...o.item})}),n}function N3(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured={...e.dimensions},e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(t.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(t.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function l2(e,t){return u2(e,t)}function c2(e,t){return u2(e,t)}function tr(e,t){return{id:e,type:"select",selected:t}}function Hr(e,t=new Set,n=!1){const r=[];for(const[i,o]of e){const s=t.has(i);!(o.selected===void 0&&!s)&&o.selected!==s&&(n&&(o.selected=s),r.push(tr(o.id,s)))}return r}function i0({items:e=[],lookup:t}){var i;const n=[],r=new Map(e.map(o=>[o.id,o]));for(const[o,s]of e.entries()){const a=t.get(s.id),u=((i=a==null?void 0:a.internals)==null?void 0:i.userNode)??a;u!==void 0&&u!==s&&n.push({id:s.id,item:s,type:"replace"}),u===void 0&&n.push({item:s,type:"add",index:o})}for(const[o]of t)r.get(o)===void 0&&n.push({id:o,type:"remove"});return n}function o0(e){return{id:e.id,type:"remove"}}const s0=e=>qj(e),k3=e=>kC(e);function f2(e){return q.forwardRef(e)}const I3=typeof window<"u"?q.useLayoutEffect:q.useEffect;function a0(e){const[t,n]=q.useState(BigInt(0)),[r]=q.useState(()=>R3(()=>n(i=>i+BigInt(1))));return I3(()=>{const i=r.get();i.length&&(e(i),r.reset())},[t]),r}function R3(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}}const d2=q.createContext(null);function T3({children:e}){const t=Ce(),n=q.useCallback(a=>{const{nodes:u=[],setNodes:l,hasDefaultNodes:c,onNodesChange:f,nodeLookup:d,fitViewQueued:p,onNodesChangeMiddlewareMap:h}=t.getState();let x=u;for(const m of a)x=typeof m=="function"?m(x):m;let w=i0({items:x,lookup:d});for(const m of h.values())w=m(w);c&&l(x),w.length>0?f==null||f(w):p&&window.requestAnimationFrame(()=>{const{fitViewQueued:m,nodes:y,setNodes:v}=t.getState();m&&v(y)})},[]),r=a0(n),i=q.useCallback(a=>{const{edges:u=[],setEdges:l,hasDefaultEdges:c,onEdgesChange:f,edgeLookup:d}=t.getState();let p=u;for(const h of a)p=typeof h=="function"?h(p):h;c?l(p):f&&f(i0({items:p,lookup:d}))},[]),o=a0(i),s=q.useMemo(()=>({nodeQueue:r,edgeQueue:o}),[]);return g.jsx(d2.Provider,{value:s,children:e})}function M3(){const e=q.useContext(d2);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const A3=e=>!!e.panZoom;function uu(){const e=C3(),t=Ce(),n=M3(),r=me(A3),i=q.useMemo(()=>{const o=f=>t.getState().nodeLookup.get(f),s=f=>{n.nodeQueue.push(f)},a=f=>{n.edgeQueue.push(f)},u=f=>{var m,y;const{nodeLookup:d,nodeOrigin:p}=t.getState(),h=s0(f)?f:d.get(f.id),x=h.parentId?jC(h.position,h.measured,h.parentId,d,p):h.position,w={...h,position:x,width:((m=h.measured)==null?void 0:m.width)??h.width,height:((y=h.measured)==null?void 0:y.height)??h.height};return ui(w)},l=(f,d,p={replace:!1})=>{s(h=>h.map(x=>{if(x.id===f){const w=typeof d=="function"?d(x):d;return p.replace&&s0(w)?w:{...x,...w}}return x}))},c=(f,d,p={replace:!1})=>{a(h=>h.map(x=>{if(x.id===f){const w=typeof d=="function"?d(x):d;return p.replace&&k3(w)?w:{...x,...w}}return x}))};return{getNodes:()=>t.getState().nodes.map(f=>({...f})),getNode:f=>{var d;return(d=o(f))==null?void 0:d.internals.userNode},getInternalNode:o,getEdges:()=>{const{edges:f=[]}=t.getState();return f.map(d=>({...d}))},getEdge:f=>t.getState().edgeLookup.get(f),setNodes:s,setEdges:a,addNodes:f=>{const d=Array.isArray(f)?f:[f];n.nodeQueue.push(p=>[...p,...d])},addEdges:f=>{const d=Array.isArray(f)?f:[f];n.edgeQueue.push(p=>[...p,...d])},toObject:()=>{const{nodes:f=[],edges:d=[],transform:p}=t.getState(),[h,x,w]=p;return{nodes:f.map(m=>({...m})),edges:d.map(m=>({...m})),viewport:{x:h,y:x,zoom:w}}},deleteElements:async({nodes:f=[],edges:d=[]})=>{const{nodes:p,edges:h,onNodesDelete:x,onEdgesDelete:w,triggerNodeChanges:m,triggerEdgeChanges:y,onDelete:v,onBeforeDelete:_}=t.getState(),{nodes:E,edges:S}=await Hj({nodesToRemove:f,edgesToRemove:d,nodes:p,edges:h,onBeforeDelete:_}),b=S.length>0,k=E.length>0;if(b){const T=S.map(o0);w==null||w(S),y(T)}if(k){const T=E.map(o0);x==null||x(E),m(T)}return(k||b)&&(v==null||v({nodes:E,edges:S})),{deletedNodes:E,deletedEdges:S}},getIntersectingNodes:(f,d=!0,p)=>{const h=Oy(f),x=h?f:u(f),w=p!==void 0;return x?(p||t.getState().nodes).filter(m=>{const y=t.getState().nodeLookup.get(m.id);if(y&&!h&&(m.id===f.id||!y.internals.positionAbsolute))return!1;const v=ui(w?m:y),_=Co(v,x);return d&&_>0||_>=v.width*v.height||_>=x.width*x.height}):[]},isNodeIntersecting:(f,d,p=!0)=>{const x=Oy(f)?f:u(f);if(!x)return!1;const w=Co(x,d);return p&&w>0||w>=d.width*d.height||w>=x.width*x.height},updateNode:l,updateNodeData:(f,d,p={replace:!1})=>{l(f,h=>{const x=typeof d=="function"?d(h):d;return p.replace?{...h,data:x}:{...h,data:{...h.data,...x}}},p)},updateEdge:c,updateEdgeData:(f,d,p={replace:!1})=>{c(f,h=>{const x=typeof d=="function"?d(h):d;return p.replace?{...h,data:x}:{...h,data:{...h.data,...x}}},p)},getNodesBounds:f=>{const{nodeLookup:d,nodeOrigin:p}=t.getState();return Dj(f,{nodeLookup:d,nodeOrigin:p})},getHandleConnections:({type:f,id:d,nodeId:p})=>{var h;return Array.from(((h=t.getState().connectionLookup.get(`${p}-${f}${d?`-${d}`:""}`))==null?void 0:h.values())??[])},getNodeConnections:({type:f,handleId:d,nodeId:p})=>{var h;return Array.from(((h=t.getState().connectionLookup.get(`${p}${f?d?`-${f}-${d}`:`-${f}`:""}`))==null?void 0:h.values())??[])},fitView:async f=>{const d=t.getState().fitViewResolver??Gj();return t.setState({fitViewQueued:!0,fitViewOptions:f,fitViewResolver:d}),n.nodeQueue.push(p=>[...p]),d.promise}}},[]);return q.useMemo(()=>({...i,...e,viewportInitialized:r}),[r])}const u0=e=>e.selected,j3=typeof window<"u"?window:void 0;function P3({deleteKeyCode:e,multiSelectionKeyCode:t}){const n=Ce(),{deleteElements:r}=uu(),i=ko(e,{actInsideInputWithModifier:!1}),o=ko(t,{target:j3});q.useEffect(()=>{if(i){const{edges:s,nodes:a}=n.getState();r({nodes:a.filter(u0),edges:s.filter(u0)}),n.setState({nodesSelectionActive:!1})}},[i]),q.useEffect(()=>{n.setState({multiSelectionActive:o})},[o])}function L3(e){const t=Ce();q.useEffect(()=>{const n=()=>{var i,o,s,a;if(!e.current||!(((o=(i=e.current).checkVisibility)==null?void 0:o.call(i))??!0))return!1;const r=Im(e.current);(r.height===0||r.width===0)&&((a=(s=t.getState()).onError)==null||a.call(s,"004",Jt.error004())),t.setState({width:r.width||500,height:r.height||500})};if(e.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(e.current),()=>{window.removeEventListener("resize",n),r&&e.current&&r.unobserve(e.current)}}},[])}const lu={position:"absolute",width:"100%",height:"100%",top:0,left:0},O3=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib,connectionInProgress:e.connection.inProgress});function q3({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:i=.5,panOnScrollMode:o=cr.Free,zoomOnDoubleClick:s=!0,panOnDrag:a=!0,defaultViewport:u,translateExtent:l,minZoom:c,maxZoom:f,zoomActivationKeyCode:d,preventScrolling:p=!0,children:h,noWheelClassName:x,noPanClassName:w,onViewportChange:m,isControlledViewport:y,paneClickDistance:v,selectionOnDrag:_}){const E=Ce(),S=q.useRef(null),{userSelectionActive:b,lib:k,connectionInProgress:T}=me(O3,Ee),O=ko(d),R=q.useRef();L3(S);const j=q.useCallback($=>{m==null||m({x:$[0],y:$[1],zoom:$[2]}),y||E.setState({transform:$})},[m,y]);return q.useEffect(()=>{if(S.current){R.current=IP({domNode:S.current,minZoom:c,maxZoom:f,translateExtent:l,viewport:u,onDraggingChange:A=>E.setState({paneDragging:A}),onPanZoomStart:(A,D)=>{const{onViewportChangeStart:N,onMoveStart:I}=E.getState();I==null||I(A,D),N==null||N(D)},onPanZoom:(A,D)=>{const{onViewportChange:N,onMove:I}=E.getState();I==null||I(A,D),N==null||N(D)},onPanZoomEnd:(A,D)=>{const{onViewportChangeEnd:N,onMoveEnd:I}=E.getState();I==null||I(A,D),N==null||N(D)}});const{x:$,y:C,zoom:L}=R.current.getViewport();return E.setState({panZoom:R.current,transform:[$,C,L],domNode:S.current.closest(".react-flow")}),()=>{var A;(A=R.current)==null||A.destroy()}}},[]),q.useEffect(()=>{var $;($=R.current)==null||$.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:i,panOnScrollMode:o,zoomOnDoubleClick:s,panOnDrag:a,zoomActivationKeyPressed:O,preventScrolling:p,noPanClassName:w,userSelectionActive:b,noWheelClassName:x,lib:k,onTransformChange:j,connectionInProgress:T,selectionOnDrag:_,paneClickDistance:v})},[e,t,n,r,i,o,s,a,O,p,w,b,x,k,j,T,_,v]),g.jsx("div",{className:"react-flow__renderer",ref:S,style:lu,children:h})}const D3=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function $3(){const{userSelectionActive:e,userSelectionRect:t}=me(D3,Ee);return e&&t?g.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const vl=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},z3=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function F3({isSelecting:e,selectionKeyPressed:t,selectionMode:n=Eo.Full,panOnDrag:r,paneClickDistance:i,selectionOnDrag:o,onSelectionStart:s,onSelectionEnd:a,onPaneClick:u,onPaneContextMenu:l,onPaneScroll:c,onPaneMouseEnter:f,onPaneMouseMove:d,onPaneMouseLeave:p,children:h}){const x=Ce(),{userSelectionActive:w,elementsSelectable:m,dragging:y,connectionInProgress:v}=me(z3,Ee),_=m&&(e||w),E=q.useRef(null),S=q.useRef(),b=q.useRef(new Set),k=q.useRef(new Set),T=q.useRef(!1),O=N=>{if(T.current||v){T.current=!1;return}u==null||u(N),x.getState().resetSelectedElements(),x.setState({nodesSelectionActive:!1})},R=N=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){N.preventDefault();return}l==null||l(N)},j=c?N=>c(N):void 0,$=N=>{T.current&&(N.stopPropagation(),T.current=!1)},C=N=>{var ne,te;const{domNode:I}=x.getState();if(S.current=I==null?void 0:I.getBoundingClientRect(),!S.current)return;const P=N.target===E.current;if(!P&&!!N.target.closest(".nokey")||!e||!(o&&P||t)||N.button!==0||!N.isPrimary)return;(te=(ne=N.target)==null?void 0:ne.setPointerCapture)==null||te.call(ne,N.pointerId),T.current=!1;const{x:W,y:G}=Dt(N.nativeEvent,S.current);x.setState({userSelectionRect:{width:0,height:0,startX:W,startY:G,x:W,y:G}}),P||(N.stopPropagation(),N.preventDefault())},L=N=>{const{userSelectionRect:I,transform:P,nodeLookup:F,edgeLookup:H,connectionLookup:W,triggerNodeChanges:G,triggerEdgeChanges:ne,defaultEdgeOptions:te,resetSelectedElements:re}=x.getState();if(!S.current||!I)return;const{x:U,y:oe}=Dt(N.nativeEvent,S.current),{startX:K,startY:Y}=I;if(!T.current){const se=t?0:i;if(Math.hypot(U-K,oe-Y)<=se)return;re(),s==null||s(N)}T.current=!0;const Q={startX:K,startY:Y,x:U<K?U:K,y:oe<Y?oe:Y,width:Math.abs(U-K),height:Math.abs(oe-Y)},z=b.current,ae=k.current;b.current=new Set(Nm(F,Q,P,n===Eo.Partial,!0).map(se=>se.id)),k.current=new Set;const Z=(te==null?void 0:te.selectable)??!0;for(const se of b.current){const ue=W.get(se);if(ue)for(const{edgeId:$e}of ue.values()){const Oe=H.get($e);Oe&&(Oe.selectable??Z)&&k.current.add($e)}}if(!qy(z,b.current)){const se=Hr(F,b.current,!0);G(se)}if(!qy(ae,k.current)){const se=Hr(H,k.current);ne(se)}x.setState({userSelectionRect:Q,userSelectionActive:!0,nodesSelectionActive:!1})},A=N=>{var I,P;N.button===0&&((P=(I=N.target)==null?void 0:I.releasePointerCapture)==null||P.call(I,N.pointerId),!w&&N.target===E.current&&x.getState().userSelectionRect&&(O==null||O(N)),x.setState({userSelectionActive:!1,userSelectionRect:null}),T.current&&(a==null||a(N),x.setState({nodesSelectionActive:b.current.size>0})))},D=r===!0||Array.isArray(r)&&r.includes(0);return g.jsxs("div",{className:Pe(["react-flow__pane",{draggable:D,dragging:y,selection:e}]),onClick:_?void 0:vl(O,E),onContextMenu:vl(R,E),onWheel:vl(j,E),onPointerEnter:_?void 0:f,onPointerMove:_?L:d,onPointerUp:_?A:void 0,onPointerDownCapture:_?C:void 0,onClickCapture:_?$:void 0,onPointerLeave:p,ref:E,style:lu,children:[h,g.jsx($3,{})]})}function xg({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:o,multiSelectionActive:s,nodeLookup:a,onError:u}=t.getState(),l=a.get(e);if(!l){u==null||u("012",Jt.error012(e));return}t.setState({nodesSelectionActive:!1}),l.selected?(n||l.selected&&s)&&(o({nodes:[l],edges:[]}),requestAnimationFrame(()=>{var c;return(c=r==null?void 0:r.current)==null?void 0:c.blur()})):i([e])}function h2({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:o,nodeClickDistance:s}){const a=Ce(),[u,l]=q.useState(!1),c=q.useRef();return q.useEffect(()=>{c.current=pP({getStoreItems:()=>a.getState(),onNodeMouseDown:f=>{xg({id:f,store:a,nodeRef:e})},onDragStart:()=>{l(!0)},onDragStop:()=>{l(!1)}})},[]),q.useEffect(()=>{var f,d;if(t)(f=c.current)==null||f.destroy();else if(e.current)return(d=c.current)==null||d.update({noDragClassName:n,handleSelector:r,domNode:e.current,isSelectable:o,nodeId:i,nodeClickDistance:s}),()=>{var p;(p=c.current)==null||p.destroy()}},[n,r,t,o,e,i]),u}const H3=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function p2(){const e=Ce();return q.useCallback(n=>{const{nodeExtent:r,snapToGrid:i,snapGrid:o,nodesDraggable:s,onError:a,updateNodePositions:u,nodeLookup:l,nodeOrigin:c}=e.getState(),f=new Map,d=H3(s),p=i?o[0]:5,h=i?o[1]:5,x=n.direction.x*p*n.factor,w=n.direction.y*h*n.factor;for(const[,m]of l){if(!d(m))continue;let y={x:m.internals.positionAbsolute.x+x,y:m.internals.positionAbsolute.y+w};i&&(y=qo(y,o));const{position:v,positionAbsolute:_}=IC({nodeId:m.id,nextPosition:y,nodeLookup:l,nodeExtent:r,nodeOrigin:c,onError:a});m.position=v,m.internals.positionAbsolute=_,f.set(m.id,m)}u(f)},[])}const Pm=q.createContext(null),B3=Pm.Provider;Pm.Consumer;const g2=()=>q.useContext(Pm),V3=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),U3=(e,t,n)=>r=>{const{connectionClickStartHandle:i,connectionMode:o,connection:s}=r,{fromHandle:a,toHandle:u,isValid:l}=s,c=(u==null?void 0:u.nodeId)===e&&(u==null?void 0:u.id)===t&&(u==null?void 0:u.type)===n;return{connectingFrom:(a==null?void 0:a.nodeId)===e&&(a==null?void 0:a.id)===t&&(a==null?void 0:a.type)===n,connectingTo:c,clickConnecting:(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.id)===t&&(i==null?void 0:i.type)===n,isPossibleEndHandle:o===si.Strict?(a==null?void 0:a.type)!==n:e!==(a==null?void 0:a.nodeId)||t!==(a==null?void 0:a.id),connectionInProcess:!!a,clickConnectionInProcess:!!i,valid:c&&l}};function G3({type:e="source",position:t=ee.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:o=!0,id:s,onConnect:a,children:u,className:l,onMouseDown:c,onTouchStart:f,...d},p){var L,A;const h=s||null,x=e==="target",w=Ce(),m=g2(),{connectOnClick:y,noPanClassName:v,rfId:_}=me(V3,Ee),{connectingFrom:E,connectingTo:S,clickConnecting:b,isPossibleEndHandle:k,connectionInProcess:T,clickConnectionInProcess:O,valid:R}=me(U3(m,h,e),Ee);m||(A=(L=w.getState()).onError)==null||A.call(L,"010",Jt.error010());const j=D=>{const{defaultEdgeOptions:N,onConnect:I,hasDefaultEdges:P}=w.getState(),F={...N,...D};if(P){const{edges:H,setEdges:W}=w.getState();W(zC(F,H))}I==null||I(F),a==null||a(F)},$=D=>{if(!m)return;const N=OC(D.nativeEvent);if(i&&(N&&D.button===0||!N)){const I=w.getState();yg.onPointerDown(D.nativeEvent,{handleDomNode:D.currentTarget,autoPanOnConnect:I.autoPanOnConnect,connectionMode:I.connectionMode,connectionRadius:I.connectionRadius,domNode:I.domNode,nodeLookup:I.nodeLookup,lib:I.lib,isTarget:x,handleId:h,nodeId:m,flowId:I.rfId,panBy:I.panBy,cancelConnection:I.cancelConnection,onConnectStart:I.onConnectStart,onConnectEnd:I.onConnectEnd,updateConnection:I.updateConnection,onConnect:j,isValidConnection:n||I.isValidConnection,getTransform:()=>w.getState().transform,getFromHandle:()=>w.getState().connection.fromHandle,autoPanSpeed:I.autoPanSpeed,dragThreshold:I.connectionDragThreshold})}N?c==null||c(D):f==null||f(D)},C=D=>{const{onClickConnectStart:N,onClickConnectEnd:I,connectionClickStartHandle:P,connectionMode:F,isValidConnection:H,lib:W,rfId:G,nodeLookup:ne,connection:te}=w.getState();if(!m||!P&&!i)return;if(!P){N==null||N(D.nativeEvent,{nodeId:m,handleId:h,handleType:e}),w.setState({connectionClickStartHandle:{nodeId:m,type:e,id:h}});return}const re=PC(D.target),U=n||H,{connection:oe,isValid:K}=yg.isValid(D.nativeEvent,{handle:{nodeId:m,id:h,type:e},connectionMode:F,fromNodeId:P.nodeId,fromHandleId:P.id||null,fromType:P.type,isValidConnection:U,flowId:G,doc:re,lib:W,nodeLookup:ne});K&&oe&&j(oe);const Y=structuredClone(te);delete Y.inProgress,Y.toPosition=Y.toHandle?Y.toHandle.position:null,I==null||I(D,Y),w.setState({connectionClickStartHandle:null})};return g.jsx("div",{"data-handleid":h,"data-nodeid":m,"data-handlepos":t,"data-id":`${_}-${m}-${h}-${e}`,className:Pe(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",v,l,{source:!x,target:x,connectable:r,connectablestart:i,connectableend:o,clickconnecting:b,connectingfrom:E,connectingto:S,valid:R,connectionindicator:r&&(!T||k)&&(T||O?o:i)}]),onMouseDown:$,onTouchStart:$,onClick:y?C:void 0,ref:p,...d,children:u})}const Ze=q.memo(f2(G3));function W3({data:e,isConnectable:t,sourcePosition:n=ee.Bottom}){return g.jsxs(g.Fragment,{children:[e==null?void 0:e.label,g.jsx(Ze,{type:"source",position:n,isConnectable:t})]})}function Y3({data:e,isConnectable:t,targetPosition:n=ee.Top,sourcePosition:r=ee.Bottom}){return g.jsxs(g.Fragment,{children:[g.jsx(Ze,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,g.jsx(Ze,{type:"source",position:r,isConnectable:t})]})}function K3(){return null}function X3({data:e,isConnectable:t,targetPosition:n=ee.Top}){return g.jsxs(g.Fragment,{children:[g.jsx(Ze,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label]})}const Ma={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},l0={input:W3,default:Y3,output:X3,group:K3};function Q3(e){var t,n,r,i;return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??((t=e.style)==null?void 0:t.width),height:e.height??e.initialHeight??((n=e.style)==null?void 0:n.height)}:{width:e.width??((r=e.style)==null?void 0:r.width),height:e.height??((i=e.style)==null?void 0:i.height)}}const Z3=e=>{const{width:t,height:n,x:r,y:i}=Oo(e.nodeLookup,{filter:o=>!!o.selected});return{width:qt(t)?t:null,height:qt(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${r}px,${i}px)`}};function J3({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=Ce(),{width:i,height:o,transformString:s,userSelectionActive:a}=me(Z3,Ee),u=p2(),l=q.useRef(null);if(q.useEffect(()=>{var d;n||(d=l.current)==null||d.focus({preventScroll:!0})},[n]),h2({nodeRef:l}),a||!i||!o)return null;const c=e?d=>{const p=r.getState().nodes.filter(h=>h.selected);e(d,p)}:void 0,f=d=>{Object.prototype.hasOwnProperty.call(Ma,d.key)&&(d.preventDefault(),u({direction:Ma[d.key],factor:d.shiftKey?4:1}))};return g.jsx("div",{className:Pe(["react-flow__nodesselection","react-flow__container",t]),style:{transform:s},children:g.jsx("div",{ref:l,className:"react-flow__nodesselection-rect",onContextMenu:c,tabIndex:n?void 0:-1,onKeyDown:n?void 0:f,style:{width:i,height:o}})})}const c0=typeof window<"u"?window:void 0,eL=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function m2({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:s,paneClickDistance:a,deleteKeyCode:u,selectionKeyCode:l,selectionOnDrag:c,selectionMode:f,onSelectionStart:d,onSelectionEnd:p,multiSelectionKeyCode:h,panActivationKeyCode:x,zoomActivationKeyCode:w,elementsSelectable:m,zoomOnScroll:y,zoomOnPinch:v,panOnScroll:_,panOnScrollSpeed:E,panOnScrollMode:S,zoomOnDoubleClick:b,panOnDrag:k,defaultViewport:T,translateExtent:O,minZoom:R,maxZoom:j,preventScrolling:$,onSelectionContextMenu:C,noWheelClassName:L,noPanClassName:A,disableKeyboardA11y:D,onViewportChange:N,isControlledViewport:I}){const{nodesSelectionActive:P,userSelectionActive:F}=me(eL,Ee),H=ko(l,{target:c0}),W=ko(x,{target:c0}),G=W||k,ne=W||_,te=c&&G!==!0,re=H||F||te;return P3({deleteKeyCode:u,multiSelectionKeyCode:h}),g.jsx(q3,{onPaneContextMenu:o,elementsSelectable:m,zoomOnScroll:y,zoomOnPinch:v,panOnScroll:ne,panOnScrollSpeed:E,panOnScrollMode:S,zoomOnDoubleClick:b,panOnDrag:!H&&G,defaultViewport:T,translateExtent:O,minZoom:R,maxZoom:j,zoomActivationKeyCode:w,preventScrolling:$,noWheelClassName:L,noPanClassName:A,onViewportChange:N,isControlledViewport:I,paneClickDistance:a,selectionOnDrag:te,children:g.jsxs(F3,{onSelectionStart:d,onSelectionEnd:p,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:s,panOnDrag:G,isSelecting:!!re,selectionMode:f,selectionKeyPressed:H,paneClickDistance:a,selectionOnDrag:te,children:[e,P&&g.jsx(J3,{onSelectionContextMenu:C,noPanClassName:A,disableKeyboardA11y:D})]})})}m2.displayName="FlowRenderer";const tL=q.memo(m2),nL=e=>t=>e?Nm(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(n=>n.id):Array.from(t.nodeLookup.keys());function rL(e){return me(q.useCallback(nL(e),[e]),Ee)}const iL=e=>e.updateNodeInternals;function oL(){const e=me(iL),[t]=q.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(i=>{const o=i.target.getAttribute("data-id");r.set(o,{id:o,nodeElement:i.target,force:!0})}),e(r)}));return q.useEffect(()=>()=>{t==null||t.disconnect()},[t]),t}function sL({node:e,nodeType:t,hasDimensions:n,resizeObserver:r}){const i=Ce(),o=q.useRef(null),s=q.useRef(null),a=q.useRef(e.sourcePosition),u=q.useRef(e.targetPosition),l=q.useRef(t),c=n&&!!e.internals.handleBounds;return q.useEffect(()=>{o.current&&!e.hidden&&(!c||s.current!==o.current)&&(s.current&&(r==null||r.unobserve(s.current)),r==null||r.observe(o.current),s.current=o.current)},[c,e.hidden]),q.useEffect(()=>()=>{s.current&&(r==null||r.unobserve(s.current),s.current=null)},[]),q.useEffect(()=>{if(o.current){const f=l.current!==t,d=a.current!==e.sourcePosition,p=u.current!==e.targetPosition;(f||d||p)&&(l.current=t,a.current=e.sourcePosition,u.current=e.targetPosition,i.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:o.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),o}function aL({id:e,onClick:t,onMouseEnter:n,onMouseMove:r,onMouseLeave:i,onContextMenu:o,onDoubleClick:s,nodesDraggable:a,elementsSelectable:u,nodesConnectable:l,nodesFocusable:c,resizeObserver:f,noDragClassName:d,noPanClassName:p,disableKeyboardA11y:h,rfId:x,nodeTypes:w,nodeClickDistance:m,onError:y}){const{node:v,internals:_,isParent:E}=me(U=>{const oe=U.nodeLookup.get(e),K=U.parentLookup.has(e);return{node:oe,internals:oe.internals,isParent:K}},Ee);let S=v.type||"default",b=(w==null?void 0:w[S])||l0[S];b===void 0&&(y==null||y("003",Jt.error003(S)),S="default",b=(w==null?void 0:w.default)||l0.default);const k=!!(v.draggable||a&&typeof v.draggable>"u"),T=!!(v.selectable||u&&typeof v.selectable>"u"),O=!!(v.connectable||l&&typeof v.connectable>"u"),R=!!(v.focusable||c&&typeof v.focusable>"u"),j=Ce(),$=AC(v),C=sL({node:v,nodeType:S,hasDimensions:$,resizeObserver:f}),L=h2({nodeRef:C,disabled:v.hidden||!k,noDragClassName:d,handleSelector:v.dragHandle,nodeId:e,isSelectable:T,nodeClickDistance:m}),A=p2();if(v.hidden)return null;const D=wn(v),N=Q3(v),I=T||k||t||n||r||i,P=n?U=>n(U,{..._.userNode}):void 0,F=r?U=>r(U,{..._.userNode}):void 0,H=i?U=>i(U,{..._.userNode}):void 0,W=o?U=>o(U,{..._.userNode}):void 0,G=s?U=>s(U,{..._.userNode}):void 0,ne=U=>{const{selectNodesOnDrag:oe,nodeDragThreshold:K}=j.getState();T&&(!oe||!k||K>0)&&xg({id:e,store:j,nodeRef:C}),t&&t(U,{..._.userNode})},te=U=>{if(!(LC(U.nativeEvent)||h)){if(bC.includes(U.key)&&T){const oe=U.key==="Escape";xg({id:e,store:j,unselect:oe,nodeRef:C})}else if(k&&v.selected&&Object.prototype.hasOwnProperty.call(Ma,U.key)){U.preventDefault();const{ariaLabelConfig:oe}=j.getState();j.setState({ariaLiveMessage:oe["node.a11yDescription.ariaLiveMessage"]({direction:U.key.replace("Arrow","").toLowerCase(),x:~~_.positionAbsolute.x,y:~~_.positionAbsolute.y})}),A({direction:Ma[U.key],factor:U.shiftKey?4:1})}}},re=()=>{var ae;if(h||!((ae=C.current)!=null&&ae.matches(":focus-visible")))return;const{transform:U,width:oe,height:K,autoPanOnNodeFocus:Y,setCenter:Q}=j.getState();if(!Y)return;Nm(new Map([[e,v]]),{x:0,y:0,width:oe,height:K},U,!0).length>0||Q(v.position.x+D.width/2,v.position.y+D.height/2,{zoom:U[2]})};return g.jsx("div",{className:Pe(["react-flow__node",`react-flow__node-${S}`,{[p]:k},v.className,{selected:v.selected,selectable:T,parent:E,draggable:k,dragging:L}]),ref:C,style:{zIndex:_.z,transform:`translate(${_.positionAbsolute.x}px,${_.positionAbsolute.y}px)`,pointerEvents:I?"all":"none",visibility:$?"visible":"hidden",...v.style,...N},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:P,onMouseMove:F,onMouseLeave:H,onContextMenu:W,onClick:ne,onDoubleClick:G,onKeyDown:R?te:void 0,tabIndex:R?0:void 0,onFocus:R?re:void 0,role:v.ariaRole??(R?"group":void 0),"aria-roledescription":"node","aria-describedby":h?void 0:`${o2}-${x}`,"aria-label":v.ariaLabel,...v.domAttributes,children:g.jsx(B3,{value:e,children:g.jsx(b,{id:e,data:v.data,type:S,positionAbsoluteX:_.positionAbsolute.x,positionAbsoluteY:_.positionAbsolute.y,selected:v.selected??!1,selectable:T,draggable:k,deletable:v.deletable??!0,isConnectable:O,sourcePosition:v.sourcePosition,targetPosition:v.targetPosition,dragging:L,dragHandle:v.dragHandle,zIndex:_.z,parentId:v.parentId,...D})})})}var uL=q.memo(aL);const lL=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function v2(e){const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,onError:o}=me(lL,Ee),s=rL(e.onlyRenderVisibleElements),a=oL();return g.jsx("div",{className:"react-flow__nodes",style:lu,children:s.map(u=>g.jsx(uL,{id:u,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:a,nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,nodeClickDistance:e.nodeClickDistance,onError:o},u))})}v2.displayName="NodeRenderer";const cL=q.memo(v2);function fL(e){return me(q.useCallback(n=>{if(!e)return n.edges.map(i=>i.id);const r=[];if(n.width&&n.height)for(const i of n.edges){const o=n.nodeLookup.get(i.source),s=n.nodeLookup.get(i.target);o&&s&&Xj({sourceNode:o,targetNode:s,width:n.width,height:n.height,transform:n.transform})&&r.push(i.id)}return r},[e]),Ee)}const dL=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e}};return g.jsx("polyline",{className:"arrow",style:n,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},hL=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e,fill:e}};return g.jsx("polyline",{className:"arrowclosed",style:n,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},f0={[Ia.Arrow]:dL,[Ia.ArrowClosed]:hL};function pL(e){const t=Ce();return q.useMemo(()=>{var i,o;return Object.prototype.hasOwnProperty.call(f0,e)?f0[e]:((o=(i=t.getState()).onError)==null||o.call(i,"009",Jt.error009(e)),null)},[e])}const gL=({id:e,type:t,color:n,width:r=12.5,height:i=12.5,markerUnits:o="strokeWidth",strokeWidth:s,orient:a="auto-start-reverse"})=>{const u=pL(t);return u?g.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:o,orient:a,refX:"0",refY:"0",children:g.jsx(u,{color:n,strokeWidth:s})}):null},y2=({defaultColor:e,rfId:t})=>{const n=me(o=>o.edges),r=me(o=>o.defaultEdgeOptions),i=q.useMemo(()=>rP(n,{id:t,defaultColor:e,defaultMarkerStart:r==null?void 0:r.markerStart,defaultMarkerEnd:r==null?void 0:r.markerEnd}),[n,r,t,e]);return i.length?g.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:g.jsx("defs",{children:i.map(o=>g.jsx(gL,{id:o.id,type:o.type,color:o.color,width:o.width,height:o.height,markerUnits:o.markerUnits,strokeWidth:o.strokeWidth,orient:o.orient},o.id))})}):null};y2.displayName="MarkerDefinitions";var mL=q.memo(y2);function x2({x:e,y:t,label:n,labelStyle:r,labelShowBg:i=!0,labelBgStyle:o,labelBgPadding:s=[2,4],labelBgBorderRadius:a=2,children:u,className:l,...c}){const[f,d]=q.useState({x:1,y:0,width:0,height:0}),p=Pe(["react-flow__edge-textwrapper",l]),h=q.useRef(null);return q.useEffect(()=>{if(h.current){const x=h.current.getBBox();d({x:x.x,y:x.y,width:x.width,height:x.height})}},[n]),n?g.jsxs("g",{transform:`translate(${e-f.width/2} ${t-f.height/2})`,className:p,visibility:f.width?"visible":"hidden",...c,children:[i&&g.jsx("rect",{width:f.width+2*s[0],x:-s[0],y:-s[1],height:f.height+2*s[1],className:"react-flow__edge-textbg",style:o,rx:a,ry:a}),g.jsx("text",{className:"react-flow__edge-text",y:f.height/2,dy:"0.3em",ref:h,style:r,children:n}),u]}):null}x2.displayName="EdgeText";const vL=q.memo(x2);function cu({path:e,labelX:t,labelY:n,label:r,labelStyle:i,labelShowBg:o,labelBgStyle:s,labelBgPadding:a,labelBgBorderRadius:u,interactionWidth:l=20,...c}){return g.jsxs(g.Fragment,{children:[g.jsx("path",{...c,d:e,fill:"none",className:Pe(["react-flow__edge-path",c.className])}),l?g.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:l,className:"react-flow__edge-interaction"}):null,r&&qt(t)&&qt(n)?g.jsx(vL,{x:t,y:n,label:r,labelStyle:i,labelShowBg:o,labelBgStyle:s,labelBgPadding:a,labelBgBorderRadius:u}):null]})}function d0({pos:e,x1:t,y1:n,x2:r,y2:i}){return e===ee.Left||e===ee.Right?[.5*(t+r),n]:[t,.5*(n+i)]}function _2({sourceX:e,sourceY:t,sourcePosition:n=ee.Bottom,targetX:r,targetY:i,targetPosition:o=ee.Top}){const[s,a]=d0({pos:n,x1:e,y1:t,x2:r,y2:i}),[u,l]=d0({pos:o,x1:r,y1:i,x2:e,y2:t}),[c,f,d,p]=qC({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:s,sourceControlY:a,targetControlX:u,targetControlY:l});return[`M${e},${t} C${s},${a} ${u},${l} ${r},${i}`,c,f,d,p]}function w2(e){return q.memo(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:o,sourcePosition:s,targetPosition:a,label:u,labelStyle:l,labelShowBg:c,labelBgStyle:f,labelBgPadding:d,labelBgBorderRadius:p,style:h,markerEnd:x,markerStart:w,interactionWidth:m})=>{const[y,v,_]=_2({sourceX:n,sourceY:r,sourcePosition:s,targetX:i,targetY:o,targetPosition:a}),E=e.isInternal?void 0:t;return g.jsx(cu,{id:E,path:y,labelX:v,labelY:_,label:u,labelStyle:l,labelShowBg:c,labelBgStyle:f,labelBgPadding:d,labelBgBorderRadius:p,style:h,markerEnd:x,markerStart:w,interactionWidth:m})})}const yL=w2({isInternal:!1}),S2=w2({isInternal:!0});yL.displayName="SimpleBezierEdge";S2.displayName="SimpleBezierEdgeInternal";function b2(e){return q.memo(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:o,label:s,labelStyle:a,labelShowBg:u,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:f,style:d,sourcePosition:p=ee.Bottom,targetPosition:h=ee.Top,markerEnd:x,markerStart:w,pathOptions:m,interactionWidth:y})=>{const[v,_,E]=gg({sourceX:n,sourceY:r,sourcePosition:p,targetX:i,targetY:o,targetPosition:h,borderRadius:m==null?void 0:m.borderRadius,offset:m==null?void 0:m.offset,stepPosition:m==null?void 0:m.stepPosition}),S=e.isInternal?void 0:t;return g.jsx(cu,{id:S,path:v,labelX:_,labelY:E,label:s,labelStyle:a,labelShowBg:u,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:f,style:d,markerEnd:x,markerStart:w,interactionWidth:y})})}const E2=b2({isInternal:!1}),C2=b2({isInternal:!0});E2.displayName="SmoothStepEdge";C2.displayName="SmoothStepEdgeInternal";function N2(e){return q.memo(({id:t,...n})=>{var i;const r=e.isInternal?void 0:t;return g.jsx(E2,{...n,id:r,pathOptions:q.useMemo(()=>{var o;return{borderRadius:0,offset:(o=n.pathOptions)==null?void 0:o.offset}},[(i=n.pathOptions)==null?void 0:i.offset])})})}const xL=N2({isInternal:!1}),k2=N2({isInternal:!0});xL.displayName="StepEdge";k2.displayName="StepEdgeInternal";function I2(e){return q.memo(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:o,label:s,labelStyle:a,labelShowBg:u,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:f,style:d,markerEnd:p,markerStart:h,interactionWidth:x})=>{const[w,m,y]=FC({sourceX:n,sourceY:r,targetX:i,targetY:o}),v=e.isInternal?void 0:t;return g.jsx(cu,{id:v,path:w,labelX:m,labelY:y,label:s,labelStyle:a,labelShowBg:u,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:f,style:d,markerEnd:p,markerStart:h,interactionWidth:x})})}const _L=I2({isInternal:!1}),R2=I2({isInternal:!0});_L.displayName="StraightEdge";R2.displayName="StraightEdgeInternal";function T2(e){return q.memo(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:o,sourcePosition:s=ee.Bottom,targetPosition:a=ee.Top,label:u,labelStyle:l,labelShowBg:c,labelBgStyle:f,labelBgPadding:d,labelBgBorderRadius:p,style:h,markerEnd:x,markerStart:w,pathOptions:m,interactionWidth:y})=>{const[v,_,E]=DC({sourceX:n,sourceY:r,sourcePosition:s,targetX:i,targetY:o,targetPosition:a,curvature:m==null?void 0:m.curvature}),S=e.isInternal?void 0:t;return g.jsx(cu,{id:S,path:v,labelX:_,labelY:E,label:u,labelStyle:l,labelShowBg:c,labelBgStyle:f,labelBgPadding:d,labelBgBorderRadius:p,style:h,markerEnd:x,markerStart:w,interactionWidth:y})})}const wL=T2({isInternal:!1}),M2=T2({isInternal:!0});wL.displayName="BezierEdge";M2.displayName="BezierEdgeInternal";const h0={default:M2,straight:R2,step:k2,smoothstep:C2,simplebezier:S2},p0={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},SL=(e,t,n)=>n===ee.Left?e-t:n===ee.Right?e+t:e,bL=(e,t,n)=>n===ee.Top?e-t:n===ee.Bottom?e+t:e,g0="react-flow__edgeupdater";function m0({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:o,onMouseOut:s,type:a}){return g.jsx("circle",{onMouseDown:i,onMouseEnter:o,onMouseOut:s,className:Pe([g0,`${g0}-${a}`]),cx:SL(t,r,e),cy:bL(n,r,e),r,stroke:"transparent",fill:"transparent"})}function EL({isReconnectable:e,reconnectRadius:t,edge:n,sourceX:r,sourceY:i,targetX:o,targetY:s,sourcePosition:a,targetPosition:u,onReconnect:l,onReconnectStart:c,onReconnectEnd:f,setReconnecting:d,setUpdateHover:p}){const h=Ce(),x=(_,E)=>{if(_.button!==0)return;const{autoPanOnConnect:S,domNode:b,isValidConnection:k,connectionMode:T,connectionRadius:O,lib:R,onConnectStart:j,onConnectEnd:$,cancelConnection:C,nodeLookup:L,rfId:A,panBy:D,updateConnection:N}=h.getState(),I=E.type==="target",P=(W,G)=>{d(!1),f==null||f(W,n,E.type,G)},F=W=>l==null?void 0:l(n,W),H=(W,G)=>{d(!0),c==null||c(_,n,E.type),j==null||j(W,G)};yg.onPointerDown(_.nativeEvent,{autoPanOnConnect:S,connectionMode:T,connectionRadius:O,domNode:b,handleId:E.id,nodeId:E.nodeId,nodeLookup:L,isTarget:I,edgeUpdaterType:E.type,lib:R,flowId:A,cancelConnection:C,panBy:D,isValidConnection:k,onConnect:F,onConnectStart:H,onConnectEnd:$,onReconnectEnd:P,updateConnection:N,getTransform:()=>h.getState().transform,getFromHandle:()=>h.getState().connection.fromHandle,dragThreshold:h.getState().connectionDragThreshold,handleDomNode:_.currentTarget})},w=_=>x(_,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),m=_=>x(_,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),y=()=>p(!0),v=()=>p(!1);return g.jsxs(g.Fragment,{children:[(e===!0||e==="source")&&g.jsx(m0,{position:a,centerX:r,centerY:i,radius:t,onMouseDown:w,onMouseEnter:y,onMouseOut:v,type:"source"}),(e===!0||e==="target")&&g.jsx(m0,{position:u,centerX:o,centerY:s,radius:t,onMouseDown:m,onMouseEnter:y,onMouseOut:v,type:"target"})]})}function CL({id:e,edgesFocusable:t,edgesReconnectable:n,elementsSelectable:r,onClick:i,onDoubleClick:o,onContextMenu:s,onMouseEnter:a,onMouseMove:u,onMouseLeave:l,reconnectRadius:c,onReconnect:f,onReconnectStart:d,onReconnectEnd:p,rfId:h,edgeTypes:x,noPanClassName:w,onError:m,disableKeyboardA11y:y}){let v=me(Q=>Q.edgeLookup.get(e));const _=me(Q=>Q.defaultEdgeOptions);v=_?{..._,...v}:v;let E=v.type||"default",S=(x==null?void 0:x[E])||h0[E];S===void 0&&(m==null||m("011",Jt.error011(E)),E="default",S=(x==null?void 0:x.default)||h0.default);const b=!!(v.focusable||t&&typeof v.focusable>"u"),k=typeof f<"u"&&(v.reconnectable||n&&typeof v.reconnectable>"u"),T=!!(v.selectable||r&&typeof v.selectable>"u"),O=q.useRef(null),[R,j]=q.useState(!1),[$,C]=q.useState(!1),L=Ce(),{zIndex:A,sourceX:D,sourceY:N,targetX:I,targetY:P,sourcePosition:F,targetPosition:H}=me(q.useCallback(Q=>{const z=Q.nodeLookup.get(v.source),ae=Q.nodeLookup.get(v.target);if(!z||!ae)return{zIndex:v.zIndex,...p0};const Z=nP({id:e,sourceNode:z,targetNode:ae,sourceHandle:v.sourceHandle||null,targetHandle:v.targetHandle||null,connectionMode:Q.connectionMode,onError:m});return{zIndex:Kj({selected:v.selected,zIndex:v.zIndex,sourceNode:z,targetNode:ae,elevateOnSelect:Q.elevateEdgesOnSelect,zIndexMode:Q.zIndexMode}),...Z||p0}},[v.source,v.target,v.sourceHandle,v.targetHandle,v.selected,v.zIndex]),Ee),W=q.useMemo(()=>v.markerStart?`url('#${mg(v.markerStart,h)}')`:void 0,[v.markerStart,h]),G=q.useMemo(()=>v.markerEnd?`url('#${mg(v.markerEnd,h)}')`:void 0,[v.markerEnd,h]);if(v.hidden||D===null||N===null||I===null||P===null)return null;const ne=Q=>{var se;const{addSelectedEdges:z,unselectNodesAndEdges:ae,multiSelectionActive:Z}=L.getState();T&&(L.setState({nodesSelectionActive:!1}),v.selected&&Z?(ae({nodes:[],edges:[v]}),(se=O.current)==null||se.blur()):z([e])),i&&i(Q,v)},te=o?Q=>{o(Q,{...v})}:void 0,re=s?Q=>{s(Q,{...v})}:void 0,U=a?Q=>{a(Q,{...v})}:void 0,oe=u?Q=>{u(Q,{...v})}:void 0,K=l?Q=>{l(Q,{...v})}:void 0,Y=Q=>{var z;if(!y&&bC.includes(Q.key)&&T){const{unselectNodesAndEdges:ae,addSelectedEdges:Z}=L.getState();Q.key==="Escape"?((z=O.current)==null||z.blur(),ae({edges:[v]})):Z([e])}};return g.jsx("svg",{style:{zIndex:A},children:g.jsxs("g",{className:Pe(["react-flow__edge",`react-flow__edge-${E}`,v.className,w,{selected:v.selected,animated:v.animated,inactive:!T&&!i,updating:R,selectable:T}]),onClick:ne,onDoubleClick:te,onContextMenu:re,onMouseEnter:U,onMouseMove:oe,onMouseLeave:K,onKeyDown:b?Y:void 0,tabIndex:b?0:void 0,role:v.ariaRole??(b?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":v.ariaLabel===null?void 0:v.ariaLabel||`Edge from ${v.source} to ${v.target}`,"aria-describedby":b?`${s2}-${h}`:void 0,ref:O,...v.domAttributes,children:[!$&&g.jsx(S,{id:e,source:v.source,target:v.target,type:v.type,selected:v.selected,animated:v.animated,selectable:T,deletable:v.deletable??!0,label:v.label,labelStyle:v.labelStyle,labelShowBg:v.labelShowBg,labelBgStyle:v.labelBgStyle,labelBgPadding:v.labelBgPadding,labelBgBorderRadius:v.labelBgBorderRadius,sourceX:D,sourceY:N,targetX:I,targetY:P,sourcePosition:F,targetPosition:H,data:v.data,style:v.style,sourceHandleId:v.sourceHandle,targetHandleId:v.targetHandle,markerStart:W,markerEnd:G,pathOptions:"pathOptions"in v?v.pathOptions:void 0,interactionWidth:v.interactionWidth}),k&&g.jsx(EL,{edge:v,isReconnectable:k,reconnectRadius:c,onReconnect:f,onReconnectStart:d,onReconnectEnd:p,sourceX:D,sourceY:N,targetX:I,targetY:P,sourcePosition:F,targetPosition:H,setUpdateHover:j,setReconnecting:C})]})})}var NL=q.memo(CL);const kL=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function A2({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:n,edgeTypes:r,noPanClassName:i,onReconnect:o,onEdgeContextMenu:s,onEdgeMouseEnter:a,onEdgeMouseMove:u,onEdgeMouseLeave:l,onEdgeClick:c,reconnectRadius:f,onEdgeDoubleClick:d,onReconnectStart:p,onReconnectEnd:h,disableKeyboardA11y:x}){const{edgesFocusable:w,edgesReconnectable:m,elementsSelectable:y,onError:v}=me(kL,Ee),_=fL(t);return g.jsxs("div",{className:"react-flow__edges",children:[g.jsx(mL,{defaultColor:e,rfId:n}),_.map(E=>g.jsx(NL,{id:E,edgesFocusable:w,edgesReconnectable:m,elementsSelectable:y,noPanClassName:i,onReconnect:o,onContextMenu:s,onMouseEnter:a,onMouseMove:u,onMouseLeave:l,onClick:c,reconnectRadius:f,onDoubleClick:d,onReconnectStart:p,onReconnectEnd:h,rfId:n,onError:v,edgeTypes:r,disableKeyboardA11y:x},E))]})}A2.displayName="EdgeRenderer";const IL=q.memo(A2),RL=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function TL({children:e}){const t=me(RL);return g.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function ML(e){const t=uu(),n=q.useRef(!1);q.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const AL=e=>{var t;return(t=e.panZoom)==null?void 0:t.syncViewport};function jL(e){const t=me(AL),n=Ce();return q.useEffect(()=>{e&&(t==null||t(e),n.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function PL(e){return e.connection.inProgress?{...e.connection,to:Do(e.connection.to,e.transform)}:{...e.connection}}function LL(e){return PL}function OL(e){const t=LL();return me(t,Ee)}const qL=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function DL({containerStyle:e,style:t,type:n,component:r}){const{nodesConnectable:i,width:o,height:s,isValid:a,inProgress:u}=me(qL,Ee);return!(o&&i&&u)?null:g.jsx("svg",{style:e,width:o,height:s,className:"react-flow__connectionline react-flow__container",children:g.jsx("g",{className:Pe(["react-flow__connection",NC(a)]),children:g.jsx(j2,{style:t,type:n,CustomComponent:r,isValid:a})})})}const j2=({style:e,type:t=An.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:i,from:o,fromNode:s,fromHandle:a,fromPosition:u,to:l,toNode:c,toHandle:f,toPosition:d,pointer:p}=OL();if(!i)return;if(n)return g.jsx(n,{connectionLineType:t,connectionLineStyle:e,fromNode:s,fromHandle:a,fromX:o.x,fromY:o.y,toX:l.x,toY:l.y,fromPosition:u,toPosition:d,connectionStatus:NC(r),toNode:c,toHandle:f,pointer:p});let h="";const x={sourceX:o.x,sourceY:o.y,sourcePosition:u,targetX:l.x,targetY:l.y,targetPosition:d};switch(t){case An.Bezier:[h]=DC(x);break;case An.SimpleBezier:[h]=_2(x);break;case An.Step:[h]=gg({...x,borderRadius:0});break;case An.SmoothStep:[h]=gg(x);break;default:[h]=FC(x)}return g.jsx("path",{d:h,fill:"none",className:"react-flow__connection-path",style:e})};j2.displayName="ConnectionLine";const $L={};function v0(e=$L){q.useRef(e),Ce(),q.useEffect(()=>{},[e])}function zL(){Ce(),q.useRef(!1),q.useEffect(()=>{},[])}function P2({nodeTypes:e,edgeTypes:t,onInit:n,onNodeClick:r,onEdgeClick:i,onNodeDoubleClick:o,onEdgeDoubleClick:s,onNodeMouseEnter:a,onNodeMouseMove:u,onNodeMouseLeave:l,onNodeContextMenu:c,onSelectionContextMenu:f,onSelectionStart:d,onSelectionEnd:p,connectionLineType:h,connectionLineStyle:x,connectionLineComponent:w,connectionLineContainerStyle:m,selectionKeyCode:y,selectionOnDrag:v,selectionMode:_,multiSelectionKeyCode:E,panActivationKeyCode:S,zoomActivationKeyCode:b,deleteKeyCode:k,onlyRenderVisibleElements:T,elementsSelectable:O,defaultViewport:R,translateExtent:j,minZoom:$,maxZoom:C,preventScrolling:L,defaultMarkerColor:A,zoomOnScroll:D,zoomOnPinch:N,panOnScroll:I,panOnScrollSpeed:P,panOnScrollMode:F,zoomOnDoubleClick:H,panOnDrag:W,onPaneClick:G,onPaneMouseEnter:ne,onPaneMouseMove:te,onPaneMouseLeave:re,onPaneScroll:U,onPaneContextMenu:oe,paneClickDistance:K,nodeClickDistance:Y,onEdgeContextMenu:Q,onEdgeMouseEnter:z,onEdgeMouseMove:ae,onEdgeMouseLeave:Z,reconnectRadius:se,onReconnect:ue,onReconnectStart:$e,onReconnectEnd:Oe,noDragClassName:xt,noWheelClassName:lt,noPanClassName:He,disableKeyboardA11y:ke,nodeExtent:Rt,rfId:_t,viewport:Tt,onViewportChange:M}){return v0(e),v0(t),zL(),ML(n),jL(Tt),g.jsx(tL,{onPaneClick:G,onPaneMouseEnter:ne,onPaneMouseMove:te,onPaneMouseLeave:re,onPaneContextMenu:oe,onPaneScroll:U,paneClickDistance:K,deleteKeyCode:k,selectionKeyCode:y,selectionOnDrag:v,selectionMode:_,onSelectionStart:d,onSelectionEnd:p,multiSelectionKeyCode:E,panActivationKeyCode:S,zoomActivationKeyCode:b,elementsSelectable:O,zoomOnScroll:D,zoomOnPinch:N,zoomOnDoubleClick:H,panOnScroll:I,panOnScrollSpeed:P,panOnScrollMode:F,panOnDrag:W,defaultViewport:R,translateExtent:j,minZoom:$,maxZoom:C,onSelectionContextMenu:f,preventScrolling:L,noDragClassName:xt,noWheelClassName:lt,noPanClassName:He,disableKeyboardA11y:ke,onViewportChange:M,isControlledViewport:!!Tt,children:g.jsxs(TL,{children:[g.jsx(IL,{edgeTypes:t,onEdgeClick:i,onEdgeDoubleClick:s,onReconnect:ue,onReconnectStart:$e,onReconnectEnd:Oe,onlyRenderVisibleElements:T,onEdgeContextMenu:Q,onEdgeMouseEnter:z,onEdgeMouseMove:ae,onEdgeMouseLeave:Z,reconnectRadius:se,defaultMarkerColor:A,noPanClassName:He,disableKeyboardA11y:ke,rfId:_t}),g.jsx(DL,{style:x,type:h,component:w,containerStyle:m}),g.jsx("div",{className:"react-flow__edgelabel-renderer"}),g.jsx(cL,{nodeTypes:e,onNodeClick:r,onNodeDoubleClick:o,onNodeMouseEnter:a,onNodeMouseMove:u,onNodeMouseLeave:l,onNodeContextMenu:c,nodeClickDistance:Y,onlyRenderVisibleElements:T,noPanClassName:He,noDragClassName:xt,disableKeyboardA11y:ke,nodeExtent:Rt,rfId:_t}),g.jsx("div",{className:"react-flow__viewport-portal"})]})})}P2.displayName="GraphView";const FL=q.memo(P2),y0=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:i,height:o,fitView:s,fitViewOptions:a,minZoom:u=.5,maxZoom:l=2,nodeOrigin:c,nodeExtent:f,zIndexMode:d="basic"}={})=>{const p=new Map,h=new Map,x=new Map,w=new Map,m=r??t??[],y=n??e??[],v=c??[0,0],_=f??bo;VC(x,w,m);const E=vg(y,p,h,{nodeOrigin:v,nodeExtent:_,zIndexMode:d});let S=[0,0,1];if(s&&i&&o){const b=Oo(p,{filter:R=>!!((R.width||R.initialWidth)&&(R.height||R.initialHeight))}),{x:k,y:T,zoom:O}=km(b,i,o,u,l,(a==null?void 0:a.padding)??.1);S=[k,T,O]}return{rfId:"1",width:i??0,height:o??0,transform:S,nodes:y,nodesInitialized:E,nodeLookup:p,parentLookup:h,edges:m,edgeLookup:w,connectionLookup:x,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:u,maxZoom:l,translateExtent:bo,nodeExtent:_,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:si.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:v,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:s??!1,fitViewOptions:a,fitViewResolver:null,connection:{...CC},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:Bj,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:EC,zIndexMode:d,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}},HL=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:i,height:o,fitView:s,fitViewOptions:a,minZoom:u,maxZoom:l,nodeOrigin:c,nodeExtent:f,zIndexMode:d})=>s3((p,h)=>{async function x(){const{nodeLookup:w,panZoom:m,fitViewOptions:y,fitViewResolver:v,width:_,height:E,minZoom:S,maxZoom:b}=h();m&&(await Fj({nodes:w,width:_,height:E,panZoom:m,minZoom:S,maxZoom:b},y),v==null||v.resolve(!0),p({fitViewResolver:null}))}return{...y0({nodes:e,edges:t,width:i,height:o,fitView:s,fitViewOptions:a,minZoom:u,maxZoom:l,nodeOrigin:c,nodeExtent:f,defaultNodes:n,defaultEdges:r,zIndexMode:d}),setNodes:w=>{const{nodeLookup:m,parentLookup:y,nodeOrigin:v,elevateNodesOnSelect:_,fitViewQueued:E,zIndexMode:S}=h(),b=vg(w,m,y,{nodeOrigin:v,nodeExtent:f,elevateNodesOnSelect:_,checkEquality:!0,zIndexMode:S});E&&b?(x(),p({nodes:w,nodesInitialized:b,fitViewQueued:!1,fitViewOptions:void 0})):p({nodes:w,nodesInitialized:b})},setEdges:w=>{const{connectionLookup:m,edgeLookup:y}=h();VC(m,y,w),p({edges:w})},setDefaultNodesAndEdges:(w,m)=>{if(w){const{setNodes:y}=h();y(w),p({hasDefaultNodes:!0})}if(m){const{setEdges:y}=h();y(m),p({hasDefaultEdges:!0})}},updateNodeInternals:w=>{const{triggerNodeChanges:m,nodeLookup:y,parentLookup:v,domNode:_,nodeOrigin:E,nodeExtent:S,debug:b,fitViewQueued:k,zIndexMode:T}=h(),{changes:O,updatedInternals:R}=cP(w,y,v,_,E,S,T);R&&(sP(y,v,{nodeOrigin:E,nodeExtent:S,zIndexMode:T}),k?(x(),p({fitViewQueued:!1,fitViewOptions:void 0})):p({}),(O==null?void 0:O.length)>0&&(b&&console.log("React Flow: trigger node changes",O),m==null||m(O)))},updateNodePositions:(w,m=!1)=>{const y=[];let v=[];const{nodeLookup:_,triggerNodeChanges:E,connection:S,updateConnection:b,onNodesChangeMiddlewareMap:k}=h();for(const[T,O]of w){const R=_.get(T),j=!!(R!=null&&R.expandParent&&(R!=null&&R.parentId)&&(O!=null&&O.position)),$={id:T,type:"position",position:j?{x:Math.max(0,O.position.x),y:Math.max(0,O.position.y)}:O.position,dragging:m};if(R&&S.inProgress&&S.fromNode.id===R.id){const C=xr(R,S.fromHandle,ee.Left,!0);b({...S,from:C})}j&&R.parentId&&y.push({id:T,parentId:R.parentId,rect:{...O.internals.positionAbsolute,width:O.measured.width??0,height:O.measured.height??0}}),v.push($)}if(y.length>0){const{parentLookup:T,nodeOrigin:O}=h(),R=jm(y,_,T,O);v.push(...R)}for(const T of k.values())v=T(v);E(v)},triggerNodeChanges:w=>{const{onNodesChange:m,setNodes:y,nodes:v,hasDefaultNodes:_,debug:E}=h();if(w!=null&&w.length){if(_){const S=l2(w,v);y(S)}E&&console.log("React Flow: trigger node changes",w),m==null||m(w)}},triggerEdgeChanges:w=>{const{onEdgesChange:m,setEdges:y,edges:v,hasDefaultEdges:_,debug:E}=h();if(w!=null&&w.length){if(_){const S=c2(w,v);y(S)}E&&console.log("React Flow: trigger edge changes",w),m==null||m(w)}},addSelectedNodes:w=>{const{multiSelectionActive:m,edgeLookup:y,nodeLookup:v,triggerNodeChanges:_,triggerEdgeChanges:E}=h();if(m){const S=w.map(b=>tr(b,!0));_(S);return}_(Hr(v,new Set([...w]),!0)),E(Hr(y))},addSelectedEdges:w=>{const{multiSelectionActive:m,edgeLookup:y,nodeLookup:v,triggerNodeChanges:_,triggerEdgeChanges:E}=h();if(m){const S=w.map(b=>tr(b,!0));E(S);return}E(Hr(y,new Set([...w]))),_(Hr(v,new Set,!0))},unselectNodesAndEdges:({nodes:w,edges:m}={})=>{const{edges:y,nodes:v,nodeLookup:_,triggerNodeChanges:E,triggerEdgeChanges:S}=h(),b=w||v,k=m||y,T=b.map(R=>{const j=_.get(R.id);return j&&(j.selected=!1),tr(R.id,!1)}),O=k.map(R=>tr(R.id,!1));E(T),S(O)},setMinZoom:w=>{const{panZoom:m,maxZoom:y}=h();m==null||m.setScaleExtent([w,y]),p({minZoom:w})},setMaxZoom:w=>{const{panZoom:m,minZoom:y}=h();m==null||m.setScaleExtent([y,w]),p({maxZoom:w})},setTranslateExtent:w=>{var m;(m=h().panZoom)==null||m.setTranslateExtent(w),p({translateExtent:w})},resetSelectedElements:()=>{const{edges:w,nodes:m,triggerNodeChanges:y,triggerEdgeChanges:v,elementsSelectable:_}=h();if(!_)return;const E=m.reduce((b,k)=>k.selected?[...b,tr(k.id,!1)]:b,[]),S=w.reduce((b,k)=>k.selected?[...b,tr(k.id,!1)]:b,[]);y(E),v(S)},setNodeExtent:w=>{const{nodes:m,nodeLookup:y,parentLookup:v,nodeOrigin:_,elevateNodesOnSelect:E,nodeExtent:S,zIndexMode:b}=h();w[0][0]===S[0][0]&&w[0][1]===S[0][1]&&w[1][0]===S[1][0]&&w[1][1]===S[1][1]||(vg(m,y,v,{nodeOrigin:_,nodeExtent:w,elevateNodesOnSelect:E,checkEquality:!1,zIndexMode:b}),p({nodeExtent:w}))},panBy:w=>{const{transform:m,width:y,height:v,panZoom:_,translateExtent:E}=h();return fP({delta:w,panZoom:_,transform:m,translateExtent:E,width:y,height:v})},setCenter:async(w,m,y)=>{const{width:v,height:_,maxZoom:E,panZoom:S}=h();if(!S)return Promise.resolve(!1);const b=typeof(y==null?void 0:y.zoom)<"u"?y.zoom:E;return await S.setViewport({x:v/2-w*b,y:_/2-m*b,zoom:b},{duration:y==null?void 0:y.duration,ease:y==null?void 0:y.ease,interpolate:y==null?void 0:y.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{p({connection:{...CC}})},updateConnection:w=>{p({connection:w})},reset:()=>p({...y0()})}},Object.is);function L2({initialNodes:e,initialEdges:t,defaultNodes:n,defaultEdges:r,initialWidth:i,initialHeight:o,initialMinZoom:s,initialMaxZoom:a,initialFitViewOptions:u,fitView:l,nodeOrigin:c,nodeExtent:f,zIndexMode:d,children:p}){const[h]=q.useState(()=>HL({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:i,height:o,fitView:l,minZoom:s,maxZoom:a,fitViewOptions:u,nodeOrigin:c,nodeExtent:f,zIndexMode:d}));return g.jsx(a3,{value:h,children:g.jsx(T3,{children:p})})}function BL({children:e,nodes:t,edges:n,defaultNodes:r,defaultEdges:i,width:o,height:s,fitView:a,fitViewOptions:u,minZoom:l,maxZoom:c,nodeOrigin:f,nodeExtent:d,zIndexMode:p}){return q.useContext(au)?g.jsx(g.Fragment,{children:e}):g.jsx(L2,{initialNodes:t,initialEdges:n,defaultNodes:r,defaultEdges:i,initialWidth:o,initialHeight:s,fitView:a,initialFitViewOptions:u,initialMinZoom:l,initialMaxZoom:c,nodeOrigin:f,nodeExtent:d,zIndexMode:p,children:e})}const VL={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function UL({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:o,edgeTypes:s,onNodeClick:a,onEdgeClick:u,onInit:l,onMove:c,onMoveStart:f,onMoveEnd:d,onConnect:p,onConnectStart:h,onConnectEnd:x,onClickConnectStart:w,onClickConnectEnd:m,onNodeMouseEnter:y,onNodeMouseMove:v,onNodeMouseLeave:_,onNodeContextMenu:E,onNodeDoubleClick:S,onNodeDragStart:b,onNodeDrag:k,onNodeDragStop:T,onNodesDelete:O,onEdgesDelete:R,onDelete:j,onSelectionChange:$,onSelectionDragStart:C,onSelectionDrag:L,onSelectionDragStop:A,onSelectionContextMenu:D,onSelectionStart:N,onSelectionEnd:I,onBeforeDelete:P,connectionMode:F,connectionLineType:H=An.Bezier,connectionLineStyle:W,connectionLineComponent:G,connectionLineContainerStyle:ne,deleteKeyCode:te="Backspace",selectionKeyCode:re="Shift",selectionOnDrag:U=!1,selectionMode:oe=Eo.Full,panActivationKeyCode:K="Space",multiSelectionKeyCode:Y=No()?"Meta":"Control",zoomActivationKeyCode:Q=No()?"Meta":"Control",snapToGrid:z,snapGrid:ae,onlyRenderVisibleElements:Z=!1,selectNodesOnDrag:se,nodesDraggable:ue,autoPanOnNodeFocus:$e,nodesConnectable:Oe,nodesFocusable:xt,nodeOrigin:lt=a2,edgesFocusable:He,edgesReconnectable:ke,elementsSelectable:Rt=!0,defaultViewport:_t=_3,minZoom:Tt=.5,maxZoom:M=2,translateExtent:B=bo,preventScrolling:X=!0,nodeExtent:ie,defaultMarkerColor:fe="#b1b1b7",zoomOnScroll:ce=!0,zoomOnPinch:le=!0,panOnScroll:he=!1,panOnScrollSpeed:wi=.5,panOnScrollMode:Tu=cr.Free,zoomOnDoubleClick:Mu=!0,panOnDrag:Au=!0,onPaneClick:ju,onPaneMouseEnter:Pu,onPaneMouseMove:Lu,onPaneMouseLeave:Vo,onPaneScroll:Uo,onPaneContextMenu:Go,paneClickDistance:Wo=1,nodeClickDistance:Yo=0,children:Ko,onReconnect:Xo,onReconnectStart:Qo,onReconnectEnd:Zo,onEdgeContextMenu:Jo,onEdgeDoubleClick:es,onEdgeMouseEnter:ts,onEdgeMouseMove:ns,onEdgeMouseLeave:rs,reconnectRadius:tk=10,onNodesChange:nk,onEdgesChange:rk,noDragClassName:ik="nodrag",noWheelClassName:ok="nowheel",noPanClassName:tv="nopan",fitView:nv,fitViewOptions:rv,connectOnClick:sk,attributionPosition:ak,proOptions:uk,defaultEdgeOptions:lk,elevateNodesOnSelect:ck=!0,elevateEdgesOnSelect:fk=!1,disableKeyboardA11y:iv=!1,autoPanOnConnect:dk,autoPanOnNodeDrag:hk,autoPanSpeed:pk,connectionRadius:gk,isValidConnection:mk,onError:vk,style:yk,id:ov,nodeDragThreshold:xk,connectionDragThreshold:_k,viewport:wk,onViewportChange:Sk,width:bk,height:Ek,colorMode:Ck="light",debug:Nk,onScroll:is,ariaLabelConfig:kk,zIndexMode:sv="basic",...Ik},Rk){const Ou=ov||"1",Tk=E3(Ck),Mk=q.useCallback(av=>{av.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),is==null||is(av)},[is]);return g.jsx("div",{"data-testid":"rf__wrapper",...Ik,onScroll:Mk,style:{...yk,...VL},ref:Rk,className:Pe(["react-flow",i,Tk]),id:ov,role:"application",children:g.jsxs(BL,{nodes:e,edges:t,width:bk,height:Ek,fitView:nv,fitViewOptions:rv,minZoom:Tt,maxZoom:M,nodeOrigin:lt,nodeExtent:ie,zIndexMode:sv,children:[g.jsx(FL,{onInit:l,onNodeClick:a,onEdgeClick:u,onNodeMouseEnter:y,onNodeMouseMove:v,onNodeMouseLeave:_,onNodeContextMenu:E,onNodeDoubleClick:S,nodeTypes:o,edgeTypes:s,connectionLineType:H,connectionLineStyle:W,connectionLineComponent:G,connectionLineContainerStyle:ne,selectionKeyCode:re,selectionOnDrag:U,selectionMode:oe,deleteKeyCode:te,multiSelectionKeyCode:Y,panActivationKeyCode:K,zoomActivationKeyCode:Q,onlyRenderVisibleElements:Z,defaultViewport:_t,translateExtent:B,minZoom:Tt,maxZoom:M,preventScrolling:X,zoomOnScroll:ce,zoomOnPinch:le,zoomOnDoubleClick:Mu,panOnScroll:he,panOnScrollSpeed:wi,panOnScrollMode:Tu,panOnDrag:Au,onPaneClick:ju,onPaneMouseEnter:Pu,onPaneMouseMove:Lu,onPaneMouseLeave:Vo,onPaneScroll:Uo,onPaneContextMenu:Go,paneClickDistance:Wo,nodeClickDistance:Yo,onSelectionContextMenu:D,onSelectionStart:N,onSelectionEnd:I,onReconnect:Xo,onReconnectStart:Qo,onReconnectEnd:Zo,onEdgeContextMenu:Jo,onEdgeDoubleClick:es,onEdgeMouseEnter:ts,onEdgeMouseMove:ns,onEdgeMouseLeave:rs,reconnectRadius:tk,defaultMarkerColor:fe,noDragClassName:ik,noWheelClassName:ok,noPanClassName:tv,rfId:Ou,disableKeyboardA11y:iv,nodeExtent:ie,viewport:wk,onViewportChange:Sk}),g.jsx(b3,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:p,onConnectStart:h,onConnectEnd:x,onClickConnectStart:w,onClickConnectEnd:m,nodesDraggable:ue,autoPanOnNodeFocus:$e,nodesConnectable:Oe,nodesFocusable:xt,edgesFocusable:He,edgesReconnectable:ke,elementsSelectable:Rt,elevateNodesOnSelect:ck,elevateEdgesOnSelect:fk,minZoom:Tt,maxZoom:M,nodeExtent:ie,onNodesChange:nk,onEdgesChange:rk,snapToGrid:z,snapGrid:ae,connectionMode:F,translateExtent:B,connectOnClick:sk,defaultEdgeOptions:lk,fitView:nv,fitViewOptions:rv,onNodesDelete:O,onEdgesDelete:R,onDelete:j,onNodeDragStart:b,onNodeDrag:k,onNodeDragStop:T,onSelectionDrag:L,onSelectionDragStart:C,onSelectionDragStop:A,onMove:c,onMoveStart:f,onMoveEnd:d,noPanClassName:tv,nodeOrigin:lt,rfId:Ou,autoPanOnConnect:dk,autoPanOnNodeDrag:hk,autoPanSpeed:pk,onError:vk,connectionRadius:gk,isValidConnection:mk,selectNodesOnDrag:se,nodeDragThreshold:xk,connectionDragThreshold:_k,onBeforeDelete:P,debug:Nk,ariaLabelConfig:kk,zIndexMode:sv}),g.jsx(x3,{onSelectionChange:$}),Ko,g.jsx(p3,{proOptions:uk,position:ak}),g.jsx(h3,{rfId:Ou,disableKeyboardA11y:iv})]})})}var GL=f2(UL);function WL(e){const[t,n]=q.useState(e),r=q.useCallback(i=>n(o=>l2(i,o)),[]);return[t,n,r]}function YL(e){const[t,n]=q.useState(e),r=q.useCallback(i=>n(o=>c2(i,o)),[]);return[t,n,r]}function KL({dimensions:e,lineWidth:t,variant:n,className:r}){return g.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:Pe(["react-flow__background-pattern",n,r])})}function XL({radius:e,className:t}){return g.jsx("circle",{cx:e,cy:e,r:e,className:Pe(["react-flow__background-pattern","dots",t])})}var Vn;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Vn||(Vn={}));const QL={[Vn.Dots]:1,[Vn.Lines]:1,[Vn.Cross]:6},ZL=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function O2({id:e,variant:t=Vn.Dots,gap:n=20,size:r,lineWidth:i=1,offset:o=0,color:s,bgColor:a,style:u,className:l,patternClassName:c}){const f=q.useRef(null),{transform:d,patternId:p}=me(ZL,Ee),h=r||QL[t],x=t===Vn.Dots,w=t===Vn.Cross,m=Array.isArray(n)?n:[n,n],y=[m[0]*d[2]||1,m[1]*d[2]||1],v=h*d[2],_=Array.isArray(o)?o:[o,o],E=w?[v,v]:y,S=[_[0]*d[2]||1+E[0]/2,_[1]*d[2]||1+E[1]/2],b=`${p}${e||""}`;return g.jsxs("svg",{className:Pe(["react-flow__background",l]),style:{...u,...lu,"--xy-background-color-props":a,"--xy-background-pattern-color-props":s},ref:f,"data-testid":"rf__background",children:[g.jsx("pattern",{id:b,x:d[0]%y[0],y:d[1]%y[1],width:y[0],height:y[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${S[0]},-${S[1]})`,children:x?g.jsx(XL,{radius:v/2,className:c}):g.jsx(KL,{dimensions:E,lineWidth:i,variant:t,className:c})}),g.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${b})`})]})}O2.displayName="Background";const JL=q.memo(O2);function eO(){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:g.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function tO(){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:g.jsx("path",{d:"M0 0h32v4.2H0z"})})}function nO(){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:g.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function rO(){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:g.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function iO(){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:g.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function Ts({children:e,className:t,...n}){return g.jsx("button",{type:"button",className:Pe(["react-flow__controls-button",t]),...n,children:e})}const oO=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function q2({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:i,onZoomIn:o,onZoomOut:s,onFitView:a,onInteractiveChange:u,className:l,children:c,position:f="bottom-left",orientation:d="vertical","aria-label":p}){const h=Ce(),{isInteractive:x,minZoomReached:w,maxZoomReached:m,ariaLabelConfig:y}=me(oO,Ee),{zoomIn:v,zoomOut:_,fitView:E}=uu(),S=()=>{v(),o==null||o()},b=()=>{_(),s==null||s()},k=()=>{E(i),a==null||a()},T=()=>{h.setState({nodesDraggable:!x,nodesConnectable:!x,elementsSelectable:!x}),u==null||u(!x)},O=d==="horizontal"?"horizontal":"vertical";return g.jsxs(di,{className:Pe(["react-flow__controls",O,l]),position:f,style:e,"data-testid":"rf__controls","aria-label":p??y["controls.ariaLabel"],children:[t&&g.jsxs(g.Fragment,{children:[g.jsx(Ts,{onClick:S,className:"react-flow__controls-zoomin",title:y["controls.zoomIn.ariaLabel"],"aria-label":y["controls.zoomIn.ariaLabel"],disabled:m,children:g.jsx(eO,{})}),g.jsx(Ts,{onClick:b,className:"react-flow__controls-zoomout",title:y["controls.zoomOut.ariaLabel"],"aria-label":y["controls.zoomOut.ariaLabel"],disabled:w,children:g.jsx(tO,{})})]}),n&&g.jsx(Ts,{className:"react-flow__controls-fitview",onClick:k,title:y["controls.fitView.ariaLabel"],"aria-label":y["controls.fitView.ariaLabel"],children:g.jsx(nO,{})}),r&&g.jsx(Ts,{className:"react-flow__controls-interactive",onClick:T,title:y["controls.interactive.ariaLabel"],"aria-label":y["controls.interactive.ariaLabel"],children:x?g.jsx(iO,{}):g.jsx(rO,{})}),c]})}q2.displayName="Controls";const sO=q.memo(q2);function aO({id:e,x:t,y:n,width:r,height:i,style:o,color:s,strokeColor:a,strokeWidth:u,className:l,borderRadius:c,shapeRendering:f,selected:d,onClick:p}){const{background:h,backgroundColor:x}=o||{},w=s||h||x;return g.jsx("rect",{className:Pe(["react-flow__minimap-node",{selected:d},l]),x:t,y:n,rx:c,ry:c,width:r,height:i,style:{fill:w,stroke:a,strokeWidth:u},shapeRendering:f,onClick:p?m=>p(m,e):void 0})}const uO=q.memo(aO),lO=e=>e.nodes.map(t=>t.id),yl=e=>e instanceof Function?e:()=>e;function cO({nodeStrokeColor:e,nodeColor:t,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:i,nodeComponent:o=uO,onClick:s}){const a=me(lO,Ee),u=yl(t),l=yl(e),c=yl(n),f=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return g.jsx(g.Fragment,{children:a.map(d=>g.jsx(dO,{id:d,nodeColorFunc:u,nodeStrokeColorFunc:l,nodeClassNameFunc:c,nodeBorderRadius:r,nodeStrokeWidth:i,NodeComponent:o,onClick:s,shapeRendering:f},d))})}function fO({id:e,nodeColorFunc:t,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:i,nodeStrokeWidth:o,shapeRendering:s,NodeComponent:a,onClick:u}){const{node:l,x:c,y:f,width:d,height:p}=me(h=>{const{internals:x}=h.nodeLookup.get(e),w=x.userNode,{x:m,y}=x.positionAbsolute,{width:v,height:_}=wn(w);return{node:w,x:m,y,width:v,height:_}},Ee);return!l||l.hidden||!AC(l)?null:g.jsx(a,{x:c,y:f,width:d,height:p,style:l.style,selected:!!l.selected,className:r(l),color:t(l),borderRadius:i,strokeColor:n(l),strokeWidth:o,shapeRendering:s,onClick:u,id:l.id})}const dO=q.memo(fO);var hO=q.memo(cO);const pO=200,gO=150,mO=e=>!e.hidden,vO=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?MC(Oo(e.nodeLookup,{filter:mO}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},yO="react-flow__minimap-desc";function D2({style:e,className:t,nodeStrokeColor:n,nodeColor:r,nodeClassName:i="",nodeBorderRadius:o=5,nodeStrokeWidth:s,nodeComponent:a,bgColor:u,maskColor:l,maskStrokeColor:c,maskStrokeWidth:f,position:d="bottom-right",onClick:p,onNodeClick:h,pannable:x=!1,zoomable:w=!1,ariaLabel:m,inversePan:y,zoomStep:v=1,offsetScale:_=5}){const E=Ce(),S=q.useRef(null),{boundingRect:b,viewBB:k,rfId:T,panZoom:O,translateExtent:R,flowWidth:j,flowHeight:$,ariaLabelConfig:C}=me(vO,Ee),L=(e==null?void 0:e.width)??pO,A=(e==null?void 0:e.height)??gO,D=b.width/L,N=b.height/A,I=Math.max(D,N),P=I*L,F=I*A,H=_*I,W=b.x-(P-b.width)/2-H,G=b.y-(F-b.height)/2-H,ne=P+H*2,te=F+H*2,re=`${yO}-${T}`,U=q.useRef(0),oe=q.useRef();U.current=I,q.useEffect(()=>{if(S.current&&O)return oe.current=_P({domNode:S.current,panZoom:O,getTransform:()=>E.getState().transform,getViewScale:()=>U.current}),()=>{var z;(z=oe.current)==null||z.destroy()}},[O]),q.useEffect(()=>{var z;(z=oe.current)==null||z.update({translateExtent:R,width:j,height:$,inversePan:y,pannable:x,zoomStep:v,zoomable:w})},[x,w,y,v,R,j,$]);const K=p?z=>{var se;const[ae,Z]=((se=oe.current)==null?void 0:se.pointer(z))||[0,0];p(z,{x:ae,y:Z})}:void 0,Y=h?q.useCallback((z,ae)=>{const Z=E.getState().nodeLookup.get(ae).internals.userNode;h(z,Z)},[]):void 0,Q=m??C["minimap.ariaLabel"];return g.jsx(di,{position:d,style:{...e,"--xy-minimap-background-color-props":typeof u=="string"?u:void 0,"--xy-minimap-mask-background-color-props":typeof l=="string"?l:void 0,"--xy-minimap-mask-stroke-color-props":typeof c=="string"?c:void 0,"--xy-minimap-mask-stroke-width-props":typeof f=="number"?f*I:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof s=="number"?s:void 0},className:Pe(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:g.jsxs("svg",{width:L,height:A,viewBox:`${W} ${G} ${ne} ${te}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":re,ref:S,onClick:K,children:[Q&&g.jsx("title",{id:re,children:Q}),g.jsx(hO,{onClick:Y,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:o,nodeClassName:i,nodeStrokeWidth:s,nodeComponent:a}),g.jsx("path",{className:"react-flow__minimap-mask",d:`M${W-H},${G-H}h${ne+H*2}v${te+H*2}h${-ne-H*2}z
        M${k.x},${k.y}h${k.width}v${k.height}h${-k.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}D2.displayName="MiniMap";const xO=q.memo(D2),_O=e=>t=>e?`${Math.max(1/t.transform[2],1)}`:void 0,wO={[ci.Line]:"right",[ci.Handle]:"bottom-right"};function SO({nodeId:e,position:t,variant:n=ci.Handle,className:r,style:i=void 0,children:o,color:s,minWidth:a=10,minHeight:u=10,maxWidth:l=Number.MAX_VALUE,maxHeight:c=Number.MAX_VALUE,keepAspectRatio:f=!1,resizeDirection:d,autoScale:p=!0,shouldResize:h,onResizeStart:x,onResize:w,onResizeEnd:m}){const y=g2(),v=typeof e=="string"?e:y,_=Ce(),E=q.useRef(null),S=n===ci.Handle,b=me(q.useCallback(_O(S&&p),[S,p]),Ee),k=q.useRef(null),T=t??wO[n];q.useEffect(()=>{if(!(!E.current||!v))return k.current||(k.current=PP({domNode:E.current,nodeId:v,getStoreItems:()=>{const{nodeLookup:R,transform:j,snapGrid:$,snapToGrid:C,nodeOrigin:L,domNode:A}=_.getState();return{nodeLookup:R,transform:j,snapGrid:$,snapToGrid:C,nodeOrigin:L,paneDomNode:A}},onChange:(R,j)=>{const{triggerNodeChanges:$,nodeLookup:C,parentLookup:L,nodeOrigin:A}=_.getState(),D=[],N={x:R.x,y:R.y},I=C.get(v);if(I&&I.expandParent&&I.parentId){const P=I.origin??A,F=R.width??I.measured.width??0,H=R.height??I.measured.height??0,W={id:I.id,parentId:I.parentId,rect:{width:F,height:H,...jC({x:R.x??I.position.x,y:R.y??I.position.y},{width:F,height:H},I.parentId,C,P)}},G=jm([W],C,L,A);D.push(...G),N.x=R.x?Math.max(P[0]*F,R.x):void 0,N.y=R.y?Math.max(P[1]*H,R.y):void 0}if(N.x!==void 0&&N.y!==void 0){const P={id:v,type:"position",position:{...N}};D.push(P)}if(R.width!==void 0&&R.height!==void 0){const F={id:v,type:"dimensions",resizing:!0,setAttributes:d?d==="horizontal"?"width":"height":!0,dimensions:{width:R.width,height:R.height}};D.push(F)}for(const P of j){const F={...P,type:"position"};D.push(F)}$(D)},onEnd:({width:R,height:j})=>{const $={id:v,type:"dimensions",resizing:!1,dimensions:{width:R,height:j}};_.getState().triggerNodeChanges([$])}})),k.current.update({controlPosition:T,boundaries:{minWidth:a,minHeight:u,maxWidth:l,maxHeight:c},keepAspectRatio:f,resizeDirection:d,onResizeStart:x,onResize:w,onResizeEnd:m,shouldResize:h}),()=>{var R;(R=k.current)==null||R.destroy()}},[T,a,u,l,c,f,x,w,m,h]);const O=T.split("-");return g.jsx("div",{className:Pe(["react-flow__resize-control","nodrag",...O,n,r]),ref:E,style:{...i,scale:b,...s&&{[S?"backgroundColor":"borderColor"]:s}},children:o})}q.memo(SO);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var bO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EO=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=(e,t)=>{const n=q.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:s,className:a="",children:u,...l},c)=>q.createElement("svg",{ref:c,...bO,width:i,height:i,stroke:r,strokeWidth:s?Number(o)*24/Number(i):o,className:["lucide",`lucide-${EO(e)}`,a].join(" "),...l},[...t.map(([f,d])=>q.createElement(f,d)),...Array.isArray(u)?u:[u]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CO=Xe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x0=Xe("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NO=Xe("Dices",[["rect",{width:"12",height:"12",x:"2",y:"10",rx:"2",ry:"2",key:"6agr2n"}],["path",{d:"m17.92 14 3.5-3.5a2.24 2.24 0 0 0 0-3l-5-4.92a2.24 2.24 0 0 0-3 0L10 6",key:"1o487t"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M10 14h.01",key:"ssrbsk"}],["path",{d:"M15 6h.01",key:"cblpky"}],["path",{d:"M18 9h.01",key:"2061c0"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _0=Xe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kO=Xe("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IO=Xe("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RO=Xe("MousePointer2",[["path",{d:"m4 4 7.07 17 2.51-7.39L21 11.07z",key:"1vqm48"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TO=Xe("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w0=Xe("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S0=Xe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b0=Xe("Redo",[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E0=Xe("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C0=Xe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N0=Xe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k0=Xe("Undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=Xe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);function Lm(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var xl,I0;function MO(){if(I0)return xl;I0=1;function e(){this.__data__=[],this.size=0}return xl=e,xl}var _l,R0;function mi(){if(R0)return _l;R0=1;function e(t,n){return t===n||t!==t&&n!==n}return _l=e,_l}var wl,T0;function fu(){if(T0)return wl;T0=1;var e=mi();function t(n,r){for(var i=n.length;i--;)if(e(n[i][0],r))return i;return-1}return wl=t,wl}var Sl,M0;function AO(){if(M0)return Sl;M0=1;var e=fu(),t=Array.prototype,n=t.splice;function r(i){var o=this.__data__,s=e(o,i);if(s<0)return!1;var a=o.length-1;return s==a?o.pop():n.call(o,s,1),--this.size,!0}return Sl=r,Sl}var bl,A0;function jO(){if(A0)return bl;A0=1;var e=fu();function t(n){var r=this.__data__,i=e(r,n);return i<0?void 0:r[i][1]}return bl=t,bl}var El,j0;function PO(){if(j0)return El;j0=1;var e=fu();function t(n){return e(this.__data__,n)>-1}return El=t,El}var Cl,P0;function LO(){if(P0)return Cl;P0=1;var e=fu();function t(n,r){var i=this.__data__,o=e(i,n);return o<0?(++this.size,i.push([n,r])):i[o][1]=r,this}return Cl=t,Cl}var Nl,L0;function du(){if(L0)return Nl;L0=1;var e=MO(),t=AO(),n=jO(),r=PO(),i=LO();function o(s){var a=-1,u=s==null?0:s.length;for(this.clear();++a<u;){var l=s[a];this.set(l[0],l[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,Nl=o,Nl}var kl,O0;function OO(){if(O0)return kl;O0=1;var e=du();function t(){this.__data__=new e,this.size=0}return kl=t,kl}var Il,q0;function qO(){if(q0)return Il;q0=1;function e(t){var n=this.__data__,r=n.delete(t);return this.size=n.size,r}return Il=e,Il}var Rl,D0;function DO(){if(D0)return Rl;D0=1;function e(t){return this.__data__.get(t)}return Rl=e,Rl}var Tl,$0;function $O(){if($0)return Tl;$0=1;function e(t){return this.__data__.has(t)}return Tl=e,Tl}var Ml,z0;function $2(){if(z0)return Ml;z0=1;var e=typeof an=="object"&&an&&an.Object===Object&&an;return Ml=e,Ml}var Al,F0;function Bt(){if(F0)return Al;F0=1;var e=$2(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return Al=n,Al}var jl,H0;function vi(){if(H0)return jl;H0=1;var e=Bt(),t=e.Symbol;return jl=t,jl}var Pl,B0;function zO(){if(B0)return Pl;B0=1;var e=vi(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,i=e?e.toStringTag:void 0;function o(s){var a=n.call(s,i),u=s[i];try{s[i]=void 0;var l=!0}catch{}var c=r.call(s);return l&&(a?s[i]=u:delete s[i]),c}return Pl=o,Pl}var Ll,V0;function FO(){if(V0)return Ll;V0=1;var e=Object.prototype,t=e.toString;function n(r){return t.call(r)}return Ll=n,Ll}var Ol,U0;function Sr(){if(U0)return Ol;U0=1;var e=vi(),t=zO(),n=FO(),r="[object Null]",i="[object Undefined]",o=e?e.toStringTag:void 0;function s(a){return a==null?a===void 0?i:r:o&&o in Object(a)?t(a):n(a)}return Ol=s,Ol}var ql,G0;function kt(){if(G0)return ql;G0=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return ql=e,ql}var Dl,W0;function $o(){if(W0)return Dl;W0=1;var e=Sr(),t=kt(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function s(a){if(!t(a))return!1;var u=e(a);return u==r||u==i||u==n||u==o}return Dl=s,Dl}var $l,Y0;function HO(){if(Y0)return $l;Y0=1;var e=Bt(),t=e["__core-js_shared__"];return $l=t,$l}var zl,K0;function BO(){if(K0)return zl;K0=1;var e=HO(),t=function(){var r=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!t&&t in r}return zl=n,zl}var Fl,X0;function z2(){if(X0)return Fl;X0=1;var e=Function.prototype,t=e.toString;function n(r){if(r!=null){try{return t.call(r)}catch{}try{return r+""}catch{}}return""}return Fl=n,Fl}var Hl,Q0;function VO(){if(Q0)return Hl;Q0=1;var e=$o(),t=BO(),n=kt(),r=z2(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,s=Function.prototype,a=Object.prototype,u=s.toString,l=a.hasOwnProperty,c=RegExp("^"+u.call(l).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(d){if(!n(d)||t(d))return!1;var p=e(d)?c:o;return p.test(r(d))}return Hl=f,Hl}var Bl,Z0;function UO(){if(Z0)return Bl;Z0=1;function e(t,n){return t==null?void 0:t[n]}return Bl=e,Bl}var Vl,J0;function br(){if(J0)return Vl;J0=1;var e=VO(),t=UO();function n(r,i){var o=t(r,i);return e(o)?o:void 0}return Vl=n,Vl}var Ul,ex;function Om(){if(ex)return Ul;ex=1;var e=br(),t=Bt(),n=e(t,"Map");return Ul=n,Ul}var Gl,tx;function hu(){if(tx)return Gl;tx=1;var e=br(),t=e(Object,"create");return Gl=t,Gl}var Wl,nx;function GO(){if(nx)return Wl;nx=1;var e=hu();function t(){this.__data__=e?e(null):{},this.size=0}return Wl=t,Wl}var Yl,rx;function WO(){if(rx)return Yl;rx=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return Yl=e,Yl}var Kl,ix;function YO(){if(ix)return Kl;ix=1;var e=hu(),t="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(o){var s=this.__data__;if(e){var a=s[o];return a===t?void 0:a}return r.call(s,o)?s[o]:void 0}return Kl=i,Kl}var Xl,ox;function KO(){if(ox)return Xl;ox=1;var e=hu(),t=Object.prototype,n=t.hasOwnProperty;function r(i){var o=this.__data__;return e?o[i]!==void 0:n.call(o,i)}return Xl=r,Xl}var Ql,sx;function XO(){if(sx)return Ql;sx=1;var e=hu(),t="__lodash_hash_undefined__";function n(r,i){var o=this.__data__;return this.size+=this.has(r)?0:1,o[r]=e&&i===void 0?t:i,this}return Ql=n,Ql}var Zl,ax;function QO(){if(ax)return Zl;ax=1;var e=GO(),t=WO(),n=YO(),r=KO(),i=XO();function o(s){var a=-1,u=s==null?0:s.length;for(this.clear();++a<u;){var l=s[a];this.set(l[0],l[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,Zl=o,Zl}var Jl,ux;function ZO(){if(ux)return Jl;ux=1;var e=QO(),t=du(),n=Om();function r(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return Jl=r,Jl}var ec,lx;function JO(){if(lx)return ec;lx=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return ec=e,ec}var tc,cx;function pu(){if(cx)return tc;cx=1;var e=JO();function t(n,r){var i=n.__data__;return e(r)?i[typeof r=="string"?"string":"hash"]:i.map}return tc=t,tc}var nc,fx;function e4(){if(fx)return nc;fx=1;var e=pu();function t(n){var r=e(this,n).delete(n);return this.size-=r?1:0,r}return nc=t,nc}var rc,dx;function t4(){if(dx)return rc;dx=1;var e=pu();function t(n){return e(this,n).get(n)}return rc=t,rc}var ic,hx;function n4(){if(hx)return ic;hx=1;var e=pu();function t(n){return e(this,n).has(n)}return ic=t,ic}var oc,px;function r4(){if(px)return oc;px=1;var e=pu();function t(n,r){var i=e(this,n),o=i.size;return i.set(n,r),this.size+=i.size==o?0:1,this}return oc=t,oc}var sc,gx;function qm(){if(gx)return sc;gx=1;var e=ZO(),t=e4(),n=t4(),r=n4(),i=r4();function o(s){var a=-1,u=s==null?0:s.length;for(this.clear();++a<u;){var l=s[a];this.set(l[0],l[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,sc=o,sc}var ac,mx;function i4(){if(mx)return ac;mx=1;var e=du(),t=Om(),n=qm(),r=200;function i(o,s){var a=this.__data__;if(a instanceof e){var u=a.__data__;if(!t||u.length<r-1)return u.push([o,s]),this.size=++a.size,this;a=this.__data__=new n(u)}return a.set(o,s),this.size=a.size,this}return ac=i,ac}var uc,vx;function gu(){if(vx)return uc;vx=1;var e=du(),t=OO(),n=qO(),r=DO(),i=$O(),o=i4();function s(a){var u=this.__data__=new e(a);this.size=u.size}return s.prototype.clear=t,s.prototype.delete=n,s.prototype.get=r,s.prototype.has=i,s.prototype.set=o,uc=s,uc}var lc,yx;function Dm(){if(yx)return lc;yx=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i&&n(t[r],r,t)!==!1;);return t}return lc=e,lc}var cc,xx;function F2(){if(xx)return cc;xx=1;var e=br(),t=function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}}();return cc=t,cc}var fc,_x;function mu(){if(_x)return fc;_x=1;var e=F2();function t(n,r,i){r=="__proto__"&&e?e(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return fc=t,fc}var dc,wx;function vu(){if(wx)return dc;wx=1;var e=mu(),t=mi(),n=Object.prototype,r=n.hasOwnProperty;function i(o,s,a){var u=o[s];(!(r.call(o,s)&&t(u,a))||a===void 0&&!(s in o))&&e(o,s,a)}return dc=i,dc}var hc,Sx;function zo(){if(Sx)return hc;Sx=1;var e=vu(),t=mu();function n(r,i,o,s){var a=!o;o||(o={});for(var u=-1,l=i.length;++u<l;){var c=i[u],f=s?s(o[c],r[c],c,o,r):void 0;f===void 0&&(f=r[c]),a?t(o,c,f):e(o,c,f)}return o}return hc=n,hc}var pc,bx;function o4(){if(bx)return pc;bx=1;function e(t,n){for(var r=-1,i=Array(t);++r<t;)i[r]=n(r);return i}return pc=e,pc}var gc,Ex;function tn(){if(Ex)return gc;Ex=1;function e(t){return t!=null&&typeof t=="object"}return gc=e,gc}var mc,Cx;function s4(){if(Cx)return mc;Cx=1;var e=Sr(),t=tn(),n="[object Arguments]";function r(i){return t(i)&&e(i)==n}return mc=r,mc}var vc,Nx;function Fo(){if(Nx)return vc;Nx=1;var e=s4(),t=tn(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,o=e(function(){return arguments}())?e:function(s){return t(s)&&r.call(s,"callee")&&!i.call(s,"callee")};return vc=o,vc}var yc,kx;function Le(){if(kx)return yc;kx=1;var e=Array.isArray;return yc=e,yc}var Di={exports:{}},xc,Ix;function a4(){if(Ix)return xc;Ix=1;function e(){return!1}return xc=e,xc}Di.exports;var Rx;function yi(){return Rx||(Rx=1,function(e,t){var n=Bt(),r=a4(),i=t&&!t.nodeType&&t,o=i&&!0&&e&&!e.nodeType&&e,s=o&&o.exports===i,a=s?n.Buffer:void 0,u=a?a.isBuffer:void 0,l=u||r;e.exports=l}(Di,Di.exports)),Di.exports}var _c,Tx;function yu(){if(Tx)return _c;Tx=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(r,i){var o=typeof r;return i=i??e,!!i&&(o=="number"||o!="symbol"&&t.test(r))&&r>-1&&r%1==0&&r<i}return _c=n,_c}var wc,Mx;function $m(){if(Mx)return wc;Mx=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return wc=t,wc}var Sc,Ax;function u4(){if(Ax)return Sc;Ax=1;var e=Sr(),t=$m(),n=tn(),r="[object Arguments]",i="[object Array]",o="[object Boolean]",s="[object Date]",a="[object Error]",u="[object Function]",l="[object Map]",c="[object Number]",f="[object Object]",d="[object RegExp]",p="[object Set]",h="[object String]",x="[object WeakMap]",w="[object ArrayBuffer]",m="[object DataView]",y="[object Float32Array]",v="[object Float64Array]",_="[object Int8Array]",E="[object Int16Array]",S="[object Int32Array]",b="[object Uint8Array]",k="[object Uint8ClampedArray]",T="[object Uint16Array]",O="[object Uint32Array]",R={};R[y]=R[v]=R[_]=R[E]=R[S]=R[b]=R[k]=R[T]=R[O]=!0,R[r]=R[i]=R[w]=R[o]=R[m]=R[s]=R[a]=R[u]=R[l]=R[c]=R[f]=R[d]=R[p]=R[h]=R[x]=!1;function j($){return n($)&&t($.length)&&!!R[e($)]}return Sc=j,Sc}var bc,jx;function xu(){if(jx)return bc;jx=1;function e(t){return function(n){return t(n)}}return bc=e,bc}var $i={exports:{}};$i.exports;var Px;function zm(){return Px||(Px=1,function(e,t){var n=$2(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var u=i&&i.require&&i.require("util").types;return u||s&&s.binding&&s.binding("util")}catch{}}();e.exports=a}($i,$i.exports)),$i.exports}var Ec,Lx;function Ho(){if(Lx)return Ec;Lx=1;var e=u4(),t=xu(),n=zm(),r=n&&n.isTypedArray,i=r?t(r):e;return Ec=i,Ec}var Cc,Ox;function H2(){if(Ox)return Cc;Ox=1;var e=o4(),t=Fo(),n=Le(),r=yi(),i=yu(),o=Ho(),s=Object.prototype,a=s.hasOwnProperty;function u(l,c){var f=n(l),d=!f&&t(l),p=!f&&!d&&r(l),h=!f&&!d&&!p&&o(l),x=f||d||p||h,w=x?e(l.length,String):[],m=w.length;for(var y in l)(c||a.call(l,y))&&!(x&&(y=="length"||p&&(y=="offset"||y=="parent")||h&&(y=="buffer"||y=="byteLength"||y=="byteOffset")||i(y,m)))&&w.push(y);return w}return Cc=u,Cc}var Nc,qx;function _u(){if(qx)return Nc;qx=1;var e=Object.prototype;function t(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||e;return n===i}return Nc=t,Nc}var kc,Dx;function B2(){if(Dx)return kc;Dx=1;function e(t,n){return function(r){return t(n(r))}}return kc=e,kc}var Ic,$x;function l4(){if($x)return Ic;$x=1;var e=B2(),t=e(Object.keys,Object);return Ic=t,Ic}var Rc,zx;function Fm(){if(zx)return Rc;zx=1;var e=_u(),t=l4(),n=Object.prototype,r=n.hasOwnProperty;function i(o){if(!e(o))return t(o);var s=[];for(var a in Object(o))r.call(o,a)&&a!="constructor"&&s.push(a);return s}return Rc=i,Rc}var Tc,Fx;function Sn(){if(Fx)return Tc;Fx=1;var e=$o(),t=$m();function n(r){return r!=null&&t(r.length)&&!e(r)}return Tc=n,Tc}var Mc,Hx;function Zn(){if(Hx)return Mc;Hx=1;var e=H2(),t=Fm(),n=Sn();function r(i){return n(i)?e(i):t(i)}return Mc=r,Mc}var Ac,Bx;function c4(){if(Bx)return Ac;Bx=1;var e=zo(),t=Zn();function n(r,i){return r&&e(i,t(i),r)}return Ac=n,Ac}var jc,Vx;function f4(){if(Vx)return jc;Vx=1;function e(t){var n=[];if(t!=null)for(var r in Object(t))n.push(r);return n}return jc=e,jc}var Pc,Ux;function d4(){if(Ux)return Pc;Ux=1;var e=kt(),t=_u(),n=f4(),r=Object.prototype,i=r.hasOwnProperty;function o(s){if(!e(s))return n(s);var a=t(s),u=[];for(var l in s)l=="constructor"&&(a||!i.call(s,l))||u.push(l);return u}return Pc=o,Pc}var Lc,Gx;function Er(){if(Gx)return Lc;Gx=1;var e=H2(),t=d4(),n=Sn();function r(i){return n(i)?e(i,!0):t(i)}return Lc=r,Lc}var Oc,Wx;function h4(){if(Wx)return Oc;Wx=1;var e=zo(),t=Er();function n(r,i){return r&&e(i,t(i),r)}return Oc=n,Oc}var zi={exports:{}};zi.exports;var Yx;function V2(){return Yx||(Yx=1,function(e,t){var n=Bt(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===r,s=o?n.Buffer:void 0,a=s?s.allocUnsafe:void 0;function u(l,c){if(c)return l.slice();var f=l.length,d=a?a(f):new l.constructor(f);return l.copy(d),d}e.exports=u}(zi,zi.exports)),zi.exports}var qc,Kx;function U2(){if(Kx)return qc;Kx=1;function e(t,n){var r=-1,i=t.length;for(n||(n=Array(i));++r<i;)n[r]=t[r];return n}return qc=e,qc}var Dc,Xx;function G2(){if(Xx)return Dc;Xx=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,o=0,s=[];++r<i;){var a=t[r];n(a,r,t)&&(s[o++]=a)}return s}return Dc=e,Dc}var $c,Qx;function W2(){if(Qx)return $c;Qx=1;function e(){return[]}return $c=e,$c}var zc,Zx;function Hm(){if(Zx)return zc;Zx=1;var e=G2(),t=W2(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(s){return s==null?[]:(s=Object(s),e(i(s),function(a){return r.call(s,a)}))}:t;return zc=o,zc}var Fc,Jx;function p4(){if(Jx)return Fc;Jx=1;var e=zo(),t=Hm();function n(r,i){return e(r,t(r),i)}return Fc=n,Fc}var Hc,e1;function Bm(){if(e1)return Hc;e1=1;function e(t,n){for(var r=-1,i=n.length,o=t.length;++r<i;)t[o+r]=n[r];return t}return Hc=e,Hc}var Bc,t1;function wu(){if(t1)return Bc;t1=1;var e=B2(),t=e(Object.getPrototypeOf,Object);return Bc=t,Bc}var Vc,n1;function Y2(){if(n1)return Vc;n1=1;var e=Bm(),t=wu(),n=Hm(),r=W2(),i=Object.getOwnPropertySymbols,o=i?function(s){for(var a=[];s;)e(a,n(s)),s=t(s);return a}:r;return Vc=o,Vc}var Uc,r1;function g4(){if(r1)return Uc;r1=1;var e=zo(),t=Y2();function n(r,i){return e(r,t(r),i)}return Uc=n,Uc}var Gc,i1;function K2(){if(i1)return Gc;i1=1;var e=Bm(),t=Le();function n(r,i,o){var s=i(r);return t(r)?s:e(s,o(r))}return Gc=n,Gc}var Wc,o1;function X2(){if(o1)return Wc;o1=1;var e=K2(),t=Hm(),n=Zn();function r(i){return e(i,n,t)}return Wc=r,Wc}var Yc,s1;function m4(){if(s1)return Yc;s1=1;var e=K2(),t=Y2(),n=Er();function r(i){return e(i,n,t)}return Yc=r,Yc}var Kc,a1;function v4(){if(a1)return Kc;a1=1;var e=br(),t=Bt(),n=e(t,"DataView");return Kc=n,Kc}var Xc,u1;function y4(){if(u1)return Xc;u1=1;var e=br(),t=Bt(),n=e(t,"Promise");return Xc=n,Xc}var Qc,l1;function Q2(){if(l1)return Qc;l1=1;var e=br(),t=Bt(),n=e(t,"Set");return Qc=n,Qc}var Zc,c1;function x4(){if(c1)return Zc;c1=1;var e=br(),t=Bt(),n=e(t,"WeakMap");return Zc=n,Zc}var Jc,f1;function xi(){if(f1)return Jc;f1=1;var e=v4(),t=Om(),n=y4(),r=Q2(),i=x4(),o=Sr(),s=z2(),a="[object Map]",u="[object Object]",l="[object Promise]",c="[object Set]",f="[object WeakMap]",d="[object DataView]",p=s(e),h=s(t),x=s(n),w=s(r),m=s(i),y=o;return(e&&y(new e(new ArrayBuffer(1)))!=d||t&&y(new t)!=a||n&&y(n.resolve())!=l||r&&y(new r)!=c||i&&y(new i)!=f)&&(y=function(v){var _=o(v),E=_==u?v.constructor:void 0,S=E?s(E):"";if(S)switch(S){case p:return d;case h:return a;case x:return l;case w:return c;case m:return f}return _}),Jc=y,Jc}var ef,d1;function _4(){if(d1)return ef;d1=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r){var i=r.length,o=new r.constructor(i);return i&&typeof r[0]=="string"&&t.call(r,"index")&&(o.index=r.index,o.input=r.input),o}return ef=n,ef}var tf,h1;function Z2(){if(h1)return tf;h1=1;var e=Bt(),t=e.Uint8Array;return tf=t,tf}var nf,p1;function Vm(){if(p1)return nf;p1=1;var e=Z2();function t(n){var r=new n.constructor(n.byteLength);return new e(r).set(new e(n)),r}return nf=t,nf}var rf,g1;function w4(){if(g1)return rf;g1=1;var e=Vm();function t(n,r){var i=r?e(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.byteLength)}return rf=t,rf}var of,m1;function S4(){if(m1)return of;m1=1;var e=/\w*$/;function t(n){var r=new n.constructor(n.source,e.exec(n));return r.lastIndex=n.lastIndex,r}return of=t,of}var sf,v1;function b4(){if(v1)return sf;v1=1;var e=vi(),t=e?e.prototype:void 0,n=t?t.valueOf:void 0;function r(i){return n?Object(n.call(i)):{}}return sf=r,sf}var af,y1;function J2(){if(y1)return af;y1=1;var e=Vm();function t(n,r){var i=r?e(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.length)}return af=t,af}var uf,x1;function E4(){if(x1)return uf;x1=1;var e=Vm(),t=w4(),n=S4(),r=b4(),i=J2(),o="[object Boolean]",s="[object Date]",a="[object Map]",u="[object Number]",l="[object RegExp]",c="[object Set]",f="[object String]",d="[object Symbol]",p="[object ArrayBuffer]",h="[object DataView]",x="[object Float32Array]",w="[object Float64Array]",m="[object Int8Array]",y="[object Int16Array]",v="[object Int32Array]",_="[object Uint8Array]",E="[object Uint8ClampedArray]",S="[object Uint16Array]",b="[object Uint32Array]";function k(T,O,R){var j=T.constructor;switch(O){case p:return e(T);case o:case s:return new j(+T);case h:return t(T,R);case x:case w:case m:case y:case v:case _:case E:case S:case b:return i(T,R);case a:return new j;case u:case f:return new j(T);case l:return n(T);case c:return new j;case d:return r(T)}}return uf=k,uf}var lf,_1;function eN(){if(_1)return lf;_1=1;var e=kt(),t=Object.create,n=function(){function r(){}return function(i){if(!e(i))return{};if(t)return t(i);r.prototype=i;var o=new r;return r.prototype=void 0,o}}();return lf=n,lf}var cf,w1;function tN(){if(w1)return cf;w1=1;var e=eN(),t=wu(),n=_u();function r(i){return typeof i.constructor=="function"&&!n(i)?e(t(i)):{}}return cf=r,cf}var ff,S1;function C4(){if(S1)return ff;S1=1;var e=xi(),t=tn(),n="[object Map]";function r(i){return t(i)&&e(i)==n}return ff=r,ff}var df,b1;function N4(){if(b1)return df;b1=1;var e=C4(),t=xu(),n=zm(),r=n&&n.isMap,i=r?t(r):e;return df=i,df}var hf,E1;function k4(){if(E1)return hf;E1=1;var e=xi(),t=tn(),n="[object Set]";function r(i){return t(i)&&e(i)==n}return hf=r,hf}var pf,C1;function I4(){if(C1)return pf;C1=1;var e=k4(),t=xu(),n=zm(),r=n&&n.isSet,i=r?t(r):e;return pf=i,pf}var gf,N1;function nN(){if(N1)return gf;N1=1;var e=gu(),t=Dm(),n=vu(),r=c4(),i=h4(),o=V2(),s=U2(),a=p4(),u=g4(),l=X2(),c=m4(),f=xi(),d=_4(),p=E4(),h=tN(),x=Le(),w=yi(),m=N4(),y=kt(),v=I4(),_=Zn(),E=Er(),S=1,b=2,k=4,T="[object Arguments]",O="[object Array]",R="[object Boolean]",j="[object Date]",$="[object Error]",C="[object Function]",L="[object GeneratorFunction]",A="[object Map]",D="[object Number]",N="[object Object]",I="[object RegExp]",P="[object Set]",F="[object String]",H="[object Symbol]",W="[object WeakMap]",G="[object ArrayBuffer]",ne="[object DataView]",te="[object Float32Array]",re="[object Float64Array]",U="[object Int8Array]",oe="[object Int16Array]",K="[object Int32Array]",Y="[object Uint8Array]",Q="[object Uint8ClampedArray]",z="[object Uint16Array]",ae="[object Uint32Array]",Z={};Z[T]=Z[O]=Z[G]=Z[ne]=Z[R]=Z[j]=Z[te]=Z[re]=Z[U]=Z[oe]=Z[K]=Z[A]=Z[D]=Z[N]=Z[I]=Z[P]=Z[F]=Z[H]=Z[Y]=Z[Q]=Z[z]=Z[ae]=!0,Z[$]=Z[C]=Z[W]=!1;function se(ue,$e,Oe,xt,lt,He){var ke,Rt=$e&S,_t=$e&b,Tt=$e&k;if(Oe&&(ke=lt?Oe(ue,xt,lt,He):Oe(ue)),ke!==void 0)return ke;if(!y(ue))return ue;var M=x(ue);if(M){if(ke=d(ue),!Rt)return s(ue,ke)}else{var B=f(ue),X=B==C||B==L;if(w(ue))return o(ue,Rt);if(B==N||B==T||X&&!lt){if(ke=_t||X?{}:h(ue),!Rt)return _t?u(ue,i(ke,ue)):a(ue,r(ke,ue))}else{if(!Z[B])return lt?ue:{};ke=p(ue,B,Rt)}}He||(He=new e);var ie=He.get(ue);if(ie)return ie;He.set(ue,ke),v(ue)?ue.forEach(function(le){ke.add(se(le,$e,Oe,le,ue,He))}):m(ue)&&ue.forEach(function(le,he){ke.set(he,se(le,$e,Oe,he,ue,He))});var fe=Tt?_t?c:l:_t?E:_,ce=M?void 0:fe(ue);return t(ce||ue,function(le,he){ce&&(he=le,le=ue[he]),n(ke,he,se(le,$e,Oe,he,ue,He))}),ke}return gf=se,gf}var mf,k1;function R4(){if(k1)return mf;k1=1;var e=nN(),t=4;function n(r){return e(r,t)}return mf=n,mf}var vf,I1;function Um(){if(I1)return vf;I1=1;function e(t){return function(){return t}}return vf=e,vf}var yf,R1;function T4(){if(R1)return yf;R1=1;function e(t){return function(n,r,i){for(var o=-1,s=Object(n),a=i(n),u=a.length;u--;){var l=a[t?u:++o];if(r(s[l],l,s)===!1)break}return n}}return yf=e,yf}var xf,T1;function Gm(){if(T1)return xf;T1=1;var e=T4(),t=e();return xf=t,xf}var _f,M1;function Wm(){if(M1)return _f;M1=1;var e=Gm(),t=Zn();function n(r,i){return r&&e(r,i,t)}return _f=n,_f}var wf,A1;function M4(){if(A1)return wf;A1=1;var e=Sn();function t(n,r){return function(i,o){if(i==null)return i;if(!e(i))return n(i,o);for(var s=i.length,a=r?s:-1,u=Object(i);(r?a--:++a<s)&&o(u[a],a,u)!==!1;);return i}}return wf=t,wf}var Sf,j1;function Su(){if(j1)return Sf;j1=1;var e=Wm(),t=M4(),n=t(e);return Sf=n,Sf}var bf,P1;function Cr(){if(P1)return bf;P1=1;function e(t){return t}return bf=e,bf}var Ef,L1;function rN(){if(L1)return Ef;L1=1;var e=Cr();function t(n){return typeof n=="function"?n:e}return Ef=t,Ef}var Cf,O1;function iN(){if(O1)return Cf;O1=1;var e=Dm(),t=Su(),n=rN(),r=Le();function i(o,s){var a=r(o)?e:t;return a(o,n(s))}return Cf=i,Cf}var Nf,q1;function oN(){return q1||(q1=1,Nf=iN()),Nf}var kf,D1;function A4(){if(D1)return kf;D1=1;var e=Su();function t(n,r){var i=[];return e(n,function(o,s,a){r(o,s,a)&&i.push(o)}),i}return kf=t,kf}var If,$1;function j4(){if($1)return If;$1=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return If=t,If}var Rf,z1;function P4(){if(z1)return Rf;z1=1;function e(t){return this.__data__.has(t)}return Rf=e,Rf}var Tf,F1;function sN(){if(F1)return Tf;F1=1;var e=qm(),t=j4(),n=P4();function r(i){var o=-1,s=i==null?0:i.length;for(this.__data__=new e;++o<s;)this.add(i[o])}return r.prototype.add=r.prototype.push=t,r.prototype.has=n,Tf=r,Tf}var Mf,H1;function L4(){if(H1)return Mf;H1=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(t[r],r,t))return!0;return!1}return Mf=e,Mf}var Af,B1;function aN(){if(B1)return Af;B1=1;function e(t,n){return t.has(n)}return Af=e,Af}var jf,V1;function uN(){if(V1)return jf;V1=1;var e=sN(),t=L4(),n=aN(),r=1,i=2;function o(s,a,u,l,c,f){var d=u&r,p=s.length,h=a.length;if(p!=h&&!(d&&h>p))return!1;var x=f.get(s),w=f.get(a);if(x&&w)return x==a&&w==s;var m=-1,y=!0,v=u&i?new e:void 0;for(f.set(s,a),f.set(a,s);++m<p;){var _=s[m],E=a[m];if(l)var S=d?l(E,_,m,a,s,f):l(_,E,m,s,a,f);if(S!==void 0){if(S)continue;y=!1;break}if(v){if(!t(a,function(b,k){if(!n(v,k)&&(_===b||c(_,b,u,l,f)))return v.push(k)})){y=!1;break}}else if(!(_===E||c(_,E,u,l,f))){y=!1;break}}return f.delete(s),f.delete(a),y}return jf=o,jf}var Pf,U1;function O4(){if(U1)return Pf;U1=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i,o){r[++n]=[o,i]}),r}return Pf=e,Pf}var Lf,G1;function Ym(){if(G1)return Lf;G1=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i){r[++n]=i}),r}return Lf=e,Lf}var Of,W1;function q4(){if(W1)return Of;W1=1;var e=vi(),t=Z2(),n=mi(),r=uN(),i=O4(),o=Ym(),s=1,a=2,u="[object Boolean]",l="[object Date]",c="[object Error]",f="[object Map]",d="[object Number]",p="[object RegExp]",h="[object Set]",x="[object String]",w="[object Symbol]",m="[object ArrayBuffer]",y="[object DataView]",v=e?e.prototype:void 0,_=v?v.valueOf:void 0;function E(S,b,k,T,O,R,j){switch(k){case y:if(S.byteLength!=b.byteLength||S.byteOffset!=b.byteOffset)return!1;S=S.buffer,b=b.buffer;case m:return!(S.byteLength!=b.byteLength||!R(new t(S),new t(b)));case u:case l:case d:return n(+S,+b);case c:return S.name==b.name&&S.message==b.message;case p:case x:return S==b+"";case f:var $=i;case h:var C=T&s;if($||($=o),S.size!=b.size&&!C)return!1;var L=j.get(S);if(L)return L==b;T|=a,j.set(S,b);var A=r($(S),$(b),T,O,R,j);return j.delete(S),A;case w:if(_)return _.call(S)==_.call(b)}return!1}return Of=E,Of}var qf,Y1;function D4(){if(Y1)return qf;Y1=1;var e=X2(),t=1,n=Object.prototype,r=n.hasOwnProperty;function i(o,s,a,u,l,c){var f=a&t,d=e(o),p=d.length,h=e(s),x=h.length;if(p!=x&&!f)return!1;for(var w=p;w--;){var m=d[w];if(!(f?m in s:r.call(s,m)))return!1}var y=c.get(o),v=c.get(s);if(y&&v)return y==s&&v==o;var _=!0;c.set(o,s),c.set(s,o);for(var E=f;++w<p;){m=d[w];var S=o[m],b=s[m];if(u)var k=f?u(b,S,m,s,o,c):u(S,b,m,o,s,c);if(!(k===void 0?S===b||l(S,b,a,u,c):k)){_=!1;break}E||(E=m=="constructor")}if(_&&!E){var T=o.constructor,O=s.constructor;T!=O&&"constructor"in o&&"constructor"in s&&!(typeof T=="function"&&T instanceof T&&typeof O=="function"&&O instanceof O)&&(_=!1)}return c.delete(o),c.delete(s),_}return qf=i,qf}var Df,K1;function $4(){if(K1)return Df;K1=1;var e=gu(),t=uN(),n=q4(),r=D4(),i=xi(),o=Le(),s=yi(),a=Ho(),u=1,l="[object Arguments]",c="[object Array]",f="[object Object]",d=Object.prototype,p=d.hasOwnProperty;function h(x,w,m,y,v,_){var E=o(x),S=o(w),b=E?c:i(x),k=S?c:i(w);b=b==l?f:b,k=k==l?f:k;var T=b==f,O=k==f,R=b==k;if(R&&s(x)){if(!s(w))return!1;E=!0,T=!1}if(R&&!T)return _||(_=new e),E||a(x)?t(x,w,m,y,v,_):n(x,w,b,m,y,v,_);if(!(m&u)){var j=T&&p.call(x,"__wrapped__"),$=O&&p.call(w,"__wrapped__");if(j||$){var C=j?x.value():x,L=$?w.value():w;return _||(_=new e),v(C,L,m,y,_)}}return R?(_||(_=new e),r(x,w,m,y,v,_)):!1}return Df=h,Df}var $f,X1;function lN(){if(X1)return $f;X1=1;var e=$4(),t=tn();function n(r,i,o,s,a){return r===i?!0:r==null||i==null||!t(r)&&!t(i)?r!==r&&i!==i:e(r,i,o,s,n,a)}return $f=n,$f}var zf,Q1;function z4(){if(Q1)return zf;Q1=1;var e=gu(),t=lN(),n=1,r=2;function i(o,s,a,u){var l=a.length,c=l,f=!u;if(o==null)return!c;for(o=Object(o);l--;){var d=a[l];if(f&&d[2]?d[1]!==o[d[0]]:!(d[0]in o))return!1}for(;++l<c;){d=a[l];var p=d[0],h=o[p],x=d[1];if(f&&d[2]){if(h===void 0&&!(p in o))return!1}else{var w=new e;if(u)var m=u(h,x,p,o,s,w);if(!(m===void 0?t(x,h,n|r,u,w):m))return!1}}return!0}return zf=i,zf}var Ff,Z1;function cN(){if(Z1)return Ff;Z1=1;var e=kt();function t(n){return n===n&&!e(n)}return Ff=t,Ff}var Hf,J1;function F4(){if(J1)return Hf;J1=1;var e=cN(),t=Zn();function n(r){for(var i=t(r),o=i.length;o--;){var s=i[o],a=r[s];i[o]=[s,a,e(a)]}return i}return Hf=n,Hf}var Bf,e_;function fN(){if(e_)return Bf;e_=1;function e(t,n){return function(r){return r==null?!1:r[t]===n&&(n!==void 0||t in Object(r))}}return Bf=e,Bf}var Vf,t_;function H4(){if(t_)return Vf;t_=1;var e=z4(),t=F4(),n=fN();function r(i){var o=t(i);return o.length==1&&o[0][2]?n(o[0][0],o[0][1]):function(s){return s===i||e(s,i,o)}}return Vf=r,Vf}var Uf,n_;function _i(){if(n_)return Uf;n_=1;var e=Sr(),t=tn(),n="[object Symbol]";function r(i){return typeof i=="symbol"||t(i)&&e(i)==n}return Uf=r,Uf}var Gf,r_;function Km(){if(r_)return Gf;r_=1;var e=Le(),t=_i(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,s){if(e(o))return!1;var a=typeof o;return a=="number"||a=="symbol"||a=="boolean"||o==null||t(o)?!0:r.test(o)||!n.test(o)||s!=null&&o in Object(s)}return Gf=i,Gf}var Wf,i_;function B4(){if(i_)return Wf;i_=1;var e=qm(),t="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var o=function(){var s=arguments,a=i?i.apply(this,s):s[0],u=o.cache;if(u.has(a))return u.get(a);var l=r.apply(this,s);return o.cache=u.set(a,l)||u,l};return o.cache=new(n.Cache||e),o}return n.Cache=e,Wf=n,Wf}var Yf,o_;function V4(){if(o_)return Yf;o_=1;var e=B4(),t=500;function n(r){var i=e(r,function(s){return o.size===t&&o.clear(),s}),o=i.cache;return i}return Yf=n,Yf}var Kf,s_;function U4(){if(s_)return Kf;s_=1;var e=V4(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=e(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(t,function(s,a,u,l){o.push(u?l.replace(n,"$1"):a||s)}),o});return Kf=r,Kf}var Xf,a_;function bu(){if(a_)return Xf;a_=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,o=Array(i);++r<i;)o[r]=n(t[r],r,t);return o}return Xf=e,Xf}var Qf,u_;function G4(){if(u_)return Qf;u_=1;var e=vi(),t=bu(),n=Le(),r=_i(),i=e?e.prototype:void 0,o=i?i.toString:void 0;function s(a){if(typeof a=="string")return a;if(n(a))return t(a,s)+"";if(r(a))return o?o.call(a):"";var u=a+"";return u=="0"&&1/a==-1/0?"-0":u}return Qf=s,Qf}var Zf,l_;function dN(){if(l_)return Zf;l_=1;var e=G4();function t(n){return n==null?"":e(n)}return Zf=t,Zf}var Jf,c_;function Eu(){if(c_)return Jf;c_=1;var e=Le(),t=Km(),n=U4(),r=dN();function i(o,s){return e(o)?o:t(o,s)?[o]:n(r(o))}return Jf=i,Jf}var ed,f_;function Bo(){if(f_)return ed;f_=1;var e=_i();function t(n){if(typeof n=="string"||e(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return ed=t,ed}var td,d_;function Cu(){if(d_)return td;d_=1;var e=Eu(),t=Bo();function n(r,i){i=e(i,r);for(var o=0,s=i.length;r!=null&&o<s;)r=r[t(i[o++])];return o&&o==s?r:void 0}return td=n,td}var nd,h_;function W4(){if(h_)return nd;h_=1;var e=Cu();function t(n,r,i){var o=n==null?void 0:e(n,r);return o===void 0?i:o}return nd=t,nd}var rd,p_;function Y4(){if(p_)return rd;p_=1;function e(t,n){return t!=null&&n in Object(t)}return rd=e,rd}var id,g_;function hN(){if(g_)return id;g_=1;var e=Eu(),t=Fo(),n=Le(),r=yu(),i=$m(),o=Bo();function s(a,u,l){u=e(u,a);for(var c=-1,f=u.length,d=!1;++c<f;){var p=o(u[c]);if(!(d=a!=null&&l(a,p)))break;a=a[p]}return d||++c!=f?d:(f=a==null?0:a.length,!!f&&i(f)&&r(p,f)&&(n(a)||t(a)))}return id=s,id}var od,m_;function pN(){if(m_)return od;m_=1;var e=Y4(),t=hN();function n(r,i){return r!=null&&t(r,i,e)}return od=n,od}var sd,v_;function K4(){if(v_)return sd;v_=1;var e=lN(),t=W4(),n=pN(),r=Km(),i=cN(),o=fN(),s=Bo(),a=1,u=2;function l(c,f){return r(c)&&i(f)?o(s(c),f):function(d){var p=t(d,c);return p===void 0&&p===f?n(d,c):e(f,p,a|u)}}return sd=l,sd}var ad,y_;function gN(){if(y_)return ad;y_=1;function e(t){return function(n){return n==null?void 0:n[t]}}return ad=e,ad}var ud,x_;function X4(){if(x_)return ud;x_=1;var e=Cu();function t(n){return function(r){return e(r,n)}}return ud=t,ud}var ld,__;function Q4(){if(__)return ld;__=1;var e=gN(),t=X4(),n=Km(),r=Bo();function i(o){return n(o)?e(r(o)):t(o)}return ld=i,ld}var cd,w_;function bn(){if(w_)return cd;w_=1;var e=H4(),t=K4(),n=Cr(),r=Le(),i=Q4();function o(s){return typeof s=="function"?s:s==null?n:typeof s=="object"?r(s)?t(s[0],s[1]):e(s):i(s)}return cd=o,cd}var fd,S_;function mN(){if(S_)return fd;S_=1;var e=G2(),t=A4(),n=bn(),r=Le();function i(o,s){var a=r(o)?e:t;return a(o,n(s,3))}return fd=i,fd}var dd,b_;function Z4(){if(b_)return dd;b_=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r,i){return r!=null&&t.call(r,i)}return dd=n,dd}var hd,E_;function vN(){if(E_)return hd;E_=1;var e=Z4(),t=hN();function n(r,i){return r!=null&&t(r,i,e)}return hd=n,hd}var pd,C_;function J4(){if(C_)return pd;C_=1;var e=Fm(),t=xi(),n=Fo(),r=Le(),i=Sn(),o=yi(),s=_u(),a=Ho(),u="[object Map]",l="[object Set]",c=Object.prototype,f=c.hasOwnProperty;function d(p){if(p==null)return!0;if(i(p)&&(r(p)||typeof p=="string"||typeof p.splice=="function"||o(p)||a(p)||n(p)))return!p.length;var h=t(p);if(h==u||h==l)return!p.size;if(s(p))return!e(p).length;for(var x in p)if(f.call(p,x))return!1;return!0}return pd=d,pd}var gd,N_;function yN(){if(N_)return gd;N_=1;function e(t){return t===void 0}return gd=e,gd}var md,k_;function xN(){if(k_)return md;k_=1;var e=Su(),t=Sn();function n(r,i){var o=-1,s=t(r)?Array(r.length):[];return e(r,function(a,u,l){s[++o]=i(a,u,l)}),s}return md=n,md}var vd,I_;function _N(){if(I_)return vd;I_=1;var e=bu(),t=bn(),n=xN(),r=Le();function i(o,s){var a=r(o)?e:n;return a(o,t(s,3))}return vd=i,vd}var yd,R_;function eq(){if(R_)return yd;R_=1;function e(t,n,r,i){var o=-1,s=t==null?0:t.length;for(i&&s&&(r=t[++o]);++o<s;)r=n(r,t[o],o,t);return r}return yd=e,yd}var xd,T_;function tq(){if(T_)return xd;T_=1;function e(t,n,r,i,o){return o(t,function(s,a,u){r=i?(i=!1,s):n(r,s,a,u)}),r}return xd=e,xd}var _d,M_;function wN(){if(M_)return _d;M_=1;var e=eq(),t=Su(),n=bn(),r=tq(),i=Le();function o(s,a,u){var l=i(s)?e:r,c=arguments.length<3;return l(s,n(a,4),u,c,t)}return _d=o,_d}var wd,A_;function nq(){if(A_)return wd;A_=1;var e=Sr(),t=Le(),n=tn(),r="[object String]";function i(o){return typeof o=="string"||!t(o)&&n(o)&&e(o)==r}return wd=i,wd}var Sd,j_;function rq(){if(j_)return Sd;j_=1;var e=gN(),t=e("length");return Sd=t,Sd}var bd,P_;function iq(){if(P_)return bd;P_=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,o="\\ufe0e\\ufe0f",s="\\u200d",a=RegExp("["+s+e+i+o+"]");function u(l){return a.test(l)}return bd=u,bd}var Ed,L_;function oq(){if(L_)return Ed;L_=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,o="\\ufe0e\\ufe0f",s="["+e+"]",a="["+i+"]",u="\\ud83c[\\udffb-\\udfff]",l="(?:"+a+"|"+u+")",c="[^"+e+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",d="[\\ud800-\\udbff][\\udc00-\\udfff]",p="\\u200d",h=l+"?",x="["+o+"]?",w="(?:"+p+"(?:"+[c,f,d].join("|")+")"+x+h+")*",m=x+h+w,y="(?:"+[c+a+"?",a,f,d,s].join("|")+")",v=RegExp(u+"(?="+u+")|"+y+m,"g");function _(E){for(var S=v.lastIndex=0;v.test(E);)++S;return S}return Ed=_,Ed}var Cd,O_;function sq(){if(O_)return Cd;O_=1;var e=rq(),t=iq(),n=oq();function r(i){return t(i)?n(i):e(i)}return Cd=r,Cd}var Nd,q_;function aq(){if(q_)return Nd;q_=1;var e=Fm(),t=xi(),n=Sn(),r=nq(),i=sq(),o="[object Map]",s="[object Set]";function a(u){if(u==null)return 0;if(n(u))return r(u)?i(u):u.length;var l=t(u);return l==o||l==s?u.size:e(u).length}return Nd=a,Nd}var kd,D_;function uq(){if(D_)return kd;D_=1;var e=Dm(),t=eN(),n=Wm(),r=bn(),i=wu(),o=Le(),s=yi(),a=$o(),u=kt(),l=Ho();function c(f,d,p){var h=o(f),x=h||s(f)||l(f);if(d=r(d,4),p==null){var w=f&&f.constructor;x?p=h?new w:[]:u(f)?p=a(w)?t(i(f)):{}:p={}}return(x?e:n)(f,function(m,y,v){return d(p,m,y,v)}),p}return kd=c,kd}var Id,$_;function lq(){if($_)return Id;$_=1;var e=vi(),t=Fo(),n=Le(),r=e?e.isConcatSpreadable:void 0;function i(o){return n(o)||t(o)||!!(r&&o&&o[r])}return Id=i,Id}var Rd,z_;function Xm(){if(z_)return Rd;z_=1;var e=Bm(),t=lq();function n(r,i,o,s,a){var u=-1,l=r.length;for(o||(o=t),a||(a=[]);++u<l;){var c=r[u];i>0&&o(c)?i>1?n(c,i-1,o,s,a):e(a,c):s||(a[a.length]=c)}return a}return Rd=n,Rd}var Td,F_;function cq(){if(F_)return Td;F_=1;function e(t,n,r){switch(r.length){case 0:return t.call(n);case 1:return t.call(n,r[0]);case 2:return t.call(n,r[0],r[1]);case 3:return t.call(n,r[0],r[1],r[2])}return t.apply(n,r)}return Td=e,Td}var Md,H_;function SN(){if(H_)return Md;H_=1;var e=cq(),t=Math.max;function n(r,i,o){return i=t(i===void 0?r.length-1:i,0),function(){for(var s=arguments,a=-1,u=t(s.length-i,0),l=Array(u);++a<u;)l[a]=s[i+a];a=-1;for(var c=Array(i+1);++a<i;)c[a]=s[a];return c[i]=o(l),e(r,this,c)}}return Md=n,Md}var Ad,B_;function fq(){if(B_)return Ad;B_=1;var e=Um(),t=F2(),n=Cr(),r=t?function(i,o){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(o),writable:!0})}:n;return Ad=r,Ad}var jd,V_;function dq(){if(V_)return jd;V_=1;var e=800,t=16,n=Date.now;function r(i){var o=0,s=0;return function(){var a=n(),u=t-(a-s);if(s=a,u>0){if(++o>=e)return arguments[0]}else o=0;return i.apply(void 0,arguments)}}return jd=r,jd}var Pd,U_;function bN(){if(U_)return Pd;U_=1;var e=fq(),t=dq(),n=t(e);return Pd=n,Pd}var Ld,G_;function Nu(){if(G_)return Ld;G_=1;var e=Cr(),t=SN(),n=bN();function r(i,o){return n(t(i,o,e),i+"")}return Ld=r,Ld}var Od,W_;function EN(){if(W_)return Od;W_=1;function e(t,n,r,i){for(var o=t.length,s=r+(i?1:-1);i?s--:++s<o;)if(n(t[s],s,t))return s;return-1}return Od=e,Od}var qd,Y_;function hq(){if(Y_)return qd;Y_=1;function e(t){return t!==t}return qd=e,qd}var Dd,K_;function pq(){if(K_)return Dd;K_=1;function e(t,n,r){for(var i=r-1,o=t.length;++i<o;)if(t[i]===n)return i;return-1}return Dd=e,Dd}var $d,X_;function gq(){if(X_)return $d;X_=1;var e=EN(),t=hq(),n=pq();function r(i,o,s){return o===o?n(i,o,s):e(i,t,s)}return $d=r,$d}var zd,Q_;function mq(){if(Q_)return zd;Q_=1;var e=gq();function t(n,r){var i=n==null?0:n.length;return!!i&&e(n,r,0)>-1}return zd=t,zd}var Fd,Z_;function vq(){if(Z_)return Fd;Z_=1;function e(t,n,r){for(var i=-1,o=t==null?0:t.length;++i<o;)if(r(n,t[i]))return!0;return!1}return Fd=e,Fd}var Hd,J_;function yq(){if(J_)return Hd;J_=1;function e(){}return Hd=e,Hd}var Bd,ew;function xq(){if(ew)return Bd;ew=1;var e=Q2(),t=yq(),n=Ym(),r=1/0,i=e&&1/n(new e([,-0]))[1]==r?function(o){return new e(o)}:t;return Bd=i,Bd}var Vd,tw;function _q(){if(tw)return Vd;tw=1;var e=sN(),t=mq(),n=vq(),r=aN(),i=xq(),o=Ym(),s=200;function a(u,l,c){var f=-1,d=t,p=u.length,h=!0,x=[],w=x;if(c)h=!1,d=n;else if(p>=s){var m=l?null:i(u);if(m)return o(m);h=!1,d=r,w=new e}else w=l?[]:x;e:for(;++f<p;){var y=u[f],v=l?l(y):y;if(y=c||y!==0?y:0,h&&v===v){for(var _=w.length;_--;)if(w[_]===v)continue e;l&&w.push(v),x.push(y)}else d(w,v,c)||(w!==x&&w.push(v),x.push(y))}return x}return Vd=a,Vd}var Ud,nw;function CN(){if(nw)return Ud;nw=1;var e=Sn(),t=tn();function n(r){return t(r)&&e(r)}return Ud=n,Ud}var Gd,rw;function wq(){if(rw)return Gd;rw=1;var e=Xm(),t=Nu(),n=_q(),r=CN(),i=t(function(o){return n(e(o,1,r,!0))});return Gd=i,Gd}var Wd,iw;function Sq(){if(iw)return Wd;iw=1;var e=bu();function t(n,r){return e(r,function(i){return n[i]})}return Wd=t,Wd}var Yd,ow;function NN(){if(ow)return Yd;ow=1;var e=Sq(),t=Zn();function n(r){return r==null?[]:e(r,t(r))}return Yd=n,Yd}var Kd,sw;function It(){if(sw)return Kd;sw=1;var e;if(typeof Lm=="function")try{e={clone:R4(),constant:Um(),each:oN(),filter:mN(),has:vN(),isArray:Le(),isEmpty:J4(),isFunction:$o(),isUndefined:yN(),keys:Zn(),map:_N(),reduce:wN(),size:aq(),transform:uq(),union:wq(),values:NN()}}catch{}return e||(e=window._),Kd=e,Kd}var Xd,aw;function Qm(){if(aw)return Xd;aw=1;var e=It();Xd=i;var t="\0",n="\0",r="";function i(c){this._isDirected=e.has(c,"directed")?c.directed:!0,this._isMultigraph=e.has(c,"multigraph")?c.multigraph:!1,this._isCompound=e.has(c,"compound")?c.compound:!1,this._label=void 0,this._defaultNodeLabelFn=e.constant(void 0),this._defaultEdgeLabelFn=e.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[n]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}i.prototype._nodeCount=0,i.prototype._edgeCount=0,i.prototype.isDirected=function(){return this._isDirected},i.prototype.isMultigraph=function(){return this._isMultigraph},i.prototype.isCompound=function(){return this._isCompound},i.prototype.setGraph=function(c){return this._label=c,this},i.prototype.graph=function(){return this._label},i.prototype.setDefaultNodeLabel=function(c){return e.isFunction(c)||(c=e.constant(c)),this._defaultNodeLabelFn=c,this},i.prototype.nodeCount=function(){return this._nodeCount},i.prototype.nodes=function(){return e.keys(this._nodes)},i.prototype.sources=function(){var c=this;return e.filter(this.nodes(),function(f){return e.isEmpty(c._in[f])})},i.prototype.sinks=function(){var c=this;return e.filter(this.nodes(),function(f){return e.isEmpty(c._out[f])})},i.prototype.setNodes=function(c,f){var d=arguments,p=this;return e.each(c,function(h){d.length>1?p.setNode(h,f):p.setNode(h)}),this},i.prototype.setNode=function(c,f){return e.has(this._nodes,c)?(arguments.length>1&&(this._nodes[c]=f),this):(this._nodes[c]=arguments.length>1?f:this._defaultNodeLabelFn(c),this._isCompound&&(this._parent[c]=n,this._children[c]={},this._children[n][c]=!0),this._in[c]={},this._preds[c]={},this._out[c]={},this._sucs[c]={},++this._nodeCount,this)},i.prototype.node=function(c){return this._nodes[c]},i.prototype.hasNode=function(c){return e.has(this._nodes,c)},i.prototype.removeNode=function(c){var f=this;if(e.has(this._nodes,c)){var d=function(p){f.removeEdge(f._edgeObjs[p])};delete this._nodes[c],this._isCompound&&(this._removeFromParentsChildList(c),delete this._parent[c],e.each(this.children(c),function(p){f.setParent(p)}),delete this._children[c]),e.each(e.keys(this._in[c]),d),delete this._in[c],delete this._preds[c],e.each(e.keys(this._out[c]),d),delete this._out[c],delete this._sucs[c],--this._nodeCount}return this},i.prototype.setParent=function(c,f){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(e.isUndefined(f))f=n;else{f+="";for(var d=f;!e.isUndefined(d);d=this.parent(d))if(d===c)throw new Error("Setting "+f+" as parent of "+c+" would create a cycle");this.setNode(f)}return this.setNode(c),this._removeFromParentsChildList(c),this._parent[c]=f,this._children[f][c]=!0,this},i.prototype._removeFromParentsChildList=function(c){delete this._children[this._parent[c]][c]},i.prototype.parent=function(c){if(this._isCompound){var f=this._parent[c];if(f!==n)return f}},i.prototype.children=function(c){if(e.isUndefined(c)&&(c=n),this._isCompound){var f=this._children[c];if(f)return e.keys(f)}else{if(c===n)return this.nodes();if(this.hasNode(c))return[]}},i.prototype.predecessors=function(c){var f=this._preds[c];if(f)return e.keys(f)},i.prototype.successors=function(c){var f=this._sucs[c];if(f)return e.keys(f)},i.prototype.neighbors=function(c){var f=this.predecessors(c);if(f)return e.union(f,this.successors(c))},i.prototype.isLeaf=function(c){var f;return this.isDirected()?f=this.successors(c):f=this.neighbors(c),f.length===0},i.prototype.filterNodes=function(c){var f=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});f.setGraph(this.graph());var d=this;e.each(this._nodes,function(x,w){c(w)&&f.setNode(w,x)}),e.each(this._edgeObjs,function(x){f.hasNode(x.v)&&f.hasNode(x.w)&&f.setEdge(x,d.edge(x))});var p={};function h(x){var w=d.parent(x);return w===void 0||f.hasNode(w)?(p[x]=w,w):w in p?p[w]:h(w)}return this._isCompound&&e.each(f.nodes(),function(x){f.setParent(x,h(x))}),f},i.prototype.setDefaultEdgeLabel=function(c){return e.isFunction(c)||(c=e.constant(c)),this._defaultEdgeLabelFn=c,this},i.prototype.edgeCount=function(){return this._edgeCount},i.prototype.edges=function(){return e.values(this._edgeObjs)},i.prototype.setPath=function(c,f){var d=this,p=arguments;return e.reduce(c,function(h,x){return p.length>1?d.setEdge(h,x,f):d.setEdge(h,x),x}),this},i.prototype.setEdge=function(){var c,f,d,p,h=!1,x=arguments[0];typeof x=="object"&&x!==null&&"v"in x?(c=x.v,f=x.w,d=x.name,arguments.length===2&&(p=arguments[1],h=!0)):(c=x,f=arguments[1],d=arguments[3],arguments.length>2&&(p=arguments[2],h=!0)),c=""+c,f=""+f,e.isUndefined(d)||(d=""+d);var w=a(this._isDirected,c,f,d);if(e.has(this._edgeLabels,w))return h&&(this._edgeLabels[w]=p),this;if(!e.isUndefined(d)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(c),this.setNode(f),this._edgeLabels[w]=h?p:this._defaultEdgeLabelFn(c,f,d);var m=u(this._isDirected,c,f,d);return c=m.v,f=m.w,Object.freeze(m),this._edgeObjs[w]=m,o(this._preds[f],c),o(this._sucs[c],f),this._in[f][w]=m,this._out[c][w]=m,this._edgeCount++,this},i.prototype.edge=function(c,f,d){var p=arguments.length===1?l(this._isDirected,arguments[0]):a(this._isDirected,c,f,d);return this._edgeLabels[p]},i.prototype.hasEdge=function(c,f,d){var p=arguments.length===1?l(this._isDirected,arguments[0]):a(this._isDirected,c,f,d);return e.has(this._edgeLabels,p)},i.prototype.removeEdge=function(c,f,d){var p=arguments.length===1?l(this._isDirected,arguments[0]):a(this._isDirected,c,f,d),h=this._edgeObjs[p];return h&&(c=h.v,f=h.w,delete this._edgeLabels[p],delete this._edgeObjs[p],s(this._preds[f],c),s(this._sucs[c],f),delete this._in[f][p],delete this._out[c][p],this._edgeCount--),this},i.prototype.inEdges=function(c,f){var d=this._in[c];if(d){var p=e.values(d);return f?e.filter(p,function(h){return h.v===f}):p}},i.prototype.outEdges=function(c,f){var d=this._out[c];if(d){var p=e.values(d);return f?e.filter(p,function(h){return h.w===f}):p}},i.prototype.nodeEdges=function(c,f){var d=this.inEdges(c,f);if(d)return d.concat(this.outEdges(c,f))};function o(c,f){c[f]?c[f]++:c[f]=1}function s(c,f){--c[f]||delete c[f]}function a(c,f,d,p){var h=""+f,x=""+d;if(!c&&h>x){var w=h;h=x,x=w}return h+r+x+r+(e.isUndefined(p)?t:p)}function u(c,f,d,p){var h=""+f,x=""+d;if(!c&&h>x){var w=h;h=x,x=w}var m={v:h,w:x};return p&&(m.name=p),m}function l(c,f){return a(c,f.v,f.w,f.name)}return Xd}var Qd,uw;function bq(){return uw||(uw=1,Qd="2.1.8"),Qd}var Zd,lw;function Eq(){return lw||(lw=1,Zd={Graph:Qm(),version:bq()}),Zd}var Jd,cw;function Cq(){if(cw)return Jd;cw=1;var e=It(),t=Qm();Jd={write:n,read:o};function n(s){var a={options:{directed:s.isDirected(),multigraph:s.isMultigraph(),compound:s.isCompound()},nodes:r(s),edges:i(s)};return e.isUndefined(s.graph())||(a.value=e.clone(s.graph())),a}function r(s){return e.map(s.nodes(),function(a){var u=s.node(a),l=s.parent(a),c={v:a};return e.isUndefined(u)||(c.value=u),e.isUndefined(l)||(c.parent=l),c})}function i(s){return e.map(s.edges(),function(a){var u=s.edge(a),l={v:a.v,w:a.w};return e.isUndefined(a.name)||(l.name=a.name),e.isUndefined(u)||(l.value=u),l})}function o(s){var a=new t(s.options).setGraph(s.value);return e.each(s.nodes,function(u){a.setNode(u.v,u.value),u.parent&&a.setParent(u.v,u.parent)}),e.each(s.edges,function(u){a.setEdge({v:u.v,w:u.w,name:u.name},u.value)}),a}return Jd}var eh,fw;function Nq(){if(fw)return eh;fw=1;var e=It();eh=t;function t(n){var r={},i=[],o;function s(a){e.has(r,a)||(r[a]=!0,o.push(a),e.each(n.successors(a),s),e.each(n.predecessors(a),s))}return e.each(n.nodes(),function(a){o=[],s(a),o.length&&i.push(o)}),i}return eh}var th,dw;function kN(){if(dw)return th;dw=1;var e=It();th=t;function t(){this._arr=[],this._keyIndices={}}return t.prototype.size=function(){return this._arr.length},t.prototype.keys=function(){return this._arr.map(function(n){return n.key})},t.prototype.has=function(n){return e.has(this._keyIndices,n)},t.prototype.priority=function(n){var r=this._keyIndices[n];if(r!==void 0)return this._arr[r].priority},t.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},t.prototype.add=function(n,r){var i=this._keyIndices;if(n=String(n),!e.has(i,n)){var o=this._arr,s=o.length;return i[n]=s,o.push({key:n,priority:r}),this._decrease(s),!0}return!1},t.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key},t.prototype.decrease=function(n,r){var i=this._keyIndices[n];if(r>this._arr[i].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[i].priority+" New: "+r);this._arr[i].priority=r,this._decrease(i)},t.prototype._heapify=function(n){var r=this._arr,i=2*n,o=i+1,s=n;i<r.length&&(s=r[i].priority<r[s].priority?i:s,o<r.length&&(s=r[o].priority<r[s].priority?o:s),s!==n&&(this._swap(n,s),this._heapify(s)))},t.prototype._decrease=function(n){for(var r=this._arr,i=r[n].priority,o;n!==0&&(o=n>>1,!(r[o].priority<i));)this._swap(n,o),n=o},t.prototype._swap=function(n,r){var i=this._arr,o=this._keyIndices,s=i[n],a=i[r];i[n]=a,i[r]=s,o[a.key]=n,o[s.key]=r},th}var nh,hw;function IN(){if(hw)return nh;hw=1;var e=It(),t=kN();nh=r;var n=e.constant(1);function r(o,s,a,u){return i(o,String(s),a||n,u||function(l){return o.outEdges(l)})}function i(o,s,a,u){var l={},c=new t,f,d,p=function(h){var x=h.v!==f?h.v:h.w,w=l[x],m=a(h),y=d.distance+m;if(m<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+h+" Weight: "+m);y<w.distance&&(w.distance=y,w.predecessor=f,c.decrease(x,y))};for(o.nodes().forEach(function(h){var x=h===s?0:Number.POSITIVE_INFINITY;l[h]={distance:x},c.add(h,x)});c.size()>0&&(f=c.removeMin(),d=l[f],d.distance!==Number.POSITIVE_INFINITY);)u(f).forEach(p);return l}return nh}var rh,pw;function kq(){if(pw)return rh;pw=1;var e=IN(),t=It();rh=n;function n(r,i,o){return t.transform(r.nodes(),function(s,a){s[a]=e(r,a,i,o)},{})}return rh}var ih,gw;function RN(){if(gw)return ih;gw=1;var e=It();ih=t;function t(n){var r=0,i=[],o={},s=[];function a(u){var l=o[u]={onStack:!0,lowlink:r,index:r++};if(i.push(u),n.successors(u).forEach(function(d){e.has(o,d)?o[d].onStack&&(l.lowlink=Math.min(l.lowlink,o[d].index)):(a(d),l.lowlink=Math.min(l.lowlink,o[d].lowlink))}),l.lowlink===l.index){var c=[],f;do f=i.pop(),o[f].onStack=!1,c.push(f);while(u!==f);s.push(c)}}return n.nodes().forEach(function(u){e.has(o,u)||a(u)}),s}return ih}var oh,mw;function Iq(){if(mw)return oh;mw=1;var e=It(),t=RN();oh=n;function n(r){return e.filter(t(r),function(i){return i.length>1||i.length===1&&r.hasEdge(i[0],i[0])})}return oh}var sh,vw;function Rq(){if(vw)return sh;vw=1;var e=It();sh=n;var t=e.constant(1);function n(i,o,s){return r(i,o||t,s||function(a){return i.outEdges(a)})}function r(i,o,s){var a={},u=i.nodes();return u.forEach(function(l){a[l]={},a[l][l]={distance:0},u.forEach(function(c){l!==c&&(a[l][c]={distance:Number.POSITIVE_INFINITY})}),s(l).forEach(function(c){var f=c.v===l?c.w:c.v,d=o(c);a[l][f]={distance:d,predecessor:l}})}),u.forEach(function(l){var c=a[l];u.forEach(function(f){var d=a[f];u.forEach(function(p){var h=d[l],x=c[p],w=d[p],m=h.distance+x.distance;m<w.distance&&(w.distance=m,w.predecessor=x.predecessor)})})}),a}return sh}var ah,yw;function TN(){if(yw)return ah;yw=1;var e=It();ah=t,t.CycleException=n;function t(r){var i={},o={},s=[];function a(u){if(e.has(o,u))throw new n;e.has(i,u)||(o[u]=!0,i[u]=!0,e.each(r.predecessors(u),a),delete o[u],s.push(u))}if(e.each(r.sinks(),a),e.size(i)!==r.nodeCount())throw new n;return s}function n(){}return n.prototype=new Error,ah}var uh,xw;function Tq(){if(xw)return uh;xw=1;var e=TN();uh=t;function t(n){try{e(n)}catch(r){if(r instanceof e.CycleException)return!1;throw r}return!0}return uh}var lh,_w;function MN(){if(_w)return lh;_w=1;var e=It();lh=t;function t(r,i,o){e.isArray(i)||(i=[i]);var s=(r.isDirected()?r.successors:r.neighbors).bind(r),a=[],u={};return e.each(i,function(l){if(!r.hasNode(l))throw new Error("Graph does not have node: "+l);n(r,l,o==="post",u,s,a)}),a}function n(r,i,o,s,a,u){e.has(s,i)||(s[i]=!0,o||u.push(i),e.each(a(i),function(l){n(r,l,o,s,a,u)}),o&&u.push(i))}return lh}var ch,ww;function Mq(){if(ww)return ch;ww=1;var e=MN();ch=t;function t(n,r){return e(n,r,"post")}return ch}var fh,Sw;function Aq(){if(Sw)return fh;Sw=1;var e=MN();fh=t;function t(n,r){return e(n,r,"pre")}return fh}var dh,bw;function jq(){if(bw)return dh;bw=1;var e=It(),t=Qm(),n=kN();dh=r;function r(i,o){var s=new t,a={},u=new n,l;function c(d){var p=d.v===l?d.w:d.v,h=u.priority(p);if(h!==void 0){var x=o(d);x<h&&(a[p]=l,u.decrease(p,x))}}if(i.nodeCount()===0)return s;e.each(i.nodes(),function(d){u.add(d,Number.POSITIVE_INFINITY),s.setNode(d)}),u.decrease(i.nodes()[0],0);for(var f=!1;u.size()>0;){if(l=u.removeMin(),e.has(a,l))s.setEdge(l,a[l]);else{if(f)throw new Error("Input graph is not connected: "+i);f=!0}i.nodeEdges(l).forEach(c)}return s}return dh}var hh,Ew;function Pq(){return Ew||(Ew=1,hh={components:Nq(),dijkstra:IN(),dijkstraAll:kq(),findCycles:Iq(),floydWarshall:Rq(),isAcyclic:Tq(),postorder:Mq(),preorder:Aq(),prim:jq(),tarjan:RN(),topsort:TN()}),hh}var ph,Cw;function Lq(){if(Cw)return ph;Cw=1;var e=Eq();return ph={Graph:e.Graph,json:Cq(),alg:Pq(),version:e.version},ph}var Aa;if(typeof Lm=="function")try{Aa=Lq()}catch{}Aa||(Aa=window.graphlib);var Vt=Aa,gh,Nw;function Oq(){if(Nw)return gh;Nw=1;var e=nN(),t=1,n=4;function r(i){return e(i,t|n)}return gh=r,gh}var mh,kw;function ku(){if(kw)return mh;kw=1;var e=mi(),t=Sn(),n=yu(),r=kt();function i(o,s,a){if(!r(a))return!1;var u=typeof s;return(u=="number"?t(a)&&n(s,a.length):u=="string"&&s in a)?e(a[s],o):!1}return mh=i,mh}var vh,Iw;function qq(){if(Iw)return vh;Iw=1;var e=Nu(),t=mi(),n=ku(),r=Er(),i=Object.prototype,o=i.hasOwnProperty,s=e(function(a,u){a=Object(a);var l=-1,c=u.length,f=c>2?u[2]:void 0;for(f&&n(u[0],u[1],f)&&(c=1);++l<c;)for(var d=u[l],p=r(d),h=-1,x=p.length;++h<x;){var w=p[h],m=a[w];(m===void 0||t(m,i[w])&&!o.call(a,w))&&(a[w]=d[w])}return a});return vh=s,vh}var yh,Rw;function Dq(){if(Rw)return yh;Rw=1;var e=bn(),t=Sn(),n=Zn();function r(i){return function(o,s,a){var u=Object(o);if(!t(o)){var l=e(s,3);o=n(o),s=function(f){return l(u[f],f,u)}}var c=i(o,s,a);return c>-1?u[l?o[c]:c]:void 0}}return yh=r,yh}var xh,Tw;function $q(){if(Tw)return xh;Tw=1;var e=/\s/;function t(n){for(var r=n.length;r--&&e.test(n.charAt(r)););return r}return xh=t,xh}var _h,Mw;function zq(){if(Mw)return _h;Mw=1;var e=$q(),t=/^\s+/;function n(r){return r&&r.slice(0,e(r)+1).replace(t,"")}return _h=n,_h}var wh,Aw;function Fq(){if(Aw)return wh;Aw=1;var e=zq(),t=kt(),n=_i(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,s=/^0o[0-7]+$/i,a=parseInt;function u(l){if(typeof l=="number")return l;if(n(l))return r;if(t(l)){var c=typeof l.valueOf=="function"?l.valueOf():l;l=t(c)?c+"":c}if(typeof l!="string")return l===0?l:+l;l=e(l);var f=o.test(l);return f||s.test(l)?a(l.slice(2),f?2:8):i.test(l)?r:+l}return wh=u,wh}var Sh,jw;function AN(){if(jw)return Sh;jw=1;var e=Fq(),t=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=e(i),i===t||i===-t){var o=i<0?-1:1;return o*n}return i===i?i:0}return Sh=r,Sh}var bh,Pw;function Hq(){if(Pw)return bh;Pw=1;var e=AN();function t(n){var r=e(n),i=r%1;return r===r?i?r-i:r:0}return bh=t,bh}var Eh,Lw;function Bq(){if(Lw)return Eh;Lw=1;var e=EN(),t=bn(),n=Hq(),r=Math.max;function i(o,s,a){var u=o==null?0:o.length;if(!u)return-1;var l=a==null?0:n(a);return l<0&&(l=r(u+l,0)),e(o,t(s,3),l)}return Eh=i,Eh}var Ch,Ow;function Vq(){if(Ow)return Ch;Ow=1;var e=Dq(),t=Bq(),n=e(t);return Ch=n,Ch}var Nh,qw;function jN(){if(qw)return Nh;qw=1;var e=Xm();function t(n){var r=n==null?0:n.length;return r?e(n,1):[]}return Nh=t,Nh}var kh,Dw;function Uq(){if(Dw)return kh;Dw=1;var e=Gm(),t=rN(),n=Er();function r(i,o){return i==null?i:e(i,t(o),n)}return kh=r,kh}var Ih,$w;function Gq(){if($w)return Ih;$w=1;function e(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}return Ih=e,Ih}var Rh,zw;function Wq(){if(zw)return Rh;zw=1;var e=mu(),t=Wm(),n=bn();function r(i,o){var s={};return o=n(o,3),t(i,function(a,u,l){e(s,u,o(a,u,l))}),s}return Rh=r,Rh}var Th,Fw;function Zm(){if(Fw)return Th;Fw=1;var e=_i();function t(n,r,i){for(var o=-1,s=n.length;++o<s;){var a=n[o],u=r(a);if(u!=null&&(l===void 0?u===u&&!e(u):i(u,l)))var l=u,c=a}return c}return Th=t,Th}var Mh,Hw;function Yq(){if(Hw)return Mh;Hw=1;function e(t,n){return t>n}return Mh=e,Mh}var Ah,Bw;function Kq(){if(Bw)return Ah;Bw=1;var e=Zm(),t=Yq(),n=Cr();function r(i){return i&&i.length?e(i,n,t):void 0}return Ah=r,Ah}var jh,Vw;function PN(){if(Vw)return jh;Vw=1;var e=mu(),t=mi();function n(r,i,o){(o!==void 0&&!t(r[i],o)||o===void 0&&!(i in r))&&e(r,i,o)}return jh=n,jh}var Ph,Uw;function Xq(){if(Uw)return Ph;Uw=1;var e=Sr(),t=wu(),n=tn(),r="[object Object]",i=Function.prototype,o=Object.prototype,s=i.toString,a=o.hasOwnProperty,u=s.call(Object);function l(c){if(!n(c)||e(c)!=r)return!1;var f=t(c);if(f===null)return!0;var d=a.call(f,"constructor")&&f.constructor;return typeof d=="function"&&d instanceof d&&s.call(d)==u}return Ph=l,Ph}var Lh,Gw;function LN(){if(Gw)return Lh;Gw=1;function e(t,n){if(!(n==="constructor"&&typeof t[n]=="function")&&n!="__proto__")return t[n]}return Lh=e,Lh}var Oh,Ww;function Qq(){if(Ww)return Oh;Ww=1;var e=zo(),t=Er();function n(r){return e(r,t(r))}return Oh=n,Oh}var qh,Yw;function Zq(){if(Yw)return qh;Yw=1;var e=PN(),t=V2(),n=J2(),r=U2(),i=tN(),o=Fo(),s=Le(),a=CN(),u=yi(),l=$o(),c=kt(),f=Xq(),d=Ho(),p=LN(),h=Qq();function x(w,m,y,v,_,E,S){var b=p(w,y),k=p(m,y),T=S.get(k);if(T){e(w,y,T);return}var O=E?E(b,k,y+"",w,m,S):void 0,R=O===void 0;if(R){var j=s(k),$=!j&&u(k),C=!j&&!$&&d(k);O=k,j||$||C?s(b)?O=b:a(b)?O=r(b):$?(R=!1,O=t(k,!0)):C?(R=!1,O=n(k,!0)):O=[]:f(k)||o(k)?(O=b,o(b)?O=h(b):(!c(b)||l(b))&&(O=i(k))):R=!1}R&&(S.set(k,O),_(O,k,v,E,S),S.delete(k)),e(w,y,O)}return qh=x,qh}var Dh,Kw;function Jq(){if(Kw)return Dh;Kw=1;var e=gu(),t=PN(),n=Gm(),r=Zq(),i=kt(),o=Er(),s=LN();function a(u,l,c,f,d){u!==l&&n(l,function(p,h){if(d||(d=new e),i(p))r(u,l,h,c,a,f,d);else{var x=f?f(s(u,h),p,h+"",u,l,d):void 0;x===void 0&&(x=p),t(u,h,x)}},o)}return Dh=a,Dh}var $h,Xw;function eD(){if(Xw)return $h;Xw=1;var e=Nu(),t=ku();function n(r){return e(function(i,o){var s=-1,a=o.length,u=a>1?o[a-1]:void 0,l=a>2?o[2]:void 0;for(u=r.length>3&&typeof u=="function"?(a--,u):void 0,l&&t(o[0],o[1],l)&&(u=a<3?void 0:u,a=1),i=Object(i);++s<a;){var c=o[s];c&&r(i,c,s,u)}return i})}return $h=n,$h}var zh,Qw;function tD(){if(Qw)return zh;Qw=1;var e=Jq(),t=eD(),n=t(function(r,i,o){e(r,i,o)});return zh=n,zh}var Fh,Zw;function ON(){if(Zw)return Fh;Zw=1;function e(t,n){return t<n}return Fh=e,Fh}var Hh,Jw;function nD(){if(Jw)return Hh;Jw=1;var e=Zm(),t=ON(),n=Cr();function r(i){return i&&i.length?e(i,n,t):void 0}return Hh=r,Hh}var Bh,eS;function rD(){if(eS)return Bh;eS=1;var e=Zm(),t=bn(),n=ON();function r(i,o){return i&&i.length?e(i,t(o,2),n):void 0}return Bh=r,Bh}var Vh,tS;function iD(){if(tS)return Vh;tS=1;var e=Bt(),t=function(){return e.Date.now()};return Vh=t,Vh}var Uh,nS;function oD(){if(nS)return Uh;nS=1;var e=vu(),t=Eu(),n=yu(),r=kt(),i=Bo();function o(s,a,u,l){if(!r(s))return s;a=t(a,s);for(var c=-1,f=a.length,d=f-1,p=s;p!=null&&++c<f;){var h=i(a[c]),x=u;if(h==="__proto__"||h==="constructor"||h==="prototype")return s;if(c!=d){var w=p[h];x=l?l(w,h,p):void 0,x===void 0&&(x=r(w)?w:n(a[c+1])?[]:{})}e(p,h,x),p=p[h]}return s}return Uh=o,Uh}var Gh,rS;function sD(){if(rS)return Gh;rS=1;var e=Cu(),t=oD(),n=Eu();function r(i,o,s){for(var a=-1,u=o.length,l={};++a<u;){var c=o[a],f=e(i,c);s(f,c)&&t(l,n(c,i),f)}return l}return Gh=r,Gh}var Wh,iS;function aD(){if(iS)return Wh;iS=1;var e=sD(),t=pN();function n(r,i){return e(r,i,function(o,s){return t(r,s)})}return Wh=n,Wh}var Yh,oS;function uD(){if(oS)return Yh;oS=1;var e=jN(),t=SN(),n=bN();function r(i){return n(t(i,void 0,e),i+"")}return Yh=r,Yh}var Kh,sS;function lD(){if(sS)return Kh;sS=1;var e=aD(),t=uD(),n=t(function(r,i){return r==null?{}:e(r,i)});return Kh=n,Kh}var Xh,aS;function cD(){if(aS)return Xh;aS=1;var e=Math.ceil,t=Math.max;function n(r,i,o,s){for(var a=-1,u=t(e((i-r)/(o||1)),0),l=Array(u);u--;)l[s?u:++a]=r,r+=o;return l}return Xh=n,Xh}var Qh,uS;function fD(){if(uS)return Qh;uS=1;var e=cD(),t=ku(),n=AN();function r(i){return function(o,s,a){return a&&typeof a!="number"&&t(o,s,a)&&(s=a=void 0),o=n(o),s===void 0?(s=o,o=0):s=n(s),a=a===void 0?o<s?1:-1:n(a),e(o,s,a,i)}}return Qh=r,Qh}var Zh,lS;function dD(){if(lS)return Zh;lS=1;var e=fD(),t=e();return Zh=t,Zh}var Jh,cS;function hD(){if(cS)return Jh;cS=1;function e(t,n){var r=t.length;for(t.sort(n);r--;)t[r]=t[r].value;return t}return Jh=e,Jh}var ep,fS;function pD(){if(fS)return ep;fS=1;var e=_i();function t(n,r){if(n!==r){var i=n!==void 0,o=n===null,s=n===n,a=e(n),u=r!==void 0,l=r===null,c=r===r,f=e(r);if(!l&&!f&&!a&&n>r||a&&u&&c&&!l&&!f||o&&u&&c||!i&&c||!s)return 1;if(!o&&!a&&!f&&n<r||f&&i&&s&&!o&&!a||l&&i&&s||!u&&s||!c)return-1}return 0}return ep=t,ep}var tp,dS;function gD(){if(dS)return tp;dS=1;var e=pD();function t(n,r,i){for(var o=-1,s=n.criteria,a=r.criteria,u=s.length,l=i.length;++o<u;){var c=e(s[o],a[o]);if(c){if(o>=l)return c;var f=i[o];return c*(f=="desc"?-1:1)}}return n.index-r.index}return tp=t,tp}var np,hS;function mD(){if(hS)return np;hS=1;var e=bu(),t=Cu(),n=bn(),r=xN(),i=hD(),o=xu(),s=gD(),a=Cr(),u=Le();function l(c,f,d){f.length?f=e(f,function(x){return u(x)?function(w){return t(w,x.length===1?x[0]:x)}:x}):f=[a];var p=-1;f=e(f,o(n));var h=r(c,function(x,w,m){var y=e(f,function(v){return v(x)});return{criteria:y,index:++p,value:x}});return i(h,function(x,w){return s(x,w,d)})}return np=l,np}var rp,pS;function vD(){if(pS)return rp;pS=1;var e=Xm(),t=mD(),n=Nu(),r=ku(),i=n(function(o,s){if(o==null)return[];var a=s.length;return a>1&&r(o,s[0],s[1])?s=[]:a>2&&r(s[0],s[1],s[2])&&(s=[s[0]]),t(o,e(s,1),[])});return rp=i,rp}var ip,gS;function yD(){if(gS)return ip;gS=1;var e=dN(),t=0;function n(r){var i=++t;return e(r)+i}return ip=n,ip}var op,mS;function xD(){if(mS)return op;mS=1;function e(t,n,r){for(var i=-1,o=t.length,s=n.length,a={};++i<o;){var u=i<s?n[i]:void 0;r(a,t[i],u)}return a}return op=e,op}var sp,vS;function _D(){if(vS)return sp;vS=1;var e=vu(),t=xD();function n(r,i){return t(r||[],i||[],e)}return sp=n,sp}var ja;if(typeof Lm=="function")try{ja={cloneDeep:Oq(),constant:Um(),defaults:qq(),each:oN(),filter:mN(),find:Vq(),flatten:jN(),forEach:iN(),forIn:Uq(),has:vN(),isUndefined:yN(),last:Gq(),map:_N(),mapValues:Wq(),max:Kq(),merge:tD(),min:nD(),minBy:rD(),now:iD(),pick:lD(),range:dD(),reduce:wN(),sortBy:vD(),uniqueId:yD(),values:NN(),zipObject:_D()}}catch{}ja||(ja=window._);var Ne=ja,wD=Iu;function Iu(){var e={};e._next=e._prev=e,this._sentinel=e}Iu.prototype.dequeue=function(){var e=this._sentinel,t=e._prev;if(t!==e)return qN(t),t};Iu.prototype.enqueue=function(e){var t=this._sentinel;e._prev&&e._next&&qN(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t};Iu.prototype.toString=function(){for(var e=[],t=this._sentinel,n=t._prev;n!==t;)e.push(JSON.stringify(n,SD)),n=n._prev;return"["+e.join(", ")+"]"};function qN(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function SD(e,t){if(e!=="_next"&&e!=="_prev")return t}var fn=Ne,bD=Vt.Graph,ED=wD,CD=kD,ND=fn.constant(1);function kD(e,t){if(e.nodeCount()<=1)return[];var n=RD(e,t||ND),r=ID(n.graph,n.buckets,n.zeroIdx);return fn.flatten(fn.map(r,function(i){return e.outEdges(i.v,i.w)}),!0)}function ID(e,t,n){for(var r=[],i=t[t.length-1],o=t[0],s;e.nodeCount();){for(;s=o.dequeue();)ap(e,t,n,s);for(;s=i.dequeue();)ap(e,t,n,s);if(e.nodeCount()){for(var a=t.length-2;a>0;--a)if(s=t[a].dequeue(),s){r=r.concat(ap(e,t,n,s,!0));break}}}return r}function ap(e,t,n,r,i){var o=i?[]:void 0;return fn.forEach(e.inEdges(r.v),function(s){var a=e.edge(s),u=e.node(s.v);i&&o.push({v:s.v,w:s.w}),u.out-=a,_g(t,n,u)}),fn.forEach(e.outEdges(r.v),function(s){var a=e.edge(s),u=s.w,l=e.node(u);l.in-=a,_g(t,n,l)}),e.removeNode(r.v),o}function RD(e,t){var n=new bD,r=0,i=0;fn.forEach(e.nodes(),function(a){n.setNode(a,{v:a,in:0,out:0})}),fn.forEach(e.edges(),function(a){var u=n.edge(a.v,a.w)||0,l=t(a),c=u+l;n.setEdge(a.v,a.w,c),i=Math.max(i,n.node(a.v).out+=l),r=Math.max(r,n.node(a.w).in+=l)});var o=fn.range(i+r+3).map(function(){return new ED}),s=r+1;return fn.forEach(n.nodes(),function(a){_g(o,s,n.node(a))}),{graph:n,buckets:o,zeroIdx:s}}function _g(e,t,n){n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}var sr=Ne,TD=CD,MD={run:AD,undo:PD};function AD(e){var t=e.graph().acyclicer==="greedy"?TD(e,n(e)):jD(e);sr.forEach(t,function(r){var i=e.edge(r);e.removeEdge(r),i.forwardName=r.name,i.reversed=!0,e.setEdge(r.w,r.v,i,sr.uniqueId("rev"))});function n(r){return function(i){return r.edge(i).weight}}}function jD(e){var t=[],n={},r={};function i(o){sr.has(r,o)||(r[o]=!0,n[o]=!0,sr.forEach(e.outEdges(o),function(s){sr.has(n,s.w)?t.push(s):i(s.w)}),delete n[o])}return sr.forEach(e.nodes(),i),t}function PD(e){sr.forEach(e.edges(),function(t){var n=e.edge(t);if(n.reversed){e.removeEdge(t);var r=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(t.w,t.v,n,r)}})}var ye=Ne,DN=Vt.Graph,ut={addDummyNode:$N,simplify:LD,asNonCompoundGraph:OD,successorWeights:qD,predecessorWeights:DD,intersectRect:$D,buildLayerMatrix:zD,normalizeRanks:FD,removeEmptyRanks:HD,addBorderNode:BD,maxRank:zN,partition:VD,time:UD,notime:GD};function $N(e,t,n,r){var i;do i=ye.uniqueId(r);while(e.hasNode(i));return n.dummy=t,e.setNode(i,n),i}function LD(e){var t=new DN().setGraph(e.graph());return ye.forEach(e.nodes(),function(n){t.setNode(n,e.node(n))}),ye.forEach(e.edges(),function(n){var r=t.edge(n.v,n.w)||{weight:0,minlen:1},i=e.edge(n);t.setEdge(n.v,n.w,{weight:r.weight+i.weight,minlen:Math.max(r.minlen,i.minlen)})}),t}function OD(e){var t=new DN({multigraph:e.isMultigraph()}).setGraph(e.graph());return ye.forEach(e.nodes(),function(n){e.children(n).length||t.setNode(n,e.node(n))}),ye.forEach(e.edges(),function(n){t.setEdge(n,e.edge(n))}),t}function qD(e){var t=ye.map(e.nodes(),function(n){var r={};return ye.forEach(e.outEdges(n),function(i){r[i.w]=(r[i.w]||0)+e.edge(i).weight}),r});return ye.zipObject(e.nodes(),t)}function DD(e){var t=ye.map(e.nodes(),function(n){var r={};return ye.forEach(e.inEdges(n),function(i){r[i.v]=(r[i.v]||0)+e.edge(i).weight}),r});return ye.zipObject(e.nodes(),t)}function $D(e,t){var n=e.x,r=e.y,i=t.x-n,o=t.y-r,s=e.width/2,a=e.height/2;if(!i&&!o)throw new Error("Not possible to find intersection inside of the rectangle");var u,l;return Math.abs(o)*s>Math.abs(i)*a?(o<0&&(a=-a),u=a*i/o,l=a):(i<0&&(s=-s),u=s,l=s*o/i),{x:n+u,y:r+l}}function zD(e){var t=ye.map(ye.range(zN(e)+1),function(){return[]});return ye.forEach(e.nodes(),function(n){var r=e.node(n),i=r.rank;ye.isUndefined(i)||(t[i][r.order]=n)}),t}function FD(e){var t=ye.min(ye.map(e.nodes(),function(n){return e.node(n).rank}));ye.forEach(e.nodes(),function(n){var r=e.node(n);ye.has(r,"rank")&&(r.rank-=t)})}function HD(e){var t=ye.min(ye.map(e.nodes(),function(o){return e.node(o).rank})),n=[];ye.forEach(e.nodes(),function(o){var s=e.node(o).rank-t;n[s]||(n[s]=[]),n[s].push(o)});var r=0,i=e.graph().nodeRankFactor;ye.forEach(n,function(o,s){ye.isUndefined(o)&&s%i!==0?--r:r&&ye.forEach(o,function(a){e.node(a).rank+=r})})}function BD(e,t,n,r){var i={width:0,height:0};return arguments.length>=4&&(i.rank=n,i.order=r),$N(e,"border",i,t)}function zN(e){return ye.max(ye.map(e.nodes(),function(t){var n=e.node(t).rank;if(!ye.isUndefined(n))return n}))}function VD(e,t){var n={lhs:[],rhs:[]};return ye.forEach(e,function(r){t(r)?n.lhs.push(r):n.rhs.push(r)}),n}function UD(e,t){var n=ye.now();try{return t()}finally{console.log(e+" time: "+(ye.now()-n)+"ms")}}function GD(e,t){return t()}var FN=Ne,WD=ut,YD={run:KD,undo:QD};function KD(e){e.graph().dummyChains=[],FN.forEach(e.edges(),function(t){XD(e,t)})}function XD(e,t){var n=t.v,r=e.node(n).rank,i=t.w,o=e.node(i).rank,s=t.name,a=e.edge(t),u=a.labelRank;if(o!==r+1){e.removeEdge(t);var l,c,f;for(f=0,++r;r<o;++f,++r)a.points=[],c={width:0,height:0,edgeLabel:a,edgeObj:t,rank:r},l=WD.addDummyNode(e,"edge",c,"_d"),r===u&&(c.width=a.width,c.height=a.height,c.dummy="edge-label",c.labelpos=a.labelpos),e.setEdge(n,l,{weight:a.weight},s),f===0&&e.graph().dummyChains.push(l),n=l;e.setEdge(n,i,{weight:a.weight},s)}}function QD(e){FN.forEach(e.graph().dummyChains,function(t){var n=e.node(t),r=n.edgeLabel,i;for(e.setEdge(n.edgeObj,r);n.dummy;)i=e.successors(t)[0],e.removeNode(t),r.points.push({x:n.x,y:n.y}),n.dummy==="edge-label"&&(r.x=n.x,r.y=n.y,r.width=n.width,r.height=n.height),t=i,n=e.node(t)})}var As=Ne,Ru={longestPath:ZD,slack:JD};function ZD(e){var t={};function n(r){var i=e.node(r);if(As.has(t,r))return i.rank;t[r]=!0;var o=As.min(As.map(e.outEdges(r),function(s){return n(s.w)-e.edge(s).minlen}));return(o===Number.POSITIVE_INFINITY||o===void 0||o===null)&&(o=0),i.rank=o}As.forEach(e.sources(),n)}function JD(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}var Pa=Ne,e$=Vt.Graph,La=Ru.slack,HN=t$;function t$(e){var t=new e$({directed:!1}),n=e.nodes()[0],r=e.nodeCount();t.setNode(n,{});for(var i,o;n$(t,e)<r;)i=r$(t,e),o=t.hasNode(i.v)?La(e,i):-La(e,i),i$(t,e,o);return t}function n$(e,t){function n(r){Pa.forEach(t.nodeEdges(r),function(i){var o=i.v,s=r===o?i.w:o;!e.hasNode(s)&&!La(t,i)&&(e.setNode(s,{}),e.setEdge(r,s,{}),n(s))})}return Pa.forEach(e.nodes(),n),e.nodeCount()}function r$(e,t){return Pa.minBy(t.edges(),function(n){if(e.hasNode(n.v)!==e.hasNode(n.w))return La(t,n)})}function i$(e,t,n){Pa.forEach(e.nodes(),function(r){t.node(r).rank+=n})}var xn=Ne,o$=HN,s$=Ru.slack,a$=Ru.longestPath,u$=Vt.alg.preorder,l$=Vt.alg.postorder,c$=ut.simplify,f$=Nr;Nr.initLowLimValues=ev;Nr.initCutValues=Jm;Nr.calcCutValue=BN;Nr.leaveEdge=UN;Nr.enterEdge=GN;Nr.exchangeEdges=WN;function Nr(e){e=c$(e),a$(e);var t=o$(e);ev(t),Jm(t,e);for(var n,r;n=UN(t);)r=GN(t,e,n),WN(t,e,n,r)}function Jm(e,t){var n=l$(e,e.nodes());n=n.slice(0,n.length-1),xn.forEach(n,function(r){d$(e,t,r)})}function d$(e,t,n){var r=e.node(n),i=r.parent;e.edge(n,i).cutvalue=BN(e,t,n)}function BN(e,t,n){var r=e.node(n),i=r.parent,o=!0,s=t.edge(n,i),a=0;return s||(o=!1,s=t.edge(i,n)),a=s.weight,xn.forEach(t.nodeEdges(n),function(u){var l=u.v===n,c=l?u.w:u.v;if(c!==i){var f=l===o,d=t.edge(u).weight;if(a+=f?d:-d,p$(e,n,c)){var p=e.edge(n,c).cutvalue;a+=f?-p:p}}}),a}function ev(e,t){arguments.length<2&&(t=e.nodes()[0]),VN(e,{},1,t)}function VN(e,t,n,r,i){var o=n,s=e.node(r);return t[r]=!0,xn.forEach(e.neighbors(r),function(a){xn.has(t,a)||(n=VN(e,t,n,a,r))}),s.low=o,s.lim=n++,i?s.parent=i:delete s.parent,n}function UN(e){return xn.find(e.edges(),function(t){return e.edge(t).cutvalue<0})}function GN(e,t,n){var r=n.v,i=n.w;t.hasEdge(r,i)||(r=n.w,i=n.v);var o=e.node(r),s=e.node(i),a=o,u=!1;o.lim>s.lim&&(a=s,u=!0);var l=xn.filter(t.edges(),function(c){return u===yS(e,e.node(c.v),a)&&u!==yS(e,e.node(c.w),a)});return xn.minBy(l,function(c){return s$(t,c)})}function WN(e,t,n,r){var i=n.v,o=n.w;e.removeEdge(i,o),e.setEdge(r.v,r.w,{}),ev(e),Jm(e,t),h$(e,t)}function h$(e,t){var n=xn.find(e.nodes(),function(i){return!t.node(i).parent}),r=u$(e,n);r=r.slice(1),xn.forEach(r,function(i){var o=e.node(i).parent,s=t.edge(i,o),a=!1;s||(s=t.edge(o,i),a=!0),t.node(i).rank=t.node(o).rank+(a?s.minlen:-s.minlen)})}function p$(e,t,n){return e.hasEdge(t,n)}function yS(e,t,n){return n.low<=t.lim&&t.lim<=n.lim}var g$=Ru,YN=g$.longestPath,m$=HN,v$=f$,y$=x$;function x$(e){switch(e.graph().ranker){case"network-simplex":xS(e);break;case"tight-tree":w$(e);break;case"longest-path":_$(e);break;default:xS(e)}}var _$=YN;function w$(e){YN(e),m$(e)}function xS(e){v$(e)}var wg=Ne,S$=b$;function b$(e){var t=C$(e);wg.forEach(e.graph().dummyChains,function(n){for(var r=e.node(n),i=r.edgeObj,o=E$(e,t,i.v,i.w),s=o.path,a=o.lca,u=0,l=s[u],c=!0;n!==i.w;){if(r=e.node(n),c){for(;(l=s[u])!==a&&e.node(l).maxRank<r.rank;)u++;l===a&&(c=!1)}if(!c){for(;u<s.length-1&&e.node(l=s[u+1]).minRank<=r.rank;)u++;l=s[u]}e.setParent(n,l),n=e.successors(n)[0]}})}function E$(e,t,n,r){var i=[],o=[],s=Math.min(t[n].low,t[r].low),a=Math.max(t[n].lim,t[r].lim),u,l;u=n;do u=e.parent(u),i.push(u);while(u&&(t[u].low>s||a>t[u].lim));for(l=u,u=r;(u=e.parent(u))!==l;)o.push(u);return{path:i.concat(o.reverse()),lca:l}}function C$(e){var t={},n=0;function r(i){var o=n;wg.forEach(e.children(i),r),t[i]={low:o,lim:n++}}return wg.forEach(e.children(),r),t}var dn=Ne,Sg=ut,N$={run:k$,cleanup:T$};function k$(e){var t=Sg.addDummyNode(e,"root",{},"_root"),n=I$(e),r=dn.max(dn.values(n))-1,i=2*r+1;e.graph().nestingRoot=t,dn.forEach(e.edges(),function(s){e.edge(s).minlen*=i});var o=R$(e)+1;dn.forEach(e.children(),function(s){KN(e,t,i,o,r,n,s)}),e.graph().nodeRankFactor=i}function KN(e,t,n,r,i,o,s){var a=e.children(s);if(!a.length){s!==t&&e.setEdge(t,s,{weight:0,minlen:n});return}var u=Sg.addBorderNode(e,"_bt"),l=Sg.addBorderNode(e,"_bb"),c=e.node(s);e.setParent(u,s),c.borderTop=u,e.setParent(l,s),c.borderBottom=l,dn.forEach(a,function(f){KN(e,t,n,r,i,o,f);var d=e.node(f),p=d.borderTop?d.borderTop:f,h=d.borderBottom?d.borderBottom:f,x=d.borderTop?r:2*r,w=p!==h?1:i-o[s]+1;e.setEdge(u,p,{weight:x,minlen:w,nestingEdge:!0}),e.setEdge(h,l,{weight:x,minlen:w,nestingEdge:!0})}),e.parent(s)||e.setEdge(t,u,{weight:0,minlen:i+o[s]})}function I$(e){var t={};function n(r,i){var o=e.children(r);o&&o.length&&dn.forEach(o,function(s){n(s,i+1)}),t[r]=i}return dn.forEach(e.children(),function(r){n(r,1)}),t}function R$(e){return dn.reduce(e.edges(),function(t,n){return t+e.edge(n).weight},0)}function T$(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,dn.forEach(e.edges(),function(n){var r=e.edge(n);r.nestingEdge&&e.removeEdge(n)})}var up=Ne,M$=ut,A$=j$;function j$(e){function t(n){var r=e.children(n),i=e.node(n);if(r.length&&up.forEach(r,t),up.has(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var o=i.minRank,s=i.maxRank+1;o<s;++o)_S(e,"borderLeft","_bl",n,i,o),_S(e,"borderRight","_br",n,i,o)}}up.forEach(e.children(),t)}function _S(e,t,n,r,i,o){var s={width:0,height:0,rank:o,borderType:t},a=i[t][o-1],u=M$.addDummyNode(e,"border",s,n);i[t][o]=u,e.setParent(u,r),a&&e.setEdge(a,u,{weight:1})}var Kt=Ne,P$={adjust:L$,undo:O$};function L$(e){var t=e.graph().rankdir.toLowerCase();(t==="lr"||t==="rl")&&XN(e)}function O$(e){var t=e.graph().rankdir.toLowerCase();(t==="bt"||t==="rl")&&q$(e),(t==="lr"||t==="rl")&&(D$(e),XN(e))}function XN(e){Kt.forEach(e.nodes(),function(t){wS(e.node(t))}),Kt.forEach(e.edges(),function(t){wS(e.edge(t))})}function wS(e){var t=e.width;e.width=e.height,e.height=t}function q$(e){Kt.forEach(e.nodes(),function(t){lp(e.node(t))}),Kt.forEach(e.edges(),function(t){var n=e.edge(t);Kt.forEach(n.points,lp),Kt.has(n,"y")&&lp(n)})}function lp(e){e.y=-e.y}function D$(e){Kt.forEach(e.nodes(),function(t){cp(e.node(t))}),Kt.forEach(e.edges(),function(t){var n=e.edge(t);Kt.forEach(n.points,cp),Kt.has(n,"x")&&cp(n)})}function cp(e){var t=e.x;e.x=e.y,e.y=t}var rn=Ne,$$=z$;function z$(e){var t={},n=rn.filter(e.nodes(),function(a){return!e.children(a).length}),r=rn.max(rn.map(n,function(a){return e.node(a).rank})),i=rn.map(rn.range(r+1),function(){return[]});function o(a){if(!rn.has(t,a)){t[a]=!0;var u=e.node(a);i[u.rank].push(a),rn.forEach(e.successors(a),o)}}var s=rn.sortBy(n,function(a){return e.node(a).rank});return rn.forEach(s,o),i}var kn=Ne,F$=H$;function H$(e,t){for(var n=0,r=1;r<t.length;++r)n+=B$(e,t[r-1],t[r]);return n}function B$(e,t,n){for(var r=kn.zipObject(n,kn.map(n,function(l,c){return c})),i=kn.flatten(kn.map(t,function(l){return kn.sortBy(kn.map(e.outEdges(l),function(c){return{pos:r[c.w],weight:e.edge(c).weight}}),"pos")}),!0),o=1;o<n.length;)o<<=1;var s=2*o-1;o-=1;var a=kn.map(new Array(s),function(){return 0}),u=0;return kn.forEach(i.forEach(function(l){var c=l.pos+o;a[c]+=l.weight;for(var f=0;c>0;)c%2&&(f+=a[c+1]),c=c-1>>1,a[c]+=l.weight;u+=l.weight*f})),u}var SS=Ne,V$=U$;function U$(e,t){return SS.map(t,function(n){var r=e.inEdges(n);if(r.length){var i=SS.reduce(r,function(o,s){var a=e.edge(s),u=e.node(s.v);return{sum:o.sum+a.weight*u.order,weight:o.weight+a.weight}},{sum:0,weight:0});return{v:n,barycenter:i.sum/i.weight,weight:i.weight}}else return{v:n}})}var ft=Ne,G$=W$;function W$(e,t){var n={};ft.forEach(e,function(i,o){var s=n[i.v]={indegree:0,in:[],out:[],vs:[i.v],i:o};ft.isUndefined(i.barycenter)||(s.barycenter=i.barycenter,s.weight=i.weight)}),ft.forEach(t.edges(),function(i){var o=n[i.v],s=n[i.w];!ft.isUndefined(o)&&!ft.isUndefined(s)&&(s.indegree++,o.out.push(n[i.w]))});var r=ft.filter(n,function(i){return!i.indegree});return Y$(r)}function Y$(e){var t=[];function n(o){return function(s){s.merged||(ft.isUndefined(s.barycenter)||ft.isUndefined(o.barycenter)||s.barycenter>=o.barycenter)&&K$(o,s)}}function r(o){return function(s){s.in.push(o),--s.indegree===0&&e.push(s)}}for(;e.length;){var i=e.pop();t.push(i),ft.forEach(i.in.reverse(),n(i)),ft.forEach(i.out,r(i))}return ft.map(ft.filter(t,function(o){return!o.merged}),function(o){return ft.pick(o,["vs","i","barycenter","weight"])})}function K$(e,t){var n=0,r=0;e.weight&&(n+=e.barycenter*e.weight,r+=e.weight),t.weight&&(n+=t.barycenter*t.weight,r+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=n/r,e.weight=r,e.i=Math.min(t.i,e.i),t.merged=!0}var Fi=Ne,X$=ut,Q$=Z$;function Z$(e,t){var n=X$.partition(e,function(c){return Fi.has(c,"barycenter")}),r=n.lhs,i=Fi.sortBy(n.rhs,function(c){return-c.i}),o=[],s=0,a=0,u=0;r.sort(J$(!!t)),u=bS(o,i,u),Fi.forEach(r,function(c){u+=c.vs.length,o.push(c.vs),s+=c.barycenter*c.weight,a+=c.weight,u=bS(o,i,u)});var l={vs:Fi.flatten(o,!0)};return a&&(l.barycenter=s/a,l.weight=a),l}function bS(e,t,n){for(var r;t.length&&(r=Fi.last(t)).i<=n;)t.pop(),e.push(r.vs),n++;return n}function J$(e){return function(t,n){return t.barycenter<n.barycenter?-1:t.barycenter>n.barycenter?1:e?n.i-t.i:t.i-n.i}}var jn=Ne,e5=V$,t5=G$,n5=Q$,r5=QN;function QN(e,t,n,r){var i=e.children(t),o=e.node(t),s=o?o.borderLeft:void 0,a=o?o.borderRight:void 0,u={};s&&(i=jn.filter(i,function(h){return h!==s&&h!==a}));var l=e5(e,i);jn.forEach(l,function(h){if(e.children(h.v).length){var x=QN(e,h.v,n,r);u[h.v]=x,jn.has(x,"barycenter")&&o5(h,x)}});var c=t5(l,n);i5(c,u);var f=n5(c,r);if(s&&(f.vs=jn.flatten([s,f.vs,a],!0),e.predecessors(s).length)){var d=e.node(e.predecessors(s)[0]),p=e.node(e.predecessors(a)[0]);jn.has(f,"barycenter")||(f.barycenter=0,f.weight=0),f.barycenter=(f.barycenter*f.weight+d.order+p.order)/(f.weight+2),f.weight+=2}return f}function i5(e,t){jn.forEach(e,function(n){n.vs=jn.flatten(n.vs.map(function(r){return t[r]?t[r].vs:r}),!0)})}function o5(e,t){jn.isUndefined(e.barycenter)?(e.barycenter=t.barycenter,e.weight=t.weight):(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight)}var Hi=Ne,s5=Vt.Graph,a5=u5;function u5(e,t,n){var r=l5(e),i=new s5({compound:!0}).setGraph({root:r}).setDefaultNodeLabel(function(o){return e.node(o)});return Hi.forEach(e.nodes(),function(o){var s=e.node(o),a=e.parent(o);(s.rank===t||s.minRank<=t&&t<=s.maxRank)&&(i.setNode(o),i.setParent(o,a||r),Hi.forEach(e[n](o),function(u){var l=u.v===o?u.w:u.v,c=i.edge(l,o),f=Hi.isUndefined(c)?0:c.weight;i.setEdge(l,o,{weight:e.edge(u).weight+f})}),Hi.has(s,"minRank")&&i.setNode(o,{borderLeft:s.borderLeft[t],borderRight:s.borderRight[t]}))}),i}function l5(e){for(var t;e.hasNode(t=Hi.uniqueId("_root")););return t}var c5=Ne,f5=d5;function d5(e,t,n){var r={},i;c5.forEach(n,function(o){for(var s=e.parent(o),a,u;s;){if(a=e.parent(s),a?(u=r[a],r[a]=s):(u=i,i=s),u&&u!==s){t.setEdge(u,s);return}s=a}})}var Un=Ne,h5=$$,p5=F$,g5=r5,m5=a5,v5=f5,y5=Vt.Graph,ES=ut,x5=_5;function _5(e){var t=ES.maxRank(e),n=CS(e,Un.range(1,t+1),"inEdges"),r=CS(e,Un.range(t-1,-1,-1),"outEdges"),i=h5(e);NS(e,i);for(var o=Number.POSITIVE_INFINITY,s,a=0,u=0;u<4;++a,++u){w5(a%2?n:r,a%4>=2),i=ES.buildLayerMatrix(e);var l=p5(e,i);l<o&&(u=0,s=Un.cloneDeep(i),o=l)}NS(e,s)}function CS(e,t,n){return Un.map(t,function(r){return m5(e,r,n)})}function w5(e,t){var n=new y5;Un.forEach(e,function(r){var i=r.graph().root,o=g5(r,i,n,t);Un.forEach(o.vs,function(s,a){r.node(s).order=a}),v5(r,n,o.vs)})}function NS(e,t){Un.forEach(t,function(n){Un.forEach(n,function(r,i){e.node(r).order=i})})}var de=Ne,S5=Vt.Graph,b5=ut,E5={positionX:L5};function C5(e,t){var n={};function r(i,o){var s=0,a=0,u=i.length,l=de.last(o);return de.forEach(o,function(c,f){var d=k5(e,c),p=d?e.node(d).order:u;(d||c===l)&&(de.forEach(o.slice(a,f+1),function(h){de.forEach(e.predecessors(h),function(x){var w=e.node(x),m=w.order;(m<s||p<m)&&!(w.dummy&&e.node(h).dummy)&&ZN(n,x,h)})}),a=f+1,s=p)}),o}return de.reduce(t,r),n}function N5(e,t){var n={};function r(o,s,a,u,l){var c;de.forEach(de.range(s,a),function(f){c=o[f],e.node(c).dummy&&de.forEach(e.predecessors(c),function(d){var p=e.node(d);p.dummy&&(p.order<u||p.order>l)&&ZN(n,d,c)})})}function i(o,s){var a=-1,u,l=0;return de.forEach(s,function(c,f){if(e.node(c).dummy==="border"){var d=e.predecessors(c);d.length&&(u=e.node(d[0]).order,r(s,l,f,a,u),l=f,a=u)}r(s,l,s.length,u,o.length)}),s}return de.reduce(t,i),n}function k5(e,t){if(e.node(t).dummy)return de.find(e.predecessors(t),function(n){return e.node(n).dummy})}function ZN(e,t,n){if(t>n){var r=t;t=n,n=r}var i=e[t];i||(e[t]=i={}),i[n]=!0}function I5(e,t,n){if(t>n){var r=t;t=n,n=r}return de.has(e[t],n)}function R5(e,t,n,r){var i={},o={},s={};return de.forEach(t,function(a){de.forEach(a,function(u,l){i[u]=u,o[u]=u,s[u]=l})}),de.forEach(t,function(a){var u=-1;de.forEach(a,function(l){var c=r(l);if(c.length){c=de.sortBy(c,function(x){return s[x]});for(var f=(c.length-1)/2,d=Math.floor(f),p=Math.ceil(f);d<=p;++d){var h=c[d];o[l]===l&&u<s[h]&&!I5(n,l,h)&&(o[h]=l,o[l]=i[l]=i[h],u=s[h])}}})}),{root:i,align:o}}function T5(e,t,n,r,i){var o={},s=M5(e,t,n,i),a=i?"borderLeft":"borderRight";function u(f,d){for(var p=s.nodes(),h=p.pop(),x={};h;)x[h]?f(h):(x[h]=!0,p.push(h),p=p.concat(d(h))),h=p.pop()}function l(f){o[f]=s.inEdges(f).reduce(function(d,p){return Math.max(d,o[p.v]+s.edge(p))},0)}function c(f){var d=s.outEdges(f).reduce(function(h,x){return Math.min(h,o[x.w]-s.edge(x))},Number.POSITIVE_INFINITY),p=e.node(f);d!==Number.POSITIVE_INFINITY&&p.borderType!==a&&(o[f]=Math.max(o[f],d))}return u(l,s.predecessors.bind(s)),u(c,s.successors.bind(s)),de.forEach(r,function(f){o[f]=o[n[f]]}),o}function M5(e,t,n,r){var i=new S5,o=e.graph(),s=O5(o.nodesep,o.edgesep,r);return de.forEach(t,function(a){var u;de.forEach(a,function(l){var c=n[l];if(i.setNode(c),u){var f=n[u],d=i.edge(f,c);i.setEdge(f,c,Math.max(s(e,l,u),d||0))}u=l})}),i}function A5(e,t){return de.minBy(de.values(t),function(n){var r=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return de.forIn(n,function(o,s){var a=q5(e,s)/2;r=Math.max(o+a,r),i=Math.min(o-a,i)}),r-i})}function j5(e,t){var n=de.values(t),r=de.min(n),i=de.max(n);de.forEach(["u","d"],function(o){de.forEach(["l","r"],function(s){var a=o+s,u=e[a],l;if(u!==t){var c=de.values(u);l=s==="l"?r-de.min(c):i-de.max(c),l&&(e[a]=de.mapValues(u,function(f){return f+l}))}})})}function P5(e,t){return de.mapValues(e.ul,function(n,r){if(t)return e[t.toLowerCase()][r];var i=de.sortBy(de.map(e,r));return(i[1]+i[2])/2})}function L5(e){var t=b5.buildLayerMatrix(e),n=de.merge(C5(e,t),N5(e,t)),r={},i;de.forEach(["u","d"],function(s){i=s==="u"?t:de.values(t).reverse(),de.forEach(["l","r"],function(a){a==="r"&&(i=de.map(i,function(f){return de.values(f).reverse()}));var u=(s==="u"?e.predecessors:e.successors).bind(e),l=R5(e,i,n,u),c=T5(e,i,l.root,l.align,a==="r");a==="r"&&(c=de.mapValues(c,function(f){return-f})),r[s+a]=c})});var o=A5(e,r);return j5(r,o),P5(r,e.graph().align)}function O5(e,t,n){return function(r,i,o){var s=r.node(i),a=r.node(o),u=0,l;if(u+=s.width/2,de.has(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":l=-s.width/2;break;case"r":l=s.width/2;break}if(l&&(u+=n?l:-l),l=0,u+=(s.dummy?t:e)/2,u+=(a.dummy?t:e)/2,u+=a.width/2,de.has(a,"labelpos"))switch(a.labelpos.toLowerCase()){case"l":l=a.width/2;break;case"r":l=-a.width/2;break}return l&&(u+=n?l:-l),l=0,u}}function q5(e,t){return e.node(t).width}var Bi=Ne,JN=ut,D5=E5.positionX,$5=z5;function z5(e){e=JN.asNonCompoundGraph(e),F5(e),Bi.forEach(D5(e),function(t,n){e.node(n).x=t})}function F5(e){var t=JN.buildLayerMatrix(e),n=e.graph().ranksep,r=0;Bi.forEach(t,function(i){var o=Bi.max(Bi.map(i,function(s){return e.node(s).height}));Bi.forEach(i,function(s){e.node(s).y=r+o/2}),r+=o+n})}var pe=Ne,kS=MD,IS=YD,H5=y$,B5=ut.normalizeRanks,V5=S$,U5=ut.removeEmptyRanks,RS=N$,G5=A$,TS=P$,W5=x5,Y5=$5,Yn=ut,K5=Vt.Graph,X5=Q5;function Q5(e,t){var n=t&&t.debugTiming?Yn.time:Yn.notime;n("layout",function(){var r=n("  buildLayoutGraph",function(){return uz(e)});n("  runLayout",function(){Z5(r,n)}),n("  updateInputGraph",function(){J5(e,r)})})}function Z5(e,t){t("    makeSpaceForEdgeLabels",function(){lz(e)}),t("    removeSelfEdges",function(){yz(e)}),t("    acyclic",function(){kS.run(e)}),t("    nestingGraph.run",function(){RS.run(e)}),t("    rank",function(){H5(Yn.asNonCompoundGraph(e))}),t("    injectEdgeLabelProxies",function(){cz(e)}),t("    removeEmptyRanks",function(){U5(e)}),t("    nestingGraph.cleanup",function(){RS.cleanup(e)}),t("    normalizeRanks",function(){B5(e)}),t("    assignRankMinMax",function(){fz(e)}),t("    removeEdgeLabelProxies",function(){dz(e)}),t("    normalize.run",function(){IS.run(e)}),t("    parentDummyChains",function(){V5(e)}),t("    addBorderSegments",function(){G5(e)}),t("    order",function(){W5(e)}),t("    insertSelfEdges",function(){xz(e)}),t("    adjustCoordinateSystem",function(){TS.adjust(e)}),t("    position",function(){Y5(e)}),t("    positionSelfEdges",function(){_z(e)}),t("    removeBorderNodes",function(){vz(e)}),t("    normalize.undo",function(){IS.undo(e)}),t("    fixupEdgeLabelCoords",function(){gz(e)}),t("    undoCoordinateSystem",function(){TS.undo(e)}),t("    translateGraph",function(){hz(e)}),t("    assignNodeIntersects",function(){pz(e)}),t("    reversePoints",function(){mz(e)}),t("    acyclic.undo",function(){kS.undo(e)})}function J5(e,t){pe.forEach(e.nodes(),function(n){var r=e.node(n),i=t.node(n);r&&(r.x=i.x,r.y=i.y,t.children(n).length&&(r.width=i.width,r.height=i.height))}),pe.forEach(e.edges(),function(n){var r=e.edge(n),i=t.edge(n);r.points=i.points,pe.has(i,"x")&&(r.x=i.x,r.y=i.y)}),e.graph().width=t.graph().width,e.graph().height=t.graph().height}var ez=["nodesep","edgesep","ranksep","marginx","marginy"],tz={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},nz=["acyclicer","ranker","rankdir","align"],rz=["width","height"],iz={width:0,height:0},oz=["minlen","weight","width","height","labeloffset"],sz={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},az=["labelpos"];function uz(e){var t=new K5({multigraph:!0,compound:!0}),n=dp(e.graph());return t.setGraph(pe.merge({},tz,fp(n,ez),pe.pick(n,nz))),pe.forEach(e.nodes(),function(r){var i=dp(e.node(r));t.setNode(r,pe.defaults(fp(i,rz),iz)),t.setParent(r,e.parent(r))}),pe.forEach(e.edges(),function(r){var i=dp(e.edge(r));t.setEdge(r,pe.merge({},sz,fp(i,oz),pe.pick(i,az)))}),t}function lz(e){var t=e.graph();t.ranksep/=2,pe.forEach(e.edges(),function(n){var r=e.edge(n);r.minlen*=2,r.labelpos.toLowerCase()!=="c"&&(t.rankdir==="TB"||t.rankdir==="BT"?r.width+=r.labeloffset:r.height+=r.labeloffset)})}function cz(e){pe.forEach(e.edges(),function(t){var n=e.edge(t);if(n.width&&n.height){var r=e.node(t.v),i=e.node(t.w),o={rank:(i.rank-r.rank)/2+r.rank,e:t};Yn.addDummyNode(e,"edge-proxy",o,"_ep")}})}function fz(e){var t=0;pe.forEach(e.nodes(),function(n){var r=e.node(n);r.borderTop&&(r.minRank=e.node(r.borderTop).rank,r.maxRank=e.node(r.borderBottom).rank,t=pe.max(t,r.maxRank))}),e.graph().maxRank=t}function dz(e){pe.forEach(e.nodes(),function(t){var n=e.node(t);n.dummy==="edge-proxy"&&(e.edge(n.e).labelRank=n.rank,e.removeNode(t))})}function hz(e){var t=Number.POSITIVE_INFINITY,n=0,r=Number.POSITIVE_INFINITY,i=0,o=e.graph(),s=o.marginx||0,a=o.marginy||0;function u(l){var c=l.x,f=l.y,d=l.width,p=l.height;t=Math.min(t,c-d/2),n=Math.max(n,c+d/2),r=Math.min(r,f-p/2),i=Math.max(i,f+p/2)}pe.forEach(e.nodes(),function(l){u(e.node(l))}),pe.forEach(e.edges(),function(l){var c=e.edge(l);pe.has(c,"x")&&u(c)}),t-=s,r-=a,pe.forEach(e.nodes(),function(l){var c=e.node(l);c.x-=t,c.y-=r}),pe.forEach(e.edges(),function(l){var c=e.edge(l);pe.forEach(c.points,function(f){f.x-=t,f.y-=r}),pe.has(c,"x")&&(c.x-=t),pe.has(c,"y")&&(c.y-=r)}),o.width=n-t+s,o.height=i-r+a}function pz(e){pe.forEach(e.edges(),function(t){var n=e.edge(t),r=e.node(t.v),i=e.node(t.w),o,s;n.points?(o=n.points[0],s=n.points[n.points.length-1]):(n.points=[],o=i,s=r),n.points.unshift(Yn.intersectRect(r,o)),n.points.push(Yn.intersectRect(i,s))})}function gz(e){pe.forEach(e.edges(),function(t){var n=e.edge(t);if(pe.has(n,"x"))switch((n.labelpos==="l"||n.labelpos==="r")&&(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset;break}})}function mz(e){pe.forEach(e.edges(),function(t){var n=e.edge(t);n.reversed&&n.points.reverse()})}function vz(e){pe.forEach(e.nodes(),function(t){if(e.children(t).length){var n=e.node(t),r=e.node(n.borderTop),i=e.node(n.borderBottom),o=e.node(pe.last(n.borderLeft)),s=e.node(pe.last(n.borderRight));n.width=Math.abs(s.x-o.x),n.height=Math.abs(i.y-r.y),n.x=o.x+n.width/2,n.y=r.y+n.height/2}}),pe.forEach(e.nodes(),function(t){e.node(t).dummy==="border"&&e.removeNode(t)})}function yz(e){pe.forEach(e.edges(),function(t){if(t.v===t.w){var n=e.node(t.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}})}function xz(e){var t=Yn.buildLayerMatrix(e);pe.forEach(t,function(n){var r=0;pe.forEach(n,function(i,o){var s=e.node(i);s.order=o+r,pe.forEach(s.selfEdges,function(a){Yn.addDummyNode(e,"selfedge",{width:a.label.width,height:a.label.height,rank:s.rank,order:o+ ++r,e:a.e,label:a.label},"_se")}),delete s.selfEdges})})}function _z(e){pe.forEach(e.nodes(),function(t){var n=e.node(t);if(n.dummy==="selfedge"){var r=e.node(n.e.v),i=r.x+r.width/2,o=r.y,s=n.x-i,a=r.height/2;e.setEdge(n.e,n.label),e.removeNode(t),n.label.points=[{x:i+2*s/3,y:o-a},{x:i+5*s/6,y:o-a},{x:i+s,y:o},{x:i+5*s/6,y:o+a},{x:i+2*s/3,y:o+a}],n.label.x=n.x,n.label.y=n.y}})}function fp(e,t){return pe.mapValues(pe.pick(e,t),Number)}function dp(e){var t={};return pe.forEach(e,function(n,r){t[r.toLowerCase()]=n}),t}var js=Ne,wz=ut,Sz=Vt.Graph,bz={debugOrdering:Ez};function Ez(e){var t=wz.buildLayerMatrix(e),n=new Sz({compound:!0,multigraph:!0}).setGraph({});return js.forEach(e.nodes(),function(r){n.setNode(r,{label:r}),n.setParent(r,"layer"+e.node(r).rank)}),js.forEach(e.edges(),function(r){n.setEdge(r.v,r.w,{},r.name)}),js.forEach(t,function(r,i){var o="layer"+i;n.setNode(o,{rank:"same"}),js.reduce(r,function(s,a){return n.setEdge(s,a,{style:"invis"}),a})}),n}var Cz="0.8.5",Nz={graphlib:Vt,layout:X5,debug:bz,util:{time:ut.time,notime:ut.notime},version:Cz};const MS=bg(Nz),kz=e=>{if(e.type==="item")return e.operation==="+"?`: ${e.target}`:`: ${e.target}`;const t={"+=":"+","-=":"-","=":"=","+":"+","-":"-"};return`${e.target} ${t[e.operation]||e.operation} ${e.value}`},Iz=({data:e,isConnectable:t})=>{var i;const n=e,r=n.actions&&n.actions.length>0;return g.jsxs("div",{className:`bg-white border-2 rounded-md p-4 min-w-[200px] shadow-sm ${n.isStart?"border-green-400 ring-2 ring-green-100":"border-gray-200"}`,children:[!n.isStart&&g.jsx(Ze,{type:"target",position:ee.Top,isConnectable:t,className:"w-3 h-3 bg-blue-500"}),g.jsxs("div",{className:"flex flex-col gap-2",children:[g.jsxs("div",{className:"font-bold text-sm text-gray-700 border-b pb-1 mb-1 flex justify-between",children:[g.jsx("span",{children:n.label}),n.isStart&&g.jsx("span",{className:"text-[10px] bg-green-100 text-green-800 px-1 rounded",children:""})]}),g.jsx("div",{className:"text-xs text-gray-500 max-h-20 overflow-hidden text-ellipsis whitespace-pre-wrap",children:n.text||"..."}),n.savePointId&&g.jsx("div",{className:"text-[10px] bg-purple-100 text-purple-800 px-1 rounded flex items-center gap-1 mt-1",children:g.jsxs("span",{children:[" : ",n.savePointId]})}),r&&g.jsxs("div",{className:"mt-1 pt-1 border-t border-gray-100 flex flex-col gap-1",children:[g.jsx("div",{className:"text-[10px] text-gray-400 font-bold",children:":"}),(i=n.actions)==null?void 0:i.map((o,s)=>g.jsx("div",{className:"text-[10px] font-mono bg-blue-50 text-blue-700 px-1 rounded truncate",children:kz(o)},s))]})]}),g.jsx(Ze,{type:"source",position:ee.Bottom,isConnectable:t,className:"w-3 h-3 bg-blue-500"})]})},Rz=q.memo(Iz),Tz=({data:e,isConnectable:t})=>{var r;const n=e;return g.jsxs("div",{className:"bg-white border-2 border-purple-200 rounded-md p-4 min-w-[250px] shadow-sm",children:[g.jsx(Ze,{type:"target",position:ee.Top,isConnectable:t,className:"w-3 h-3 bg-purple-500"}),g.jsxs("div",{className:"flex flex-col gap-2",children:[g.jsxs("div",{className:"font-bold text-sm text-purple-700 border-b pb-1 mb-1",children:[n.label," ()"]}),g.jsx("div",{className:"text-xs text-gray-500 max-h-20 overflow-hidden text-ellipsis mb-2 whitespace-pre-wrap",children:n.text||"..."}),g.jsx("div",{className:"flex flex-col gap-2 mt-1",children:(r=n.choices)==null?void 0:r.map(i=>g.jsxs("div",{className:"relative bg-purple-50 p-2 rounded text-xs border border-purple-100 text-right pr-6",children:[i.text,g.jsx(Ze,{type:"source",position:ee.Right,id:i.id,isConnectable:t,className:"w-2 h-2 bg-purple-500 !right-[-5px]",style:{top:"50%"}})]},i.id))})]})]})},Mz=q.memo(Tz),Az=e=>{if(e.type==="has_item")return`: ${e.target}`;const t={">=":"","<=":"",">":">","<":"<","=":"=","==":"="};return`${e.target} ${t[e.operation]||e.operation} ${e.value}`},jz=({data:e,isConnectable:t})=>{var o;const n=e,r=n.conditionMode==="check",i=n.conditions&&n.conditions.length>0;return g.jsxs("div",{className:"bg-white border-2 border-orange-200 rounded-md p-4 min-w-[200px] shadow-sm",children:[g.jsx(Ze,{type:"target",position:ee.Top,isConnectable:t,className:"w-3 h-3 bg-orange-500"}),g.jsxs("div",{className:"flex flex-col gap-2",children:[g.jsxs("div",{className:"font-bold text-sm text-orange-700 border-b pb-1 mb-1",children:[n.label," ",r?"()":"()"]}),!r&&g.jsx("div",{className:"text-xs bg-orange-50 p-2 rounded text-gray-700 min-h-[20px] mb-2 border border-orange-100",children:i?g.jsx("div",{className:"flex flex-col gap-1",children:(o=n.conditions)==null?void 0:o.map((s,a)=>g.jsxs("div",{className:"truncate",children:[a>0&&g.jsx("span",{className:"text-orange-400 font-bold mr-1",children:n.conditionLogic||"AND"}),Az(s)]},a))}):g.jsx("div",{className:"text-gray-400 italic",children:" ()"})}),r&&g.jsxs("div",{className:"text-xs bg-purple-50 p-2 rounded text-gray-700 min-h-[20px] mb-2 border border-purple-100 flex items-center gap-1",children:[g.jsx(NO,{size:12,className:"text-purple-600"}),g.jsxs("div",{children:[g.jsx("div",{children:n.checkDice||"1d100"}),g.jsxs("div",{className:"text-[10px] text-gray-500",children:["vs ",n.checkTarget||"50"]})]})]}),r?g.jsxs("div",{className:"flex justify-between items-center text-[10px] font-bold relative h-4 w-full",children:[g.jsxs("div",{className:"absolute left-0 -ml-1 text-center",children:[g.jsx("div",{className:"text-yellow-600 scale-75 whitespace-nowrap",children:""}),g.jsx(Ze,{type:"source",position:ee.Bottom,id:"great_success",isConnectable:t,className:"w-2 h-2 bg-yellow-500",style:{bottom:"-10px"}})]}),g.jsxs("div",{className:"absolute left-[30%] text-center",children:[g.jsx("div",{className:"text-green-600 scale-75",children:""}),g.jsx(Ze,{type:"source",position:ee.Bottom,id:"success",isConnectable:t,className:"w-2 h-2 bg-green-500",style:{bottom:"-10px"}})]}),g.jsxs("div",{className:"absolute right-[30%] text-center",children:[g.jsx("div",{className:"text-red-600 scale-75",children:""}),g.jsx(Ze,{type:"source",position:ee.Bottom,id:"failure",isConnectable:t,className:"w-2 h-2 bg-red-500",style:{bottom:"-10px"}})]}),g.jsxs("div",{className:"absolute right-0 -mr-1 text-center",children:[g.jsx("div",{className:"text-purple-600 scale-75 whitespace-nowrap",children:""}),g.jsx(Ze,{type:"source",position:ee.Bottom,id:"great_failure",isConnectable:t,className:"w-2 h-2 bg-purple-500",style:{bottom:"-10px"}})]})]}):g.jsxs("div",{className:"flex justify-between items-center text-xs font-bold relative h-4",children:[g.jsxs("div",{className:"absolute left-0",children:[g.jsx("span",{className:"text-green-600",children:""}),g.jsx(Ze,{type:"source",position:ee.Bottom,id:"true",isConnectable:t,className:"w-3 h-3 bg-green-500",style:{bottom:"-10px"}})]}),g.jsxs("div",{className:"absolute right-0",children:[g.jsx("span",{className:"text-red-600",children:""}),g.jsx(Ze,{type:"source",position:ee.Bottom,id:"false",isConnectable:t,className:"w-3 h-3 bg-red-500",style:{bottom:"-10px"}})]})]})]})]})},Pz=q.memo(jz);var ek={exports:{}};(function(e,t){(function(n,r){r()})(an,function(){function n(l,c){return typeof c>"u"?c={autoBom:!1}:typeof c!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),c={autoBom:!c}),c.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(l.type)?new Blob(["\uFEFF",l],{type:l.type}):l}function r(l,c,f){var d=new XMLHttpRequest;d.open("GET",l),d.responseType="blob",d.onload=function(){u(d.response,c,f)},d.onerror=function(){console.error("could not download file")},d.send()}function i(l){var c=new XMLHttpRequest;c.open("HEAD",l,!1);try{c.send()}catch{}return 200<=c.status&&299>=c.status}function o(l){try{l.dispatchEvent(new MouseEvent("click"))}catch{var c=document.createEvent("MouseEvents");c.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),l.dispatchEvent(c)}}var s=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof an=="object"&&an.global===an?an:void 0,a=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),u=s.saveAs||(typeof window!="object"||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(l,c,f){var d=s.URL||s.webkitURL,p=document.createElement("a");c=c||l.name||"download",p.download=c,p.rel="noopener",typeof l=="string"?(p.href=l,p.origin===location.origin?o(p):i(p.href)?r(l,c,f):o(p,p.target="_blank")):(p.href=d.createObjectURL(l),setTimeout(function(){d.revokeObjectURL(p.href)},4e4),setTimeout(function(){o(p)},0))}:"msSaveOrOpenBlob"in navigator?function(l,c,f){if(c=c||l.name||"download",typeof l!="string")navigator.msSaveOrOpenBlob(n(l,f),c);else if(i(l))r(l,c,f);else{var d=document.createElement("a");d.href=l,d.target="_blank",setTimeout(function(){o(d)})}}:function(l,c,f,d){if(d=d||open("","_blank"),d&&(d.document.title=d.document.body.innerText="downloading..."),typeof l=="string")return r(l,c,f);var p=l.type==="application/octet-stream",h=/constructor/i.test(s.HTMLElement)||s.safari,x=/CriOS\/[\d]+/.test(navigator.userAgent);if((x||p&&h||a)&&typeof FileReader<"u"){var w=new FileReader;w.onloadend=function(){var v=w.result;v=x?v:v.replace(/^data:[^;]*;/,"data:attachment/file;"),d?d.location.href=v:location=v,d=null},w.readAsDataURL(l)}else{var m=s.URL||s.webkitURL,y=m.createObjectURL(l);d?d.location=y:location.href=y,d=null,setTimeout(function(){m.revokeObjectURL(y)},4e4)}});s.saveAs=u.saveAs=u,e.exports=u})})(ek);var Lz=ek.exports;const AS=e=>!e||e.length===0?"":e.map(t=>{const n=r=>{if(typeof r=="number")return r;const i=String(r).trim();return i?/^-?\d+(\.\d+)?$/.test(i)?Number(i):`rollDice(${JSON.stringify(i)})`:0};if(t.type==="item"){const r=JSON.stringify(t.target??""),i=n(t.value||1);return t.operation==="+"||t.operation==="+="?`state.inventory = state.inventory || {}; 
                        if(Array.isArray(state.inventory)) state.inventory = {};
                        state.inventory[${r}] = (state.inventory[${r}] || 0) + ${i};`:`state.inventory = state.inventory || {};
                        if(Array.isArray(state.inventory)) state.inventory = {};
                        state.inventory[${r}] = Math.max(0, (state.inventory[${r}] || 0) - ${i});
                        if(state.inventory[${r}] <= 0) delete state.inventory[${r}];`}else{let r="state.stats = state.stats || {};";const i=n(t.value||0),o=JSON.stringify(t.target??"");return t.operation==="="?r+=`state.stats[${o}] = ${i};`:t.operation==="+"||t.operation==="+="?r+=`state.stats[${o}] = (state.stats[${o}] || 0) + ${i};`:(t.operation==="-"||t.operation==="-=")&&(r+=`state.stats[${o}] = (state.stats[${o}] || 0) - ${i};`),r}}).join(`
`),Oz=(e,t="AND")=>{if(!e||e.length===0)return"true";const n=e.map(r=>{if(r.type==="has_item"){const i=JSON.stringify(r.target??""),o=typeof r.value=="number"?r.value:parseInt(r.value)||1;return`((Array.isArray(state.inventory) ? state.inventory.includes(${i}) : (state.inventory && state.inventory[${i}] >= ${o})))`}else{const i=r.value??0,o=typeof i=="number"?i:Number(i),s=Number.isFinite(o)?o:JSON.stringify(String(i)),u=`(state.stats && state.stats[${JSON.stringify(r.target??"")}] || 0)`;switch(r.operation){case">":return`${u} > ${s}`;case"<":return`${u} < ${s}`;case">=":return`${u} >= ${s}`;case"<=":return`${u} <= ${s}`;case"=":case"==":return`${u} == ${s}`;default:return"true"}}});return t==="OR"?`(${n.join(" || ")})`:`(${n.join(" && ")})`},qz=`// ==UserScript==
// @name         __PLUGIN_NAME__
// @author       __AUTHOR__
// @version      __VERSION__
// @description  __DESCRIPTION__
// @timestamp    __TIMESTAMP__
// @license      MIT
// @homepageURL  __HOMEPAGE__
// ==/UserScript==
`,Dz=`// Plot Novel Sealdice Plugin Editor Generated Plugin
// Auto-generated by 

function main() {
  // Register Extension
  let ext = seal.ext.find('__PLUGIN_NAME__');
  if (!ext) {
    ext = seal.ext.new('__PLUGIN_NAME__', '__AUTHOR__', '__VERSION__');
    seal.ext.register(ext);
  }

  // Story Data
  const STORY_DATA = __STORY_DATA_PLACEHOLDER__;
  const CMD_NAME = '__COMMAND_NAME__';
  
  // Subcommands
  const SC_START = '__SC_START__';
  const SC_NEXT = '__SC_NEXT__';
  const SC_CHOOSE = '__SC_CHOOSE__';
  const SC_STAT = '__SC_STAT__';
  const SC_LOAD = '__SC_LOAD__';
  const SC_RESET = '__SC_RESET__';
  const SC_CLEAR = '__SC_CLEAR__';

  const CRITICAL_SUCCESS = __CRITICAL_SUCCESS__;
  const CRITICAL_FAILURE = __CRITICAL_FAILURE__;
  const SUCCESS_MODE = '__SUCCESS_MODE__';
  const CRITICAL_SUCCESS_MODE = '__CRITICAL_SUCCESS_MODE__';
  const CRITICAL_FAILURE_MODE = '__CRITICAL_FAILURE_MODE__';
  const DEFAULT_DICE = '__DEFAULT_DICE__';

  // 
  const rollDice = (expr) => {
      if (typeof expr === 'number') return expr;
      let str = String(expr).toLowerCase().replace(/\\s/g, '');
      try {
          str = str.replace(/(\\d*)d(\\d+)/g, (match, count, sides) => {
              let n = count === '' ? 1 : parseInt(count);
              let s = parseInt(sides);
              let total = 0;
              for(let i=0; i<n; i++) total += Math.floor(Math.random() * s) + 1;
              return total;
          });
          return new Function('return ' + str)();
      } catch(e) { return 0; }
  };

  // 
  const loadState = (userId) => {
    try {
      const data = ext.storageGet(\`user_\${userId}\`);
      return data ? JSON.parse(data) : null;
    } catch (e) { return null; }
  };

  const saveState = (userId, state) => {
    ext.storageSet(\`user_\${userId}\`, JSON.stringify(state));
  };

  const resetState = (userId) => {
    const initialState = {
      currentNodeId: STORY_DATA.startNodeId,
      stats: {},
      inventory: {},
      history: [],
      savePoints: {}
    };
    saveState(userId, initialState);
    return initialState;
  };

  // 
  const cmd = seal.ext.newCmdItemInfo();
  cmd.name = CMD_NAME;
  cmd.help = \`__COMMAND_HELP__\`;
  
  cmd.solve = (ctx, msg, cmdArgs) => {
    const userId = ctx.player.userId;
    let state = loadState(userId);
    const subCmd = cmdArgs.getArgN(1);

    if (subCmd === SC_CLEAR || subCmd === 'clr') {
        ext.storageSet(\`user_\${userId}\`, '');
        seal.replyToSender(ctx, msg, '');
        return seal.ext.newCmdExecuteResult(true);
    }

    if (subCmd === SC_START) {
      state = resetState(userId);
      processNode(ctx, msg, state);
      return seal.ext.newCmdExecuteResult(true);
    }

    if (!state) {
      state = resetState(userId);
    }

    if (subCmd === SC_RESET) {
        state = resetState(userId);
        seal.replyToSender(ctx, msg, '');
        return seal.ext.newCmdExecuteResult(true);
    } else if (subCmd === SC_STAT) {
        // Debug command to show stats
        const stats = state.stats || {};
        const inv = state.inventory || {};
        let output = ':\\n';
        
        const hasStats = Object.keys(stats).length > 0;
        const hasInv = Array.isArray(inv) ? inv.length > 0 : Object.keys(inv).length > 0;

        if (!hasStats && !hasInv) {
            output += '';
        } else {
            for (let k in stats) output += \`\${k}: \${stats[k]}\\n\`;
            if (hasInv) {
                if (Array.isArray(inv)) {
                     output += \`: \${inv.join(', ')}\`;
                } else {
                     const items = [];
                     for(let k in inv) items.push(\`\${k} x\${inv[k]}\`);
                     output += \`: \${items.join(', ')}\`;
                }
            }
        }
        seal.replyToSender(ctx, msg, output);
        return seal.ext.newCmdExecuteResult(true);
    } else if (subCmd === SC_LOAD) {
        let pointId = cmdArgs.getArgN(2);
        
        if (!pointId) {
             const savePoints = state.savePoints || {};
             const keys = Object.keys(savePoints);
             if (keys.length === 0) {
                 seal.replyToSender(ctx, msg, '');
             } else {
                 let output = ':\\n';
                 keys.forEach(k => {
                     // Optionally include timestamp or location name if stored
                     output += \`- \${k}\\n\`;
                 });
                 output += \`\\n .\${CMD_NAME} \${SC_LOAD} <id> \`;
                 seal.replyToSender(ctx, msg, output);
             }
             return seal.ext.newCmdExecuteResult(true);
        }

        if (state.savePoints && state.savePoints[pointId]) {
             const saved = state.savePoints[pointId];
             const currentSavePoints = state.savePoints;
             
             state = JSON.parse(JSON.stringify(saved));
             
             state.savePoints = currentSavePoints;
             
             saveState(userId, state);
             seal.replyToSender(ctx, msg, \`: \${pointId}\`);

             processNode(ctx, msg, state);
        } else {
             seal.replyToSender(ctx, msg, \`: \${pointId}\`);
        }
        return seal.ext.newCmdExecuteResult(true);
    }

    if (!STORY_DATA.nodes[state.currentNodeId]) {
      seal.replyToSender(ctx, msg, 'Error: ');
      return seal.ext.newCmdExecuteResult(true);
    }

    // 
      if (subCmd === SC_CHOOSE) {
        if (state.isEnded) {
             seal.replyToSender(ctx, msg, \` .\${CMD_NAME} \${SC_START} \`);
             return seal.ext.newCmdExecuteResult(true);
        }
        const currentNode = STORY_DATA.nodes[state.currentNodeId];
      if (!currentNode.choices) {
        seal.replyToSender(ctx, msg, \` .\${CMD_NAME} \${SC_NEXT} \\n( .\${CMD_NAME} help )\`);
        return seal.ext.newCmdExecuteResult(true);
      }
        const choiceIdx = parseInt(cmdArgs.getArgN(2)) - 1;
        const choice = currentNode.choices[choiceIdx];
        if (!choice) {
          seal.replyToSender(ctx, msg, '');
          return seal.ext.newCmdExecuteResult(true);
        }
        
        if (choice.script) {
            try {
                new Function('state', 'seal', 'ctx', 'rollDice', choice.script)(state, seal, ctx, rollDice);
            } catch (e) {
                console.error('Choice Script error:', e);
                seal.replyToSender(ctx, msg, \`Choice Error: \${e.message}\`);
            }
        }

        state.currentNodeId = choice.next;
        saveState(userId, state);
        
        processNode(ctx, msg, state);
        return seal.ext.newCmdExecuteResult(true);
      }

    // 
    if (subCmd === SC_NEXT) {
        if (state.isEnded) {
             seal.replyToSender(ctx, msg, \` .\${CMD_NAME} \${SC_START} \`);
             return seal.ext.newCmdExecuteResult(true);
        }
        const currentNode = STORY_DATA.nodes[state.currentNodeId];
        
        if (currentNode.choices) {
             seal.replyToSender(ctx, msg, \`: .\${CMD_NAME} \${SC_CHOOSE} <>\\n( .\${CMD_NAME} help )\`);
             return seal.ext.newCmdExecuteResult(true);
        }
        
        if (currentNode.next) {
            state.currentNodeId = currentNode.next;
            saveState(userId, state);
            processNode(ctx, msg, state);
        } else {
            seal.replyToSender(ctx, msg, currentNode.text + '\\n()');
        }
        return seal.ext.newCmdExecuteResult(true);
    }
    
    seal.replyToSender(ctx, msg, cmd.help);
    return seal.ext.newCmdExecuteResult(true);
  };

  function processNode(ctx, msg, state) {
    let nodeId = state.currentNodeId;
    let node = STORY_DATA.nodes[nodeId];
    if (!node) return;

    // Check for Save Point
    if (node.savePointId) {
        state.savePoints = state.savePoints || {};
        // Save current state snapshot (excluding savePoints itself to avoid recursion/bloat)
        const snapshot = JSON.parse(JSON.stringify(state));
        delete snapshot.savePoints; // Don't nest savePoints
        state.savePoints[node.savePointId] = snapshot;
        saveState(ctx.player.userId, state);
    }

    if (node.script) {
        try {
            new Function('state', 'seal', 'ctx', 'rollDice', node.script)(state, seal, ctx, rollDice);
            saveState(ctx.player.userId, state); 
        } catch (e) {
            console.error('Script error:', e);
            seal.replyToSender(ctx, msg, \`Script Error: \${e.message}\`);
        }
    }

    if (node.type === 'check') {
        const targetVal = parseInt(node.checkTarget) || (state.stats[node.checkTarget] || 50);
        const dice = node.checkDice || DEFAULT_DICE;
        
        let roll = rollDice(dice);

        let result = '';
        let nextId = null;

        const isSuccess = SUCCESS_MODE === 'gte' ? roll >= targetVal : roll <= targetVal;
        const isCriticalSuccess = CRITICAL_SUCCESS_MODE === 'gte' ? roll >= CRITICAL_SUCCESS : roll <= CRITICAL_SUCCESS;
        const isCriticalFailure = CRITICAL_FAILURE_MODE === 'gte' ? roll >= CRITICAL_FAILURE : roll <= CRITICAL_FAILURE;

        if (isCriticalSuccess && node.nextGreatSuccess) {
            result = \` (Ref: \${CRITICAL_SUCCESS})\`;
            nextId = node.nextGreatSuccess;
        } else if (isCriticalFailure && node.nextGreatFailure) {
            result = \` (Ref: \${CRITICAL_FAILURE})\`;
            nextId = node.nextGreatFailure;
        } else if (isSuccess) {
            result = '';
            nextId = node.nextSuccess || node.nextGreatSuccess; // Fallback
        } else {
            result = '';
            nextId = node.nextFailure || node.nextGreatFailure; // Fallback
        }
        
        if (!nextId) {
             // Try generic success/fail fallback
             if (isSuccess) nextId = node.nextSuccess;
             else nextId = node.nextFailure;
        }

        const output = \` \${node.checkTarget} (\${targetVal})\\n: \${roll} / \${dice} -> \${result}\`;
        seal.replyToSender(ctx, msg, output);

        if (nextId) {
            state.currentNodeId = nextId;
            saveState(ctx.player.userId, state);
            setTimeout(() => processNode(ctx, msg, state), 500); // Small delay for dramatic effect
        } else {
            seal.replyToSender(ctx, msg, '(: )');
        }
        return;
    }

    if (node.type === 'condition') {
        let conditionResult = false;
        try {
             conditionResult = new Function('state', 'return ' + node.condition)(state);
        } catch (e) {
             console.error('Condition error:', e);
        }

        const nextId = conditionResult ? node.nextTrue : node.nextFalse;
        if (nextId) {
            state.currentNodeId = nextId;
            saveState(ctx.player.userId, state);
            processNode(ctx, msg, state);
            return;
        } else {
             seal.replyToSender(ctx, msg, \`(: \${conditionResult ? 'True' : 'False'} - )\`);
             return;
        }
    }

    let output = node.text || '';
    
    // Add [Save Point] indicator if applicable
    if (node.savePointId) {
        output = \` [: \${node.savePointId}]\\n\` + output;
    }

    if (node.choices) {
        output += '\\n\\n:';
        node.choices.forEach((c, i) => {
            output += \`\\n\${i + 1}. \${c.text}\`;
        });
        output += \`\\n( .\${CMD_NAME} \${SC_CHOOSE} <>)\`;
    } else if (node.randomNext) {
        const r = Math.random() * node.totalWeight;
        let acc = 0;
        let nextId = null;
        for (const item of node.randomNext) {
            acc += item.weight;
            if (r <= acc) {
                nextId = item.next;
                break;
            }
        }
        
        if (nextId) {
             state.currentNodeId = nextId;
             saveState(ctx.player.userId, state);
             processNode(ctx, msg, state); 
        } else {
             seal.replyToSender(ctx, msg, '(: )');
        }
        return; 
    } else if (node.next) {
        output += \`\\n( .\${CMD_NAME} \${SC_NEXT} )\`;
    } else {
        output += '\\n()';
        state.isEnded = true;
        saveState(ctx.player.userId, state);
    }

    if (output.trim()) {
        seal.replyToSender(ctx, msg, output);
    }
  }

  ext.cmdMap[CMD_NAME] = cmd;
}

main();
`,$z=(e,t,n)=>{var O,R,j,$,C,L,A,D,N,I,P,F,H,W,G,ne,te,re,U,oe;const r={};let i=null;e.forEach(K=>{K.data.isStart&&(i=K.id);const Y={type:K.type,text:K.data.text};if(K.data.savePointId&&(Y.savePointId=K.data.savePointId),K.data.actions?Y.script=AS(K.data.actions):K.data.script&&(Y.script=K.data.script),K.type==="choice"){const Q=[],z=t.filter(Z=>Z.source===K.id),ae=K.data.choices;ae&&ae.forEach(Z=>{const se=z.find(ue=>ue.sourceHandle===Z.id);if(se){const ue={text:Z.text,next:se.target};Z.actions&&Z.actions.length>0&&(ue.script=AS(Z.actions)),Q.push(ue)}}),Y.choices=Q}else if(K.type==="condition")if(K.data.conditionMode==="check"){Y.type="check",Y.checkTarget=K.data.checkTarget,Y.checkDice=K.data.checkDice;const Q=t.find(se=>se.source===K.id&&se.sourceHandle==="success"),z=t.find(se=>se.source===K.id&&se.sourceHandle==="failure"),ae=t.find(se=>se.source===K.id&&se.sourceHandle==="great_success"),Z=t.find(se=>se.source===K.id&&se.sourceHandle==="great_failure");Y.nextSuccess=Q==null?void 0:Q.target,Y.nextFailure=z==null?void 0:z.target,Y.nextGreatSuccess=ae==null?void 0:ae.target,Y.nextGreatFailure=Z==null?void 0:Z.target}else{K.data.conditions?Y.condition=Oz(K.data.conditions,K.data.conditionLogic||"AND"):Y.condition=K.data.condition||"true";const Q=t.find(ae=>ae.source===K.id&&ae.sourceHandle==="true"),z=t.find(ae=>ae.source===K.id&&ae.sourceHandle==="false");Y.nextTrue=Q==null?void 0:Q.target,Y.nextFalse=z==null?void 0:z.target}else{const Q=t.filter(z=>z.source===K.id);Q.length>1?(Y.randomNext=Q.map(z=>{var ae;return{next:z.target,weight:Number((ae=z.data)==null?void 0:ae.weight)||1}}),Y.totalWeight=Y.randomNext.reduce((z,ae)=>z+ae.weight,0)):Q.length===1?Y.next=Q[0].target:Y.isEnd=!0}r[K.id]=Y}),!i&&e.length>0&&(i=e[0].id);const o={startNodeId:i,nodes:r},s=qz.replace(/__PLUGIN_NAME__/g,n.pluginName).replace(/__AUTHOR__/g,n.author).replace(/__VERSION__/g,n.version).replace(/__DESCRIPTION__/g,n.description||"").replace(/__HOMEPAGE__/g,n.homepage||"").replace(/__TIMESTAMP__/g,Math.floor(Date.now()/1e3).toString()),a=n.subCommands||{},u=((O=a.start)==null?void 0:O.name)||"start",l=((R=a.next)==null?void 0:R.name)||"next",c=((j=a.choose)==null?void 0:j.name)||"choose",f=(($=a.stat)==null?void 0:$.name)||"stat",d=((C=a.load)==null?void 0:C.name)||"load",p=((L=a.reset)==null?void 0:L.name)||"reset",h=((A=a.clear)==null?void 0:A.name)||"clear",x=((D=a.start)==null?void 0:D.help)||"",w=((N=a.next)==null?void 0:N.help)||"",m=((I=a.choose)==null?void 0:I.help)||"",y=((P=a.stat)==null?void 0:P.help)||"",v=((F=a.load)==null?void 0:F.help)||"",_=((H=a.reset)==null?void 0:H.help)||"",E=((W=a.clear)==null?void 0:W.help)||"",S=`\${ext.name} Story:\\n.\${CMD_NAME} ${u} - ${x}\\n.\${CMD_NAME} ${l} - ${w}\\n.\${CMD_NAME} ${c} <index> - ${m}\\n.\${CMD_NAME} ${f} - ${y}\\n.\${CMD_NAME} ${d} <id> - ${v}\\n.\${CMD_NAME} ${p} - ${_}\\n.\${CMD_NAME} ${h} - ${E}`,b=s+Dz.replace(/__PLUGIN_NAME__/g,n.pluginName).replace(/__COMMAND_NAME__/g,n.commandName).replace("__COMMAND_HELP__",S).replace(/__SC_START__/g,u).replace(/__SC_NEXT__/g,l).replace(/__SC_CHOOSE__/g,c).replace(/__SC_STAT__/g,f).replace(/__SC_LOAD__/g,d).replace(/__SC_RESET__/g,p).replace(/__SC_CLEAR__/g,h).replace(/__VERSION__/g,n.version).replace(/__AUTHOR__/g,n.author).replace("__STORY_DATA_PLACEHOLDER__",JSON.stringify(o,null,2)).replace("__CRITICAL_SUCCESS__",(((G=n.diceRules)==null?void 0:G.criticalSuccess)??5).toString()).replace("__CRITICAL_FAILURE__",(((ne=n.diceRules)==null?void 0:ne.criticalFailure)??96).toString()).replace("__SUCCESS_MODE__",((te=n.diceRules)==null?void 0:te.successMode)||"lte").replace("__CRITICAL_SUCCESS_MODE__",((re=n.diceRules)==null?void 0:re.criticalSuccessMode)||"lte").replace("__CRITICAL_FAILURE_MODE__",((U=n.diceRules)==null?void 0:U.criticalFailureMode)||"gte").replace("__DEFAULT_DICE__",((oe=n.diceRules)==null?void 0:oe.defaultDice)||"1d100"),k=n.filename?n.filename.endsWith(".js")?n.filename:`${n.filename}.js`:`${n.pluginName.toLowerCase()}.js`,T=new Blob([b],{type:"text/javascript;charset=utf-8"});Lz.saveAs(T,k)},zz=["start","next","choose","stat","load","reset","clear"],Fz={story:Rz,choice:Mz,condition:Pz},jS=[{id:"start",type:"story",position:{x:250,y:100},data:{label:"",text:"...",isStart:!0}}],Hz={pluginName:"MyStory",commandName:"story",version:"1.0.0",author:"Author"};function Bz(){var ae,Z,se,ue,$e,Oe,xt,lt,He,ke,Rt,_t,Tt;const[e,t,n]=WL(jS),[r,i,o]=YL([]),[s,a]=q.useState(null),[u,l]=q.useState(null),[c,f]=q.useState(!1),[d,p]=q.useState(!1),[h,x]=q.useState(Hz),{fitView:w}=uu(),[m,y]=q.useState(!1),v=(()=>{var Vo,Uo,Go,Wo,Yo,Ko,Xo,Qo,Zo,Jo,es,ts,ns,rs;const M=h.subCommands||{},B=((Vo=M.start)==null?void 0:Vo.name)||"start",X=((Uo=M.next)==null?void 0:Uo.name)||"next",ie=((Go=M.choose)==null?void 0:Go.name)||"choose",fe=((Wo=M.stat)==null?void 0:Wo.name)||"stat",ce=((Yo=M.load)==null?void 0:Yo.name)||"load",le=((Ko=M.reset)==null?void 0:Ko.name)||"reset",he=((Xo=M.clear)==null?void 0:Xo.name)||"clear",wi=((Qo=M.start)==null?void 0:Qo.help)||"",Tu=((Zo=M.next)==null?void 0:Zo.help)||"",Mu=((Jo=M.choose)==null?void 0:Jo.help)||"",Au=((es=M.stat)==null?void 0:es.help)||"",ju=((ts=M.load)==null?void 0:ts.help)||"",Pu=((ns=M.reset)==null?void 0:ns.help)||"",Lu=((rs=M.clear)==null?void 0:rs.help)||"";return`${h.pluginName} Story:
.${h.commandName} ${B} - ${wi}
.${h.commandName} ${X} - ${Tu}
.${h.commandName} ${ie} <index> - ${Mu}
.${h.commandName} ${fe} - ${Au}
.${h.commandName} ${ce} <id> - ${ju}
.${h.commandName} ${le} - ${Pu}
.${h.commandName} ${he} - ${Lu}`})(),[_,E]=q.useState([]),[S,b]=q.useState(-1),k=q.useRef(!1);q.useEffect(()=>{E([{nodes:JSON.parse(JSON.stringify(jS)),edges:[]}]),b(0)},[]),q.useEffect(()=>{if(k.current){k.current=!1;return}},[e,r]);const T=q.useCallback(()=>{E(M=>{if(S===0)return[{nodes:JSON.parse(JSON.stringify(e)),edges:JSON.parse(JSON.stringify(r))}];const B=M.slice(0,S+1);return B.push({nodes:JSON.parse(JSON.stringify(e)),edges:JSON.parse(JSON.stringify(r))}),B}),b(M=>M+1)},[e,r,S]),O=q.useCallback((M="TB")=>{const B=new MS.graphlib.Graph;B.setDefaultEdgeLabel(()=>({}));const X=250,ie=150;B.setGraph({rankdir:M}),e.forEach(ce=>{B.setNode(ce.id,{width:X,height:ie})}),r.forEach(ce=>{B.setEdge(ce.source,ce.target)}),MS.layout(B);const fe=e.map(ce=>{const le=B.node(ce.id);return{...ce,position:{x:le.x-X/2,y:le.y-ie/2}}});t(fe),T(),window.requestAnimationFrame(()=>{w()})},[e,r,t,w,T]),R=()=>{const M=!m;y(M),t(B=>B.map(X=>({...X,draggable:!M}))),i(B=>B.map(X=>({...X,type:M?"smoothstep":"default"}))),M&&O("LR")};q.useEffect(()=>{_.length===0&&e.length>0&&(E([{nodes:e,edges:r}]),b(0))},[]);const j=()=>{if(S>0){k.current=!0;const M=_[S-1];t(M.nodes),i(M.edges),b(S-1)}},$=()=>{if(S<_.length-1){k.current=!0;const M=_[S+1];t(M.nodes),i(M.edges),b(S+1)}},C=()=>{p(!1),localStorage.setItem("blackfish_has_seen_guide","true")},L=q.useCallback(M=>{T(),i(B=>zC(M,B))},[i,T]),A=q.useCallback((M,B)=>{a(B.id),l(null)},[]),D=q.useCallback((M,B)=>{l(B.id),a(null)},[]),N=q.useCallback(()=>{a(null),l(null)},[]),I=M=>{T();const B=`${M}_${Date.now()}`;let X={};M==="story"?X={label:"",text:"..."}:M==="choice"?X={label:"",text:"...",choices:[{id:"opt1",text:" 1"}]}:X={label:"",condition:"state.stats.affection >= 10"};const ie={id:B,type:M,position:{x:Math.random()*400+100,y:Math.random()*400+100},data:X};t(fe=>fe.concat(ie))},P=(M,B)=>{t(X=>X.map(ie=>ie.id===M?{...ie,data:{...ie.data,...B}}:ie))},F=(M,B)=>{T(),P(M,B)},H=()=>{$z(e,r,h)},W=()=>{const M={nodes:e,edges:r,settings:h},B=new Blob([JSON.stringify(M,null,2)],{type:"application/json"}),X=document.createElement("a");X.href=URL.createObjectURL(B),X.download=`${h.pluginName.toLowerCase()}-project.json`,X.click()},G=q.useRef(null),ne=M=>{var ie;const B=(ie=M.target.files)==null?void 0:ie[0];if(!B)return;const X=new FileReader;X.onload=fe=>{var ce;try{const le=(ce=fe.target)==null?void 0:ce.result,he=JSON.parse(le);he.nodes&&he.edges?(t(he.nodes),i(he.edges),he.settings&&x(he.settings)):alert("")}catch{alert("")}},X.readAsText(B),G.current&&(G.current.value="")},te=async()=>{try{const M=new URL("example_complex.json",window.location.href).toString(),B=await fetch(M);if(!B.ok)throw new Error(`HTTP ${B.status}`);if(!(B.headers.get("content-type")||"").includes("application/json"))throw new Error(" JSON");const ie=await B.json();T(),t(ie.nodes),i(ie.edges),x(ie.settings)}catch(M){alert(": "+((M==null?void 0:M.message)??String(M)))}},re=M=>{T();const B=e.find(ie=>ie.id===M);if(!B)return;const X=[...B.data.actions||[]];X.push({type:"stat",target:"money",operation:"+",value:0}),P(M,{actions:X})},U=(M,B,X,ie)=>{const fe=e.find(le=>le.id===M);if(!fe)return;const ce=[...fe.data.actions||[]];ce[B]={...ce[B],[X]:ie},P(M,{actions:ce})},oe=(M,B)=>{T();const X=e.find(fe=>fe.id===M);if(!X)return;const ie=(X.data.actions||[]).filter((fe,ce)=>ce!==B);P(M,{actions:ie})},K=M=>{T();const B=e.find(ie=>ie.id===M);if(!B)return;const X=[...B.data.conditions||[]];X.push({type:"stat",target:"money",operation:">=",value:0}),P(M,{conditions:X})},Y=(M,B,X,ie)=>{const fe=e.find(le=>le.id===M);if(!fe)return;const ce=[...fe.data.conditions||[]];ce[B]={...ce[B],[X]:ie},P(M,{conditions:ce})},Q=(M,B)=>{T();const X=e.find(fe=>fe.id===M);if(!X)return;const ie=(X.data.conditions||[]).filter((fe,ce)=>ce!==B);P(M,{conditions:ie})},z=e.find(M=>M.id===s);return g.jsxs("div",{className:"flex flex-col md:flex-row w-full h-full",children:[g.jsxs("div",{className:"flex-1 h-full relative order-1",children:[g.jsxs(GL,{nodes:e,edges:r,onNodesChange:n,onEdgesChange:o,onConnect:L,onNodeClick:A,onEdgeClick:D,onPaneClick:N,nodeTypes:Fz,fitView:!0,minZoom:.1,maxZoom:4,translateExtent:[[-5e4,-5e4],[5e4,5e4]],panOnScroll:!1,panOnDrag:!0,zoomOnPinch:!0,proOptions:{hideAttribution:!0},defaultEdgeOptions:{markerEnd:{type:"arrowclosed"}},children:[g.jsx(sO,{}),g.jsx(xO,{}),g.jsx(JL,{gap:12,size:1}),g.jsxs(di,{position:"top-left",className:"bg-white p-1 md:p-2 rounded shadow flex flex-wrap gap-1 md:gap-2 max-w-[calc(100vw-20px)] overflow-y-auto max-h-[30vh] md:max-h-none items-center",children:[g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsxs("button",{className:"flex items-center gap-1 px-2 py-1 bg-blue-600 text-white rounded hover:bg-blue-700 text-xs md:text-sm whitespace-nowrap",onClick:()=>I("story"),children:[g.jsx(S0,{size:14,className:"md:w-4 md:h-4"})," "]}),g.jsxs("button",{className:"flex items-center gap-1 px-2 py-1 bg-purple-600 text-white rounded hover:bg-purple-700 text-xs md:text-sm whitespace-nowrap",onClick:()=>I("choice"),children:[g.jsx(S0,{size:14,className:"md:w-4 md:h-4"})," "]}),g.jsxs("button",{className:"flex items-center gap-1 px-2 py-1 bg-orange-600 text-white rounded hover:bg-orange-700 text-xs md:text-sm whitespace-nowrap",onClick:()=>I("condition"),children:[g.jsx(CO,{size:14,className:"md:w-4 md:h-4"})," "]})]}),g.jsx("div",{className:"w-px h-4 bg-gray-300 mx-0.5 md:h-6 md:mx-1 flex-shrink-0"}),g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsxs("button",{className:"flex items-center gap-1 px-2 py-1 bg-cyan-600 text-white rounded hover:bg-cyan-700 text-xs md:text-sm whitespace-nowrap",onClick:()=>O(m?"LR":"TB"),title:"",children:[g.jsx(TO,{size:14,className:"md:w-4 md:h-4"})," ",g.jsx("span",{className:"hidden md:inline",children:""})]}),g.jsxs("button",{className:`flex items-center gap-1 px-2 py-1 rounded text-xs md:text-sm whitespace-nowrap ${m?"bg-pink-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,onClick:R,title:"",children:[m?g.jsx(kO,{size:14,className:"md:w-4 md:h-4"}):g.jsx(RO,{size:14,className:"md:w-4 md:h-4"}),g.jsx("span",{className:"hidden md:inline",children:m?"":""})]})]}),g.jsxs("div",{className:"flex md:hidden items-center gap-1 flex-wrap",children:[g.jsx("div",{className:"w-px h-4 bg-gray-300 mx-0.5 flex-shrink-0"}),g.jsx("button",{className:`flex items-center gap-1 px-2 py-1 rounded text-xs flex-shrink-0 ${S>0?"bg-gray-600 text-white hover:bg-gray-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,onClick:j,disabled:S<=0,children:g.jsx(k0,{size:14})}),g.jsx("button",{className:`flex items-center gap-1 px-2 py-1 rounded text-xs flex-shrink-0 ${S<_.length-1?"bg-gray-600 text-white hover:bg-gray-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,onClick:$,disabled:S>=_.length-1,children:g.jsx(b0,{size:14})}),g.jsx("button",{className:"flex items-center gap-1 px-2 py-1 bg-red-100 text-red-600 rounded hover:bg-red-200 text-xs whitespace-nowrap",onClick:()=>{confirm("")&&(T(),t([]),i([]))},children:g.jsx(N0,{size:14})}),g.jsx("div",{className:"w-px h-4 bg-gray-300 mx-0.5 flex-shrink-0"}),!e.find(M=>M.data.isStart)&&g.jsx("button",{className:"flex items-center gap-1 px-2 py-1 bg-green-600 text-white rounded hover:bg-green-700 text-xs whitespace-nowrap",onClick:()=>{T(),t(M=>M.concat({id:`start_${Date.now()}`,type:"story",position:{x:250,y:100},data:{label:"",text:"...",isStart:!0}}))},children:g.jsx(w0,{size:14})}),g.jsx("button",{className:"flex items-center gap-1 px-2 py-1 bg-gray-700 text-white rounded hover:bg-gray-800 text-xs whitespace-nowrap",onClick:()=>f(!0),children:g.jsx(C0,{size:14})}),g.jsx("button",{className:"flex items-center gap-1 px-2 py-1 bg-gray-500 text-white rounded hover:bg-gray-600 text-xs whitespace-nowrap",onClick:()=>p(!0),children:g.jsx(x0,{size:14})}),g.jsx("button",{className:"flex items-center gap-1 px-2 py-1 bg-gray-600 text-white rounded hover:bg-gray-700 text-xs whitespace-nowrap",onClick:W,children:g.jsx(E0,{size:14})}),g.jsxs("button",{className:"flex items-center gap-1 px-2 py-1 bg-green-600 text-white rounded hover:bg-green-700 text-xs whitespace-nowrap",onClick:H,children:[g.jsx(_0,{size:14})," ",g.jsx("span",{className:"inline",children:""})]}),g.jsxs("button",{className:"flex items-center gap-1 px-2 py-1 bg-indigo-600 text-white rounded hover:bg-indigo-700 text-xs whitespace-nowrap",onClick:te,children:[g.jsx(Ms,{size:14})," ",g.jsx("span",{className:"inline",children:""})]}),g.jsxs("button",{className:"flex items-center gap-1 px-2 py-1 bg-gray-600 text-white rounded hover:bg-gray-700 text-xs whitespace-nowrap",onClick:()=>{var M;return(M=G.current)==null?void 0:M.click()},children:[g.jsx(Ms,{size:14})," ",g.jsx("span",{className:"inline",children:""})]})]})]}),g.jsxs(di,{position:"top-right",className:"hidden md:flex bg-white p-2 rounded shadow gap-2 items-center",children:[g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsx("button",{className:`flex items-center gap-1 px-2 py-1 rounded text-sm flex-shrink-0 ${S>0?"bg-gray-600 text-white hover:bg-gray-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,onClick:j,disabled:S<=0,title:"",children:g.jsx(k0,{size:16})}),g.jsx("button",{className:`flex items-center gap-1 px-2 py-1 rounded text-sm flex-shrink-0 ${S<_.length-1?"bg-gray-600 text-white hover:bg-gray-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,onClick:$,disabled:S>=_.length-1,title:"",children:g.jsx(b0,{size:16})}),g.jsx("button",{className:"flex items-center gap-1 px-2 py-1 bg-red-100 text-red-600 rounded hover:bg-red-200 text-sm whitespace-nowrap",onClick:()=>{confirm("")&&(T(),t([]),i([]))},title:"",children:g.jsx(N0,{size:16})})]}),g.jsx("div",{className:"w-px h-6 bg-gray-300 mx-1 flex-shrink-0"}),g.jsxs("div",{className:"flex items-center gap-1",children:[!e.find(M=>M.data.isStart)&&g.jsxs("button",{className:"flex items-center gap-1 px-2 py-1 bg-green-600 text-white rounded hover:bg-green-700 text-sm whitespace-nowrap",onClick:()=>{T(),t(M=>M.concat({id:`start_${Date.now()}`,type:"story",position:{x:250,y:100},data:{label:"",text:"...",isStart:!0}}))},children:[g.jsx(w0,{size:16})," "]}),g.jsxs("button",{className:"flex items-center gap-1 px-2 py-1 bg-gray-700 text-white rounded hover:bg-gray-800 text-sm whitespace-nowrap",onClick:()=>f(!0),children:[g.jsx(C0,{size:16})," "]}),g.jsxs("button",{className:"flex items-center gap-1 px-2 py-1 bg-gray-500 text-white rounded hover:bg-gray-600 text-sm whitespace-nowrap",onClick:()=>p(!0),children:[g.jsx(x0,{size:16})," "]}),g.jsxs("button",{className:"flex items-center gap-1 px-2 py-1 bg-gray-600 text-white rounded hover:bg-gray-700 text-sm whitespace-nowrap",onClick:W,children:[g.jsx(E0,{size:16})," "]}),g.jsxs("button",{className:"flex items-center gap-1 px-2 py-1 bg-gray-600 text-white rounded hover:bg-gray-700 text-sm whitespace-nowrap",onClick:()=>{var M;return(M=G.current)==null?void 0:M.click()},children:[g.jsx(Ms,{size:16})," "]}),g.jsxs("button",{className:"flex items-center gap-1 px-2 py-1 bg-indigo-600 text-white rounded hover:bg-indigo-700 text-sm whitespace-nowrap",onClick:te,children:[g.jsx(Ms,{size:16})," "]}),g.jsx("input",{type:"file",ref:G,className:"hidden",accept:".json",onChange:ne}),g.jsxs("button",{className:"flex items-center gap-1 px-2 py-1 bg-green-600 text-white rounded hover:bg-green-700 text-sm whitespace-nowrap",onClick:H,children:[g.jsx(_0,{size:16})," "]})]})]})]}),d&&g.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-[60] p-4",children:g.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow-xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[g.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-800",children:" "}),g.jsxs("div",{className:"space-y-4 text-sm text-gray-600",children:[g.jsx("p",{children:" SealDice "}),g.jsx("h3",{className:"font-bold text-gray-800 mt-4",children:""}),g.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[g.jsxs("li",{children:[g.jsx("strong",{children:""}),""]}),g.jsxs("li",{children:[g.jsx("strong",{children:""}),""]}),g.jsxs("li",{children:[g.jsx("strong",{children:""})," SealDice "]}),g.jsxs("li",{children:[g.jsx("strong",{children:""}),""]})]}),g.jsx("h3",{className:"font-bold text-gray-800 mt-4",children:""}),g.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[g.jsxs("li",{children:[g.jsx("strong",{children:""}),"/"]}),g.jsxs("li",{children:[g.jsx("strong",{children:""}),""]}),g.jsxs("li",{children:[g.jsx("strong",{children:""}),"/"]}),g.jsx("li",{children:"IDload"})]}),g.jsx("h3",{className:"font-bold text-gray-800 mt-4",children:""}),g.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[g.jsxs("li",{children:[g.jsx("strong",{children:""}),'"+"']}),g.jsxs("li",{children:[g.jsx("strong",{children:""}),""]}),g.jsxs("li",{children:[g.jsx("strong",{children:""}),""]}),g.jsxs("li",{children:[g.jsx("strong",{children:""})," Delete "]})]}),g.jsx("h3",{className:"font-bold text-gray-800 mt-4",children:""}),g.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[g.jsxs("li",{children:[g.jsx("strong",{children:"/"}),""]}),g.jsxs("li",{children:[g.jsx("strong",{children:"/"}),"JSON"]}),g.jsxs("li",{children:[g.jsx("strong",{children:""})," SealDice "]}),g.jsxs("li",{children:[g.jsx("strong",{children:""}),""]}),g.jsxs("li",{children:[g.jsx("strong",{children:""}),""]})]}),g.jsx("div",{className:"bg-blue-50 p-3 rounded border border-blue-200 mt-4",children:g.jsxs("p",{className:"text-blue-800 text-xs",children:[g.jsx("strong",{children:""}),""]})})]}),g.jsx("div",{className:"mt-6 flex justify-end",children:g.jsx("button",{className:"px-4 sm:px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 shadow-md text-sm sm:text-base",onClick:C,children:""})})]})}),c&&g.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:g.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[g.jsxs("div",{className:"flex justify-between items-center mb-6 border-b pb-2",children:[g.jsx("h2",{className:"text-xl font-bold text-gray-800",children:""}),g.jsx("button",{onClick:()=>f(!1),className:"text-gray-500 hover:text-gray-700",children:""})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),g.jsx("input",{type:"text",className:"w-full border rounded p-2 focus:ring-2 focus:ring-blue-500 outline-none transition-all",value:h.pluginName,onChange:M=>x({...h,pluginName:M.target.value})})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),g.jsxs("div",{className:"relative",children:[g.jsx("span",{className:"absolute left-2 top-2 text-gray-400",children:"."}),g.jsx("input",{type:"text",className:"w-full border rounded p-2 pl-4 focus:ring-2 focus:ring-blue-500 outline-none transition-all",placeholder:": story",value:h.commandName,onChange:M=>x({...h,commandName:M.target.value})})]})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" (Help)"}),g.jsx("textarea",{className:"w-full border rounded p-2 focus:ring-2 focus:ring-blue-500 outline-none transition-all h-20 text-xs font-mono",value:v,readOnly:!0})]}),g.jsxs("div",{className:"bg-gray-50 p-3 rounded border border-gray-100",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" (Subcommands)"}),g.jsx("div",{className:"grid grid-cols-1 gap-2",children:zz.map(M=>{var B,X,ie,fe;return g.jsxs("div",{className:"flex gap-2 items-center text-xs",children:[g.jsx("span",{className:"w-12 font-mono font-bold text-gray-600",children:M}),g.jsx("input",{type:"text",className:"border rounded p-1 w-20",placeholder:"",value:((X=(B=h.subCommands)==null?void 0:B[M])==null?void 0:X.name)??"",onChange:ce=>{x(le=>{var he;return{...le,subCommands:{...le.subCommands??{},[M]:{...((he=le.subCommands)==null?void 0:he[M])??{},name:ce.target.value}}}})}}),g.jsx("input",{type:"text",className:"border rounded p-1 flex-1",placeholder:" (Help)",value:((fe=(ie=h.subCommands)==null?void 0:ie[M])==null?void 0:fe.help)??"",onChange:ce=>{x(le=>{var he;return{...le,subCommands:{...le.subCommands??{},[M]:{...((he=le.subCommands)==null?void 0:he[M])??{},help:ce.target.value}}}})}})]},M)})})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),g.jsx("input",{type:"text",className:"w-full border rounded p-2 focus:ring-2 focus:ring-blue-500 outline-none transition-all",value:h.version,onChange:M=>x({...h,version:M.target.value})})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),g.jsx("input",{type:"text",className:"w-full border rounded p-2 focus:ring-2 focus:ring-blue-500 outline-none transition-all",value:h.author,onChange:M=>x({...h,author:M.target.value})})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" (Description)"}),g.jsx("textarea",{className:"w-full border rounded p-2 focus:ring-2 focus:ring-blue-500 outline-none transition-all h-20",placeholder:"...",value:h.description||"",onChange:M=>x({...h,description:M.target.value})})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" URL (Homepage)"}),g.jsx("input",{type:"text",className:"w-full border rounded p-2 focus:ring-2 focus:ring-blue-500 outline-none transition-all",placeholder:"https://github.com/...",value:h.homepage||"",onChange:M=>x({...h,homepage:M.target.value})})]}),g.jsxs("div",{className:"bg-gray-50 p-3 rounded border border-gray-100",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" (Dice Rules)"}),g.jsxs("div",{className:"mb-2",children:[g.jsx("label",{className:"text-xs text-gray-600 block mb-1",children:" (Default Dice)"}),g.jsx("input",{type:"text",className:"w-full border rounded p-1 text-sm",placeholder:"1d100",value:((ae=h.diceRules)==null?void 0:ae.defaultDice)||"1d100",onChange:M=>x({...h,diceRules:{...h.diceRules,defaultDice:M.target.value}})})]}),g.jsxs("div",{className:"mb-2",children:[g.jsx("label",{className:"text-xs text-gray-600 block mb-1",children:""}),g.jsxs("select",{className:"w-full border rounded p-1 text-sm",value:((Z=h.diceRules)==null?void 0:Z.successMode)||"lte",onChange:M=>x({...h,diceRules:{...h.diceRules,successMode:M.target.value}}),children:[g.jsx("option",{value:"lte",children:"   (CoC Like)"}),g.jsx("option",{value:"gte",children:"   (D&D Like)"})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[g.jsxs("div",{children:[g.jsx("span",{className:"text-xs text-green-600 block",children:""}),g.jsxs("div",{className:"flex gap-1",children:[g.jsxs("select",{className:"border rounded text-xs w-10",value:((se=h.diceRules)==null?void 0:se.criticalSuccessMode)||(((ue=h.diceRules)==null?void 0:ue.successMode)==="gte"?"gte":"lte"),onChange:M=>x({...h,diceRules:{...h.diceRules,criticalSuccessMode:M.target.value}}),children:[g.jsx("option",{value:"lte",children:""}),g.jsx("option",{value:"gte",children:""})]}),g.jsx("input",{type:"number",className:"w-full border rounded p-1 text-sm",value:(($e=h.diceRules)==null?void 0:$e.criticalSuccess)??5,onChange:M=>x({...h,diceRules:{...h.diceRules,criticalSuccess:parseInt(M.target.value)||1}})})]})]}),g.jsxs("div",{children:[g.jsx("span",{className:"text-xs text-red-600 block",children:""}),g.jsxs("div",{className:"flex gap-1",children:[g.jsxs("select",{className:"border rounded text-xs w-10",value:((Oe=h.diceRules)==null?void 0:Oe.criticalFailureMode)||(((xt=h.diceRules)==null?void 0:xt.successMode)==="gte"?"lte":"gte"),onChange:M=>x({...h,diceRules:{...h.diceRules,criticalFailureMode:M.target.value}}),children:[g.jsx("option",{value:"lte",children:""}),g.jsx("option",{value:"gte",children:""})]}),g.jsx("input",{type:"number",className:"w-full border rounded p-1 text-sm",value:((lt=h.diceRules)==null?void 0:lt.criticalFailure)??96,onChange:M=>x({...h,diceRules:{...h.diceRules,criticalFailure:parseInt(M.target.value)||100}})})]})]})]})]}),g.jsxs("div",{className:"bg-gray-50 p-3 rounded border border-gray-100",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"text-sm text-gray-500",children:":"}),g.jsx("input",{type:"text",className:"flex-1 border rounded p-2 text-sm focus:ring-2 focus:ring-blue-500 outline-none",placeholder:h.pluginName,value:h.filename||"",onChange:M=>x({...h,filename:M.target.value})}),g.jsx("span",{className:"text-gray-400 text-sm font-mono",children:".js"})]})]})]}),g.jsxs("div",{className:"mt-8 flex justify-end gap-3",children:[g.jsx("button",{className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded transition-colors",onClick:()=>f(!1),children:""}),g.jsx("button",{className:"px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 shadow-md transition-all transform active:scale-95",onClick:()=>f(!1),children:""})]})]})})]}),u&&!s&&g.jsxs("div",{className:"absolute top-20 left-1/2 transform -translate-x-1/2 bg-white p-2 rounded shadow border border-red-200 z-10 flex flex-col gap-2 min-w-[200px]",children:[g.jsx("div",{className:"flex justify-between items-center border-b pb-1",children:g.jsx("span",{className:"text-xs text-gray-600 font-bold",children:""})}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("label",{className:"text-xs text-gray-600 whitespace-nowrap",children:" (Weight):"}),g.jsx("input",{type:"number",className:"border rounded text-xs p-1 w-16",min:"1",value:((ke=(He=r.find(M=>M.id===u))==null?void 0:He.data)==null?void 0:ke.weight)||1,onChange:M=>{const B=parseInt(M.target.value)||1;i(X=>X.map(ie=>ie.id===u?{...ie,data:{...ie.data,weight:B}}:ie))}})]}),g.jsx("div",{className:"text-[10px] text-gray-400",children:""}),g.jsx("button",{className:"px-2 py-1 bg-red-500 text-white rounded text-xs hover:bg-red-600 w-full mt-1",onClick:()=>{i(M=>M.filter(B=>B.id!==u)),l(null)},children:""})]}),z&&g.jsxs("div",{className:"order-2 w-full md:w-80 h-1/2 md:h-full bg-white md:bg-gray-50 border-t md:border-l md:border-t-0 border-gray-200 p-4 overflow-y-auto shadow-2xl md:shadow-none z-20 transition-all duration-300 flex flex-col",children:[g.jsxs("div",{className:"flex justify-between items-center mb-4 flex-shrink-0",children:[g.jsx("h2",{className:"font-bold text-lg",children:""}),g.jsx("button",{className:"md:hidden p-2 text-gray-500 hover:text-gray-700 bg-gray-100 rounded-full",onClick:()=>a(null),children:""})]}),g.jsxs("div",{className:"mb-4",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" ()"}),g.jsx("input",{type:"text",className:"w-full border rounded p-2 text-sm",value:z.data.label,onChange:M=>P(z.id,{label:M.target.value})})]}),g.jsxs("div",{className:"mb-4",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" ID (Save Point)"}),g.jsx("input",{type:"text",className:"w-full border rounded p-2 text-sm",placeholder:": chapter1_end",value:z.data.savePointId||"",onChange:M=>P(z.id,{savePointId:M.target.value})}),g.jsx("p",{className:"text-xs text-gray-500 mt-1",children:" load "})]}),z.type!=="condition"&&g.jsxs("div",{className:"mb-4",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),g.jsx("textarea",{className:"w-full border rounded p-2 text-sm h-32 font-sans",value:z.data.text,onChange:M=>P(z.id,{text:M.target.value}),placeholder:"..."})]}),g.jsxs("div",{className:"mb-4",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" ()"}),g.jsxs("div",{className:"flex flex-col gap-2",children:[(Rt=z.data.actions)==null?void 0:Rt.map((M,B)=>g.jsxs("div",{className:"bg-blue-50 p-2 rounded border border-blue-100 flex flex-col gap-1",children:[g.jsxs("div",{className:"flex gap-2",children:[g.jsxs("select",{className:"border rounded text-xs p-1",value:M.type,onChange:X=>U(z.id,B,"type",X.target.value),children:[g.jsx("option",{value:"stat",children:"(Stat)"}),g.jsx("option",{value:"item",children:"(Item)"})]}),g.jsx("input",{type:"text",className:"border rounded text-xs p-1 flex-1",placeholder:M.type==="stat"?" ( hp)":"",value:M.target,onChange:X=>U(z.id,B,"target",X.target.value)}),g.jsx("button",{className:"text-red-500 font-bold",onClick:()=>oe(z.id,B),children:""})]}),g.jsxs("div",{className:"flex gap-2 items-center",children:[g.jsx("select",{className:"border rounded text-xs p-1",value:M.operation,onChange:X=>U(z.id,B,"operation",X.target.value),children:M.type==="stat"?g.jsxs(g.Fragment,{children:[g.jsx("option",{value:"+",children:" (+)"}),g.jsx("option",{value:"-",children:" (-)"}),g.jsx("option",{value:"=",children:" (=)"})]}):g.jsxs(g.Fragment,{children:[g.jsx("option",{value:"+",children:""}),g.jsx("option",{value:"-",children:""})]})}),M.type==="stat"?g.jsx("input",{type:"text",className:"border rounded text-xs p-1 w-20",placeholder:"",value:M.value,onChange:X=>U(z.id,B,"value",X.target.value)}):g.jsx("input",{type:"text",className:"border rounded text-xs p-1 w-12",placeholder:"",value:M.value||1,onChange:X=>U(z.id,B,"value",X.target.value)})]})]},B)),g.jsx("button",{className:"mt-1 text-sm text-blue-600 hover:underline text-left",onClick:()=>re(z.id),children:"+ "})]}),g.jsxs("details",{className:"mt-2",children:[g.jsx("summary",{className:"text-xs text-gray-500 cursor-pointer",children:""}),g.jsx("textarea",{className:"w-full border rounded p-2 text-sm font-mono h-20 bg-gray-900 text-green-400 mt-1",placeholder:"state.stats.affection += 1;",value:z.data.script||"",onChange:M=>F(z.id,{script:M.target.value})})]})]}),z.type==="condition"&&g.jsxs("div",{className:"mb-4",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),g.jsxs("div",{className:"flex gap-2 mb-2 bg-gray-100 p-1 rounded",children:[g.jsx("button",{className:`flex-1 text-xs py-1 rounded ${!z.data.conditionMode||z.data.conditionMode==="logic"?"bg-white shadow":"text-gray-500"}`,onClick:()=>F(z.id,{conditionMode:"logic"}),children:""}),g.jsx("button",{className:`flex-1 text-xs py-1 rounded ${z.data.conditionMode==="check"?"bg-white shadow":"text-gray-500"}`,onClick:()=>F(z.id,{conditionMode:"check"}),children:""})]}),z.data.conditionMode==="check"?g.jsxs("div",{className:"space-y-3 bg-purple-50 p-3 rounded border border-purple-100",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-xs font-bold text-purple-700 block mb-1",children:" (Target)"}),g.jsx("input",{type:"text",className:"w-full border rounded text-sm p-1",placeholder:" ( str)   (50)",value:z.data.checkTarget||"",onChange:M=>F(z.id,{checkTarget:M.target.value})})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-xs font-bold text-purple-700 block mb-1",children:" (Dice)"}),g.jsx("input",{type:"text",className:"w-full border rounded text-sm p-1",placeholder:" 1d100",value:z.data.checkDice||"",onChange:M=>F(z.id,{checkDice:M.target.value})})]}),g.jsx("div",{className:"text-[10px] text-gray-500",children:"/"})]}):g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"mb-2",children:[g.jsx("span",{className:"text-xs text-gray-600 mr-2",children:":"}),g.jsxs("select",{className:"border rounded text-xs p-1",value:z.data.conditionLogic||"AND",onChange:M=>F(z.id,{conditionLogic:M.target.value}),children:[g.jsx("option",{value:"AND",children:" (AND) - "}),g.jsx("option",{value:"OR",children:" (OR) - "})]})]}),g.jsxs("div",{className:"flex flex-col gap-2",children:[(_t=z.data.conditions)==null?void 0:_t.map((M,B)=>g.jsxs("div",{className:"bg-orange-50 p-2 rounded border border-orange-100 flex flex-col gap-1",children:[g.jsxs("div",{className:"flex gap-2",children:[g.jsxs("select",{className:"border rounded text-xs p-1",value:M.type,onChange:X=>Y(z.id,B,"type",X.target.value),children:[g.jsx("option",{value:"stat",children:""}),g.jsx("option",{value:"has_item",children:""})]}),g.jsx("input",{type:"text",className:"border rounded text-xs p-1 flex-1",placeholder:M.type==="has_item"?"":" ( hp)",value:M.target,onChange:X=>Y(z.id,B,"target",X.target.value)}),g.jsx("button",{className:"text-red-500 font-bold",onClick:()=>Q(z.id,B),children:""})]}),M.type!=="has_item"&&g.jsxs("div",{className:"flex gap-2 items-center",children:[g.jsxs("select",{className:"border rounded text-xs p-1",value:M.operation,onChange:X=>Y(z.id,B,"operation",X.target.value),children:[g.jsx("option",{value:">=",children:" ()"}),g.jsx("option",{value:"<=",children:" ()"}),g.jsx("option",{value:">",children:" (>)"}),g.jsx("option",{value:"<",children:" (<)"}),g.jsx("option",{value:"=",children:" (=)"})]}),g.jsx("input",{type:"text",className:"border rounded text-xs p-1 w-20",placeholder:"",value:M.value,onChange:X=>Y(z.id,B,"value",X.target.value)})]})]},B)),g.jsx("button",{className:"mt-1 text-sm text-orange-600 hover:underline text-left",onClick:()=>K(z.id),children:"+ "})]})]}),g.jsxs("details",{className:"mt-2",children:[g.jsx("summary",{className:"text-xs text-gray-500 cursor-pointer",children:""}),g.jsx("textarea",{className:"w-full border rounded p-2 text-sm font-mono h-20 bg-orange-50 text-gray-800 border-orange-200 mt-1",placeholder:"state.stats.affection >= 10",value:z.data.condition||"",onChange:M=>F(z.id,{condition:M.target.value})})]})]}),z.type==="choice"&&g.jsxs("div",{className:"mb-4",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),g.jsxs("div",{className:"flex flex-col gap-2",children:[(Tt=z.data.choices)==null?void 0:Tt.map((M,B)=>{var X;return g.jsxs("div",{className:"flex flex-col gap-1 p-2 border rounded bg-white",children:[g.jsxs("div",{className:"flex gap-2 items-center",children:[g.jsxs("span",{className:"text-xs text-gray-400 font-mono",children:["#",B+1]}),g.jsx("input",{type:"text",className:"flex-1 border rounded p-1 text-sm",value:M.text,onChange:ie=>{const fe=[...z.data.choices];fe[B]={...M,text:ie.target.value},P(z.id,{choices:fe})}}),g.jsx("button",{className:"text-red-500 hover:text-red-700 font-bold px-2",onClick:()=>{T();const ie=z.data.choices.filter(fe=>fe.id!==M.id);P(z.id,{choices:ie})},children:""})]}),g.jsxs("div",{className:"pl-4 border-l-2 border-purple-100 mt-1",children:[g.jsx("label",{className:"text-[10px] text-gray-500 block mb-1",children:":"}),(X=M.actions)==null?void 0:X.map((ie,fe)=>g.jsxs("div",{className:"flex gap-1 items-center mb-1 text-xs",children:[g.jsxs("select",{className:"border rounded p-0.5 text-[10px] w-14",value:ie.type,onChange:ce=>{const le=[...z.data.choices],he=[...le[B].actions||[]];he[fe]={...he[fe],type:ce.target.value},le[B]={...le[B],actions:he},P(z.id,{choices:le})},children:[g.jsx("option",{value:"stat",children:""}),g.jsx("option",{value:"item",children:""})]}),g.jsx("input",{className:"border rounded p-0.5 w-16",placeholder:"",value:ie.target,onChange:ce=>{const le=[...z.data.choices],he=[...le[B].actions||[]];he[fe]={...he[fe],target:ce.target.value},le[B]={...le[B],actions:he},P(z.id,{choices:le})}}),g.jsxs("select",{className:"border rounded p-0.5 w-10",value:ie.operation,onChange:ce=>{const le=[...z.data.choices],he=[...le[B].actions||[]];he[fe]={...he[fe],operation:ce.target.value},le[B]={...le[B],actions:he},P(z.id,{choices:le})},children:[g.jsx("option",{value:"+",children:"+"}),g.jsx("option",{value:"-",children:"-"}),g.jsx("option",{value:"=",children:"="})]}),ie.type==="stat"&&g.jsx("input",{className:"border rounded p-0.5 w-10",placeholder:"",value:ie.value,onChange:ce=>{const le=[...z.data.choices],he=[...le[B].actions||[]];he[fe]={...he[fe],value:ce.target.value},le[B]={...le[B],actions:he},P(z.id,{choices:le})}}),g.jsx("button",{className:"text-red-400 hover:text-red-600 px-1",onClick:()=>{T();const ce=[...z.data.choices],le=(ce[B].actions||[]).filter((he,wi)=>wi!==fe);ce[B]={...ce[B],actions:le},P(z.id,{choices:ce})},children:""})]},fe)),g.jsx("button",{className:"text-[10px] text-purple-600 hover:underline",onClick:()=>{T();const ie=[...z.data.choices],fe=[...ie[B].actions||[]];fe.push({type:"stat",target:"money",operation:"+",value:10}),ie[B]={...ie[B],actions:fe},P(z.id,{choices:ie})},children:"+ "})]})]},M.id)}),g.jsx("button",{className:"mt-1 text-sm text-blue-600 hover:underline text-left",onClick:()=>{T();const M=[...z.data.choices||[],{id:`opt_${Date.now()}`,text:""}];P(z.id,{choices:M})},children:"+ "})]})]}),g.jsx("div",{className:"pt-4 border-t mt-4",children:g.jsx("button",{className:"w-full py-2 bg-red-100 text-red-600 rounded hover:bg-red-200 text-sm",onClick:()=>{t(M=>M.filter(B=>B.id!==z.id)),a(null)},children:""})})]})]})}function Vz(){return g.jsx(L2,{children:g.jsxs("div",{className:"w-full h-full flex flex-col",children:[g.jsxs("header",{className:"h-14 bg-gray-900 text-white flex items-center px-4 justify-between border-b border-gray-700",children:[g.jsx("h1",{className:"text-lg font-bold flex items-center gap-2 text-sm md:text-lg",children:""}),g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"text-sm text-gray-400 hidden md:block",children:""}),g.jsx("a",{href:"https://github.com/baiyu-yu/story-sealdicejs-editor",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white transition-colors",title:"GitHub Repository",children:g.jsx(IO,{size:24})})]})]}),g.jsx("div",{className:"flex-1 overflow-hidden",children:g.jsx(Bz,{})})]})})}hp.createRoot(document.getElementById("root")).render(g.jsx(VS.StrictMode,{children:g.jsx(Vz,{})}));
