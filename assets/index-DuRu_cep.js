(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();var Pr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var gf={exports:{}},gs={},yf={exports:{}},ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bo=Symbol.for("react.element"),C0=Symbol.for("react.portal"),k0=Symbol.for("react.fragment"),M0=Symbol.for("react.strict_mode"),j0=Symbol.for("react.profiler"),I0=Symbol.for("react.provider"),T0=Symbol.for("react.context"),A0=Symbol.for("react.forward_ref"),P0=Symbol.for("react.suspense"),b0=Symbol.for("react.memo"),R0=Symbol.for("react.lazy"),ec=Symbol.iterator;function L0(e){return e===null||typeof e!="object"?null:(e=ec&&e[ec]||e["@@iterator"],typeof e=="function"?e:null)}var xf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},vf=Object.assign,wf={};function Ir(e,t,n){this.props=e,this.context=t,this.refs=wf,this.updater=n||xf}Ir.prototype.isReactComponent={};Ir.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ir.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function _f(){}_f.prototype=Ir.prototype;function La(e,t,n){this.props=e,this.context=t,this.refs=wf,this.updater=n||xf}var $a=La.prototype=new _f;$a.constructor=La;vf($a,Ir.prototype);$a.isPureReactComponent=!0;var tc=Array.isArray,Sf=Object.prototype.hasOwnProperty,Da={current:null},Nf={key:!0,ref:!0,__self:!0,__source:!0};function Ef(e,t,n){var r,o={},i=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)Sf.call(t,r)&&!Nf.hasOwnProperty(r)&&(o[r]=t[r]);var l=arguments.length-2;if(l===1)o.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];o.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)o[r]===void 0&&(o[r]=l[r]);return{$$typeof:bo,type:e,key:i,ref:s,props:o,_owner:Da.current}}function $0(e,t){return{$$typeof:bo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function za(e){return typeof e=="object"&&e!==null&&e.$$typeof===bo}function D0(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var nc=/\/+/g;function Ys(e,t){return typeof e=="object"&&e!==null&&e.key!=null?D0(""+e.key):t.toString(36)}function xi(e,t,n,r,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case bo:case C0:s=!0}}if(s)return s=e,o=o(s),e=r===""?"."+Ys(s,0):r,tc(o)?(n="",e!=null&&(n=e.replace(nc,"$&/")+"/"),xi(o,t,n,"",function(u){return u})):o!=null&&(za(o)&&(o=$0(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(nc,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=r===""?".":r+":",tc(e))for(var l=0;l<e.length;l++){i=e[l];var a=r+Ys(i,l);s+=xi(i,t,n,a,o)}else if(a=L0(e),typeof a=="function")for(e=a.call(e),l=0;!(i=e.next()).done;)i=i.value,a=r+Ys(i,l++),s+=xi(i,t,n,a,o);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Yo(e,t,n){if(e==null)return e;var r=[],o=0;return xi(e,r,"","",function(i){return t.call(n,i,o++)}),r}function z0(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ue={current:null},vi={transition:null},O0={ReactCurrentDispatcher:Ue,ReactCurrentBatchConfig:vi,ReactCurrentOwner:Da};function Cf(){throw Error("act(...) is not supported in production builds of React.")}ce.Children={map:Yo,forEach:function(e,t,n){Yo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Yo(e,function(){t++}),t},toArray:function(e){return Yo(e,function(t){return t})||[]},only:function(e){if(!za(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ce.Component=Ir;ce.Fragment=k0;ce.Profiler=j0;ce.PureComponent=La;ce.StrictMode=M0;ce.Suspense=P0;ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O0;ce.act=Cf;ce.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=vf({},e.props),o=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=Da.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)Sf.call(t,a)&&!Nf.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:bo,type:e.type,key:o,ref:i,props:r,_owner:s}};ce.createContext=function(e){return e={$$typeof:T0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:I0,_context:e},e.Consumer=e};ce.createElement=Ef;ce.createFactory=function(e){var t=Ef.bind(null,e);return t.type=e,t};ce.createRef=function(){return{current:null}};ce.forwardRef=function(e){return{$$typeof:A0,render:e}};ce.isValidElement=za;ce.lazy=function(e){return{$$typeof:R0,_payload:{_status:-1,_result:e},_init:z0}};ce.memo=function(e,t){return{$$typeof:b0,type:e,compare:t===void 0?null:t}};ce.startTransition=function(e){var t=vi.transition;vi.transition={};try{e()}finally{vi.transition=t}};ce.unstable_act=Cf;ce.useCallback=function(e,t){return Ue.current.useCallback(e,t)};ce.useContext=function(e){return Ue.current.useContext(e)};ce.useDebugValue=function(){};ce.useDeferredValue=function(e){return Ue.current.useDeferredValue(e)};ce.useEffect=function(e,t){return Ue.current.useEffect(e,t)};ce.useId=function(){return Ue.current.useId()};ce.useImperativeHandle=function(e,t,n){return Ue.current.useImperativeHandle(e,t,n)};ce.useInsertionEffect=function(e,t){return Ue.current.useInsertionEffect(e,t)};ce.useLayoutEffect=function(e,t){return Ue.current.useLayoutEffect(e,t)};ce.useMemo=function(e,t){return Ue.current.useMemo(e,t)};ce.useReducer=function(e,t,n){return Ue.current.useReducer(e,t,n)};ce.useRef=function(e){return Ue.current.useRef(e)};ce.useState=function(e){return Ue.current.useState(e)};ce.useSyncExternalStore=function(e,t,n){return Ue.current.useSyncExternalStore(e,t,n)};ce.useTransition=function(){return Ue.current.useTransition()};ce.version="18.3.1";yf.exports=ce;var $=yf.exports;const kf=mf($);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F0=$,H0=Symbol.for("react.element"),V0=Symbol.for("react.fragment"),B0=Object.prototype.hasOwnProperty,U0=F0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,W0={key:!0,ref:!0,__self:!0,__source:!0};function Mf(e,t,n){var r,o={},i=null,s=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)B0.call(t,r)&&!W0.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:H0,type:e,key:i,ref:s,props:o,_owner:U0.current}}gs.Fragment=V0;gs.jsx=Mf;gs.jsxs=Mf;gf.exports=gs;var p=gf.exports,jl={},jf={exports:{}},ot={},If={exports:{}},Tf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(C,M){var R=C.length;C.push(M);e:for(;0<R;){var O=R-1>>>1,H=C[O];if(0<o(H,M))C[O]=M,C[R]=H,R=O;else break e}}function n(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var M=C[0],R=C.pop();if(R!==M){C[0]=R;e:for(var O=0,H=C.length,X=H>>>1;O<X;){var W=2*(O+1)-1,ee=C[W],F=W+1,te=C[F];if(0>o(ee,R))F<H&&0>o(te,ee)?(C[O]=te,C[F]=R,O=F):(C[O]=ee,C[W]=R,O=W);else if(F<H&&0>o(te,R))C[O]=te,C[F]=R,O=F;else break e}}return M}function o(C,M){var R=C.sortIndex-M.sortIndex;return R!==0?R:C.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var a=[],u=[],f=1,c=null,d=3,x=!1,g=!1,w=!1,_=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function h(C){for(var M=n(u);M!==null;){if(M.callback===null)r(u);else if(M.startTime<=C)r(u),M.sortIndex=M.expirationTime,t(a,M);else break;M=n(u)}}function v(C){if(w=!1,h(C),!g)if(n(a)!==null)g=!0,I(S);else{var M=n(u);M!==null&&D(v,M.startTime-C)}}function S(C,M){g=!1,w&&(w=!1,m(j),j=-1),x=!0;var R=d;try{for(h(M),c=n(a);c!==null&&(!(c.expirationTime>M)||C&&!T());){var O=c.callback;if(typeof O=="function"){c.callback=null,d=c.priorityLevel;var H=O(c.expirationTime<=M);M=e.unstable_now(),typeof H=="function"?c.callback=H:c===n(a)&&r(a),h(M)}else r(a);c=n(a)}if(c!==null)var X=!0;else{var W=n(u);W!==null&&D(v,W.startTime-M),X=!1}return X}finally{c=null,d=R,x=!1}}var E=!1,k=null,j=-1,A=5,z=-1;function T(){return!(e.unstable_now()-z<A)}function L(){if(k!==null){var C=e.unstable_now();z=C;var M=!0;try{M=k(!0,C)}finally{M?V():(E=!1,k=null)}}else E=!1}var V;if(typeof y=="function")V=function(){y(L)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,P=N.port2;N.port1.onmessage=L,V=function(){P.postMessage(null)}}else V=function(){_(L,0)};function I(C){k=C,E||(E=!0,V())}function D(C,M){j=_(function(){C(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_continueExecution=function(){g||x||(g=!0,I(S))},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(C){switch(d){case 1:case 2:case 3:var M=3;break;default:M=d}var R=d;d=M;try{return C()}finally{d=R}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(C,M){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var R=d;d=C;try{return M()}finally{d=R}},e.unstable_scheduleCallback=function(C,M,R){var O=e.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?O+R:O):R=O,C){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=R+H,C={id:f++,callback:M,priorityLevel:C,startTime:R,expirationTime:H,sortIndex:-1},R>O?(C.sortIndex=R,t(u,C),n(a)===null&&C===n(u)&&(w?(m(j),j=-1):w=!0,D(v,R-O))):(C.sortIndex=H,t(a,C),g||x||(g=!0,I(S))),C},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(C){var M=d;return function(){var R=d;d=M;try{return C.apply(this,arguments)}finally{d=R}}}})(Tf);If.exports=Tf;var Y0=If.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X0=$,nt=Y0;function B(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Af=new Set,so={};function Hn(e,t){hr(e,t),hr(e+"Capture",t)}function hr(e,t){for(so[e]=t,e=0;e<t.length;e++)Af.add(t[e])}var Bt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Il=Object.prototype.hasOwnProperty,G0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,rc={},oc={};function Q0(e){return Il.call(oc,e)?!0:Il.call(rc,e)?!1:G0.test(e)?oc[e]=!0:(rc[e]=!0,!1)}function K0(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Z0(e,t,n,r){if(t===null||typeof t>"u"||K0(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function We(e,t,n,r,o,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var $e={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){$e[e]=new We(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];$e[t]=new We(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){$e[e]=new We(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){$e[e]=new We(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){$e[e]=new We(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){$e[e]=new We(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){$e[e]=new We(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){$e[e]=new We(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){$e[e]=new We(e,5,!1,e.toLowerCase(),null,!1,!1)});var Oa=/[\-:]([a-z])/g;function Fa(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Oa,Fa);$e[t]=new We(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Oa,Fa);$e[t]=new We(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Oa,Fa);$e[t]=new We(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){$e[e]=new We(e,1,!1,e.toLowerCase(),null,!1,!1)});$e.xlinkHref=new We("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){$e[e]=new We(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ha(e,t,n,r){var o=$e.hasOwnProperty(t)?$e[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Z0(t,n,o,r)&&(n=null),r||o===null?Q0(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Gt=X0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xo=Symbol.for("react.element"),Wn=Symbol.for("react.portal"),Yn=Symbol.for("react.fragment"),Va=Symbol.for("react.strict_mode"),Tl=Symbol.for("react.profiler"),Pf=Symbol.for("react.provider"),bf=Symbol.for("react.context"),Ba=Symbol.for("react.forward_ref"),Al=Symbol.for("react.suspense"),Pl=Symbol.for("react.suspense_list"),Ua=Symbol.for("react.memo"),Jt=Symbol.for("react.lazy"),Rf=Symbol.for("react.offscreen"),ic=Symbol.iterator;function br(e){return e===null||typeof e!="object"?null:(e=ic&&e[ic]||e["@@iterator"],typeof e=="function"?e:null)}var Ce=Object.assign,Xs;function Br(e){if(Xs===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Xs=t&&t[1]||""}return`
`+Xs+e}var Gs=!1;function Qs(e,t){if(!e||Gs)return"";Gs=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),i=r.stack.split(`
`),s=o.length-1,l=i.length-1;1<=s&&0<=l&&o[s]!==i[l];)l--;for(;1<=s&&0<=l;s--,l--)if(o[s]!==i[l]){if(s!==1||l!==1)do if(s--,l--,0>l||o[s]!==i[l]){var a=`
`+o[s].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=s&&0<=l);break}}}finally{Gs=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Br(e):""}function q0(e){switch(e.tag){case 5:return Br(e.type);case 16:return Br("Lazy");case 13:return Br("Suspense");case 19:return Br("SuspenseList");case 0:case 2:case 15:return e=Qs(e.type,!1),e;case 11:return e=Qs(e.type.render,!1),e;case 1:return e=Qs(e.type,!0),e;default:return""}}function bl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Yn:return"Fragment";case Wn:return"Portal";case Tl:return"Profiler";case Va:return"StrictMode";case Al:return"Suspense";case Pl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case bf:return(e.displayName||"Context")+".Consumer";case Pf:return(e._context.displayName||"Context")+".Provider";case Ba:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ua:return t=e.displayName||null,t!==null?t:bl(e.type)||"Memo";case Jt:t=e._payload,e=e._init;try{return bl(e(t))}catch{}}return null}function J0(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return bl(t);case 8:return t===Va?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function gn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Lf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ey(e){var t=Lf(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(s){r=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Go(e){e._valueTracker||(e._valueTracker=ey(e))}function $f(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Lf(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Li(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Rl(e,t){var n=t.checked;return Ce({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function sc(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=gn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Df(e,t){t=t.checked,t!=null&&Ha(e,"checked",t,!1)}function Ll(e,t){Df(e,t);var n=gn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?$l(e,t.type,n):t.hasOwnProperty("defaultValue")&&$l(e,t.type,gn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function lc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function $l(e,t,n){(t!=="number"||Li(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ur=Array.isArray;function ir(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+gn(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Dl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(B(91));return Ce({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ac(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(B(92));if(Ur(n)){if(1<n.length)throw Error(B(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:gn(n)}}function zf(e,t){var n=gn(t.value),r=gn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function uc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Of(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Of(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Qo,Ff=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Qo=Qo||document.createElement("div"),Qo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Qo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function lo(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Qr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ty=["Webkit","ms","Moz","O"];Object.keys(Qr).forEach(function(e){ty.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Qr[t]=Qr[e]})});function Hf(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Qr.hasOwnProperty(e)&&Qr[e]?(""+t).trim():t+"px"}function Vf(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=Hf(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var ny=Ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ol(e,t){if(t){if(ny[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(B(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(B(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(B(61))}if(t.style!=null&&typeof t.style!="object")throw Error(B(62))}}function Fl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hl=null;function Wa(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Vl=null,sr=null,lr=null;function cc(e){if(e=$o(e)){if(typeof Vl!="function")throw Error(B(280));var t=e.stateNode;t&&(t=_s(t),Vl(e.stateNode,e.type,t))}}function Bf(e){sr?lr?lr.push(e):lr=[e]:sr=e}function Uf(){if(sr){var e=sr,t=lr;if(lr=sr=null,cc(e),t)for(e=0;e<t.length;e++)cc(t[e])}}function Wf(e,t){return e(t)}function Yf(){}var Ks=!1;function Xf(e,t,n){if(Ks)return e(t,n);Ks=!0;try{return Wf(e,t,n)}finally{Ks=!1,(sr!==null||lr!==null)&&(Yf(),Uf())}}function ao(e,t){var n=e.stateNode;if(n===null)return null;var r=_s(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(B(231,t,typeof n));return n}var Bl=!1;if(Bt)try{var Rr={};Object.defineProperty(Rr,"passive",{get:function(){Bl=!0}}),window.addEventListener("test",Rr,Rr),window.removeEventListener("test",Rr,Rr)}catch{Bl=!1}function ry(e,t,n,r,o,i,s,l,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(f){this.onError(f)}}var Kr=!1,$i=null,Di=!1,Ul=null,oy={onError:function(e){Kr=!0,$i=e}};function iy(e,t,n,r,o,i,s,l,a){Kr=!1,$i=null,ry.apply(oy,arguments)}function sy(e,t,n,r,o,i,s,l,a){if(iy.apply(this,arguments),Kr){if(Kr){var u=$i;Kr=!1,$i=null}else throw Error(B(198));Di||(Di=!0,Ul=u)}}function Vn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Gf(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function dc(e){if(Vn(e)!==e)throw Error(B(188))}function ly(e){var t=e.alternate;if(!t){if(t=Vn(e),t===null)throw Error(B(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return dc(o),e;if(i===r)return dc(o),t;i=i.sibling}throw Error(B(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s){for(l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?e:t}function Qf(e){return e=ly(e),e!==null?Kf(e):null}function Kf(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Kf(e);if(t!==null)return t;e=e.sibling}return null}var Zf=nt.unstable_scheduleCallback,fc=nt.unstable_cancelCallback,ay=nt.unstable_shouldYield,uy=nt.unstable_requestPaint,Me=nt.unstable_now,cy=nt.unstable_getCurrentPriorityLevel,Ya=nt.unstable_ImmediatePriority,qf=nt.unstable_UserBlockingPriority,zi=nt.unstable_NormalPriority,dy=nt.unstable_LowPriority,Jf=nt.unstable_IdlePriority,ys=null,At=null;function fy(e){if(At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(ys,e,void 0,(e.current.flags&128)===128)}catch{}}var Nt=Math.clz32?Math.clz32:my,hy=Math.log,py=Math.LN2;function my(e){return e>>>=0,e===0?32:31-(hy(e)/py|0)|0}var Ko=64,Zo=4194304;function Wr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Oi(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,s=n&268435455;if(s!==0){var l=s&~o;l!==0?r=Wr(l):(i&=s,i!==0&&(r=Wr(i)))}else s=n&~o,s!==0?r=Wr(s):i!==0&&(r=Wr(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,i=t&-t,o>=i||o===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Nt(t),o=1<<n,r|=e[n],t&=~o;return r}function gy(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yy(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-Nt(i),l=1<<s,a=o[s];a===-1?(!(l&n)||l&r)&&(o[s]=gy(l,t)):a<=t&&(e.expiredLanes|=l),i&=~l}}function Wl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function eh(){var e=Ko;return Ko<<=1,!(Ko&4194240)&&(Ko=64),e}function Zs(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ro(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Nt(t),e[t]=n}function xy(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-Nt(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}function Xa(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Nt(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var me=0;function th(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var nh,Ga,rh,oh,ih,Yl=!1,qo=[],ln=null,an=null,un=null,uo=new Map,co=new Map,tn=[],vy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hc(e,t){switch(e){case"focusin":case"focusout":ln=null;break;case"dragenter":case"dragleave":an=null;break;case"mouseover":case"mouseout":un=null;break;case"pointerover":case"pointerout":uo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":co.delete(t.pointerId)}}function Lr(e,t,n,r,o,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},t!==null&&(t=$o(t),t!==null&&Ga(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function wy(e,t,n,r,o){switch(t){case"focusin":return ln=Lr(ln,e,t,n,r,o),!0;case"dragenter":return an=Lr(an,e,t,n,r,o),!0;case"mouseover":return un=Lr(un,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return uo.set(i,Lr(uo.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,co.set(i,Lr(co.get(i)||null,e,t,n,r,o)),!0}return!1}function sh(e){var t=En(e.target);if(t!==null){var n=Vn(t);if(n!==null){if(t=n.tag,t===13){if(t=Gf(n),t!==null){e.blockedOn=t,ih(e.priority,function(){rh(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function wi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Hl=r,n.target.dispatchEvent(r),Hl=null}else return t=$o(n),t!==null&&Ga(t),e.blockedOn=n,!1;t.shift()}return!0}function pc(e,t,n){wi(e)&&n.delete(t)}function _y(){Yl=!1,ln!==null&&wi(ln)&&(ln=null),an!==null&&wi(an)&&(an=null),un!==null&&wi(un)&&(un=null),uo.forEach(pc),co.forEach(pc)}function $r(e,t){e.blockedOn===t&&(e.blockedOn=null,Yl||(Yl=!0,nt.unstable_scheduleCallback(nt.unstable_NormalPriority,_y)))}function fo(e){function t(o){return $r(o,e)}if(0<qo.length){$r(qo[0],e);for(var n=1;n<qo.length;n++){var r=qo[n];r.blockedOn===e&&(r.blockedOn=null)}}for(ln!==null&&$r(ln,e),an!==null&&$r(an,e),un!==null&&$r(un,e),uo.forEach(t),co.forEach(t),n=0;n<tn.length;n++)r=tn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<tn.length&&(n=tn[0],n.blockedOn===null);)sh(n),n.blockedOn===null&&tn.shift()}var ar=Gt.ReactCurrentBatchConfig,Fi=!0;function Sy(e,t,n,r){var o=me,i=ar.transition;ar.transition=null;try{me=1,Qa(e,t,n,r)}finally{me=o,ar.transition=i}}function Ny(e,t,n,r){var o=me,i=ar.transition;ar.transition=null;try{me=4,Qa(e,t,n,r)}finally{me=o,ar.transition=i}}function Qa(e,t,n,r){if(Fi){var o=Xl(e,t,n,r);if(o===null)ll(e,t,r,Hi,n),hc(e,r);else if(wy(o,e,t,n,r))r.stopPropagation();else if(hc(e,r),t&4&&-1<vy.indexOf(e)){for(;o!==null;){var i=$o(o);if(i!==null&&nh(i),i=Xl(e,t,n,r),i===null&&ll(e,t,r,Hi,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else ll(e,t,r,null,n)}}var Hi=null;function Xl(e,t,n,r){if(Hi=null,e=Wa(r),e=En(e),e!==null)if(t=Vn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Gf(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Hi=e,null}function lh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cy()){case Ya:return 1;case qf:return 4;case zi:case dy:return 16;case Jf:return 536870912;default:return 16}default:return 16}}var on=null,Ka=null,_i=null;function ah(){if(_i)return _i;var e,t=Ka,n=t.length,r,o="value"in on?on.value:on.textContent,i=o.length;for(e=0;e<n&&t[e]===o[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===o[i-r];r++);return _i=o.slice(e,1<r?1-r:void 0)}function Si(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Jo(){return!0}function mc(){return!1}function it(e){function t(n,r,o,i,s){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Jo:mc,this.isPropagationStopped=mc,this}return Ce(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Jo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Jo)},persist:function(){},isPersistent:Jo}),t}var Tr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Za=it(Tr),Lo=Ce({},Tr,{view:0,detail:0}),Ey=it(Lo),qs,Js,Dr,xs=Ce({},Lo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qa,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Dr&&(Dr&&e.type==="mousemove"?(qs=e.screenX-Dr.screenX,Js=e.screenY-Dr.screenY):Js=qs=0,Dr=e),qs)},movementY:function(e){return"movementY"in e?e.movementY:Js}}),gc=it(xs),Cy=Ce({},xs,{dataTransfer:0}),ky=it(Cy),My=Ce({},Lo,{relatedTarget:0}),el=it(My),jy=Ce({},Tr,{animationName:0,elapsedTime:0,pseudoElement:0}),Iy=it(jy),Ty=Ce({},Tr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ay=it(Ty),Py=Ce({},Tr,{data:0}),yc=it(Py),by={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ry={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ly={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $y(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ly[e])?!!t[e]:!1}function qa(){return $y}var Dy=Ce({},Lo,{key:function(e){if(e.key){var t=by[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Si(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ry[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qa,charCode:function(e){return e.type==="keypress"?Si(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Si(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),zy=it(Dy),Oy=Ce({},xs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xc=it(Oy),Fy=Ce({},Lo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qa}),Hy=it(Fy),Vy=Ce({},Tr,{propertyName:0,elapsedTime:0,pseudoElement:0}),By=it(Vy),Uy=Ce({},xs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Wy=it(Uy),Yy=[9,13,27,32],Ja=Bt&&"CompositionEvent"in window,Zr=null;Bt&&"documentMode"in document&&(Zr=document.documentMode);var Xy=Bt&&"TextEvent"in window&&!Zr,uh=Bt&&(!Ja||Zr&&8<Zr&&11>=Zr),vc=" ",wc=!1;function ch(e,t){switch(e){case"keyup":return Yy.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Xn=!1;function Gy(e,t){switch(e){case"compositionend":return dh(t);case"keypress":return t.which!==32?null:(wc=!0,vc);case"textInput":return e=t.data,e===vc&&wc?null:e;default:return null}}function Qy(e,t){if(Xn)return e==="compositionend"||!Ja&&ch(e,t)?(e=ah(),_i=Ka=on=null,Xn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return uh&&t.locale!=="ko"?null:t.data;default:return null}}var Ky={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _c(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ky[e.type]:t==="textarea"}function fh(e,t,n,r){Bf(r),t=Vi(t,"onChange"),0<t.length&&(n=new Za("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qr=null,ho=null;function Zy(e){Nh(e,0)}function vs(e){var t=Kn(e);if($f(t))return e}function qy(e,t){if(e==="change")return t}var hh=!1;if(Bt){var tl;if(Bt){var nl="oninput"in document;if(!nl){var Sc=document.createElement("div");Sc.setAttribute("oninput","return;"),nl=typeof Sc.oninput=="function"}tl=nl}else tl=!1;hh=tl&&(!document.documentMode||9<document.documentMode)}function Nc(){qr&&(qr.detachEvent("onpropertychange",ph),ho=qr=null)}function ph(e){if(e.propertyName==="value"&&vs(ho)){var t=[];fh(t,ho,e,Wa(e)),Xf(Zy,t)}}function Jy(e,t,n){e==="focusin"?(Nc(),qr=t,ho=n,qr.attachEvent("onpropertychange",ph)):e==="focusout"&&Nc()}function ex(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return vs(ho)}function tx(e,t){if(e==="click")return vs(t)}function nx(e,t){if(e==="input"||e==="change")return vs(t)}function rx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ct=typeof Object.is=="function"?Object.is:rx;function po(e,t){if(Ct(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Il.call(t,o)||!Ct(e[o],t[o]))return!1}return!0}function Ec(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Cc(e,t){var n=Ec(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ec(n)}}function mh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?mh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function gh(){for(var e=window,t=Li();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Li(e.document)}return t}function eu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ox(e){var t=gh(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&mh(n.ownerDocument.documentElement,n)){if(r!==null&&eu(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=Cc(n,i);var s=Cc(n,r);o&&s&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ix=Bt&&"documentMode"in document&&11>=document.documentMode,Gn=null,Gl=null,Jr=null,Ql=!1;function kc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ql||Gn==null||Gn!==Li(r)||(r=Gn,"selectionStart"in r&&eu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Jr&&po(Jr,r)||(Jr=r,r=Vi(Gl,"onSelect"),0<r.length&&(t=new Za("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Gn)))}function ei(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Qn={animationend:ei("Animation","AnimationEnd"),animationiteration:ei("Animation","AnimationIteration"),animationstart:ei("Animation","AnimationStart"),transitionend:ei("Transition","TransitionEnd")},rl={},yh={};Bt&&(yh=document.createElement("div").style,"AnimationEvent"in window||(delete Qn.animationend.animation,delete Qn.animationiteration.animation,delete Qn.animationstart.animation),"TransitionEvent"in window||delete Qn.transitionend.transition);function ws(e){if(rl[e])return rl[e];if(!Qn[e])return e;var t=Qn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in yh)return rl[e]=t[n];return e}var xh=ws("animationend"),vh=ws("animationiteration"),wh=ws("animationstart"),_h=ws("transitionend"),Sh=new Map,Mc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xn(e,t){Sh.set(e,t),Hn(t,[e])}for(var ol=0;ol<Mc.length;ol++){var il=Mc[ol],sx=il.toLowerCase(),lx=il[0].toUpperCase()+il.slice(1);xn(sx,"on"+lx)}xn(xh,"onAnimationEnd");xn(vh,"onAnimationIteration");xn(wh,"onAnimationStart");xn("dblclick","onDoubleClick");xn("focusin","onFocus");xn("focusout","onBlur");xn(_h,"onTransitionEnd");hr("onMouseEnter",["mouseout","mouseover"]);hr("onMouseLeave",["mouseout","mouseover"]);hr("onPointerEnter",["pointerout","pointerover"]);hr("onPointerLeave",["pointerout","pointerover"]);Hn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Hn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Hn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Hn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Hn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Hn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ax=new Set("cancel close invalid load scroll toggle".split(" ").concat(Yr));function jc(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,sy(r,t,void 0,e),e.currentTarget=null}function Nh(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var l=r[s],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==i&&o.isPropagationStopped())break e;jc(o,l,u),i=a}else for(s=0;s<r.length;s++){if(l=r[s],a=l.instance,u=l.currentTarget,l=l.listener,a!==i&&o.isPropagationStopped())break e;jc(o,l,u),i=a}}}if(Di)throw e=Ul,Di=!1,Ul=null,e}function ye(e,t){var n=t[ea];n===void 0&&(n=t[ea]=new Set);var r=e+"__bubble";n.has(r)||(Eh(t,e,2,!1),n.add(r))}function sl(e,t,n){var r=0;t&&(r|=4),Eh(n,e,r,t)}var ti="_reactListening"+Math.random().toString(36).slice(2);function mo(e){if(!e[ti]){e[ti]=!0,Af.forEach(function(n){n!=="selectionchange"&&(ax.has(n)||sl(n,!1,e),sl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ti]||(t[ti]=!0,sl("selectionchange",!1,t))}}function Eh(e,t,n,r){switch(lh(t)){case 1:var o=Sy;break;case 4:o=Ny;break;default:o=Qa}n=o.bind(null,t,n,e),o=void 0,!Bl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function ll(e,t,n,r,o){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===o||l.nodeType===8&&l.parentNode===o)break;if(s===4)for(s=r.return;s!==null;){var a=s.tag;if((a===3||a===4)&&(a=s.stateNode.containerInfo,a===o||a.nodeType===8&&a.parentNode===o))return;s=s.return}for(;l!==null;){if(s=En(l),s===null)return;if(a=s.tag,a===5||a===6){r=i=s;continue e}l=l.parentNode}}r=r.return}Xf(function(){var u=i,f=Wa(n),c=[];e:{var d=Sh.get(e);if(d!==void 0){var x=Za,g=e;switch(e){case"keypress":if(Si(n)===0)break e;case"keydown":case"keyup":x=zy;break;case"focusin":g="focus",x=el;break;case"focusout":g="blur",x=el;break;case"beforeblur":case"afterblur":x=el;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=gc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=ky;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=Hy;break;case xh:case vh:case wh:x=Iy;break;case _h:x=By;break;case"scroll":x=Ey;break;case"wheel":x=Wy;break;case"copy":case"cut":case"paste":x=Ay;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=xc}var w=(t&4)!==0,_=!w&&e==="scroll",m=w?d!==null?d+"Capture":null:d;w=[];for(var y=u,h;y!==null;){h=y;var v=h.stateNode;if(h.tag===5&&v!==null&&(h=v,m!==null&&(v=ao(y,m),v!=null&&w.push(go(y,v,h)))),_)break;y=y.return}0<w.length&&(d=new x(d,g,null,n,f),c.push({event:d,listeners:w}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",d&&n!==Hl&&(g=n.relatedTarget||n.fromElement)&&(En(g)||g[Ut]))break e;if((x||d)&&(d=f.window===f?f:(d=f.ownerDocument)?d.defaultView||d.parentWindow:window,x?(g=n.relatedTarget||n.toElement,x=u,g=g?En(g):null,g!==null&&(_=Vn(g),g!==_||g.tag!==5&&g.tag!==6)&&(g=null)):(x=null,g=u),x!==g)){if(w=gc,v="onMouseLeave",m="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(w=xc,v="onPointerLeave",m="onPointerEnter",y="pointer"),_=x==null?d:Kn(x),h=g==null?d:Kn(g),d=new w(v,y+"leave",x,n,f),d.target=_,d.relatedTarget=h,v=null,En(f)===u&&(w=new w(m,y+"enter",g,n,f),w.target=h,w.relatedTarget=_,v=w),_=v,x&&g)t:{for(w=x,m=g,y=0,h=w;h;h=Bn(h))y++;for(h=0,v=m;v;v=Bn(v))h++;for(;0<y-h;)w=Bn(w),y--;for(;0<h-y;)m=Bn(m),h--;for(;y--;){if(w===m||m!==null&&w===m.alternate)break t;w=Bn(w),m=Bn(m)}w=null}else w=null;x!==null&&Ic(c,d,x,w,!1),g!==null&&_!==null&&Ic(c,_,g,w,!0)}}e:{if(d=u?Kn(u):window,x=d.nodeName&&d.nodeName.toLowerCase(),x==="select"||x==="input"&&d.type==="file")var S=qy;else if(_c(d))if(hh)S=nx;else{S=ex;var E=Jy}else(x=d.nodeName)&&x.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(S=tx);if(S&&(S=S(e,u))){fh(c,S,n,f);break e}E&&E(e,d,u),e==="focusout"&&(E=d._wrapperState)&&E.controlled&&d.type==="number"&&$l(d,"number",d.value)}switch(E=u?Kn(u):window,e){case"focusin":(_c(E)||E.contentEditable==="true")&&(Gn=E,Gl=u,Jr=null);break;case"focusout":Jr=Gl=Gn=null;break;case"mousedown":Ql=!0;break;case"contextmenu":case"mouseup":case"dragend":Ql=!1,kc(c,n,f);break;case"selectionchange":if(ix)break;case"keydown":case"keyup":kc(c,n,f)}var k;if(Ja)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Xn?ch(e,n)&&(j="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(uh&&n.locale!=="ko"&&(Xn||j!=="onCompositionStart"?j==="onCompositionEnd"&&Xn&&(k=ah()):(on=f,Ka="value"in on?on.value:on.textContent,Xn=!0)),E=Vi(u,j),0<E.length&&(j=new yc(j,e,null,n,f),c.push({event:j,listeners:E}),k?j.data=k:(k=dh(n),k!==null&&(j.data=k)))),(k=Xy?Gy(e,n):Qy(e,n))&&(u=Vi(u,"onBeforeInput"),0<u.length&&(f=new yc("onBeforeInput","beforeinput",null,n,f),c.push({event:f,listeners:u}),f.data=k))}Nh(c,t)})}function go(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Vi(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=ao(e,n),i!=null&&r.unshift(go(e,i,o)),i=ao(e,t),i!=null&&r.push(go(e,i,o))),e=e.return}return r}function Bn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ic(e,t,n,r,o){for(var i=t._reactName,s=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,o?(a=ao(n,i),a!=null&&s.unshift(go(n,a,l))):o||(a=ao(n,i),a!=null&&s.push(go(n,a,l)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var ux=/\r\n?/g,cx=/\u0000|\uFFFD/g;function Tc(e){return(typeof e=="string"?e:""+e).replace(ux,`
`).replace(cx,"")}function ni(e,t,n){if(t=Tc(t),Tc(e)!==t&&n)throw Error(B(425))}function Bi(){}var Kl=null,Zl=null;function ql(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Jl=typeof setTimeout=="function"?setTimeout:void 0,dx=typeof clearTimeout=="function"?clearTimeout:void 0,Ac=typeof Promise=="function"?Promise:void 0,fx=typeof queueMicrotask=="function"?queueMicrotask:typeof Ac<"u"?function(e){return Ac.resolve(null).then(e).catch(hx)}:Jl;function hx(e){setTimeout(function(){throw e})}function al(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),fo(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);fo(t)}function cn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Pc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ar=Math.random().toString(36).slice(2),Tt="__reactFiber$"+Ar,yo="__reactProps$"+Ar,Ut="__reactContainer$"+Ar,ea="__reactEvents$"+Ar,px="__reactListeners$"+Ar,mx="__reactHandles$"+Ar;function En(e){var t=e[Tt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ut]||n[Tt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Pc(e);e!==null;){if(n=e[Tt])return n;e=Pc(e)}return t}e=n,n=e.parentNode}return null}function $o(e){return e=e[Tt]||e[Ut],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Kn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(B(33))}function _s(e){return e[yo]||null}var ta=[],Zn=-1;function vn(e){return{current:e}}function xe(e){0>Zn||(e.current=ta[Zn],ta[Zn]=null,Zn--)}function ge(e,t){Zn++,ta[Zn]=e.current,e.current=t}var yn={},Fe=vn(yn),Qe=vn(!1),Pn=yn;function pr(e,t){var n=e.type.contextTypes;if(!n)return yn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ke(e){return e=e.childContextTypes,e!=null}function Ui(){xe(Qe),xe(Fe)}function bc(e,t,n){if(Fe.current!==yn)throw Error(B(168));ge(Fe,t),ge(Qe,n)}function Ch(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(B(108,J0(e)||"Unknown",o));return Ce({},n,r)}function Wi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||yn,Pn=Fe.current,ge(Fe,e),ge(Qe,Qe.current),!0}function Rc(e,t,n){var r=e.stateNode;if(!r)throw Error(B(169));n?(e=Ch(e,t,Pn),r.__reactInternalMemoizedMergedChildContext=e,xe(Qe),xe(Fe),ge(Fe,e)):xe(Qe),ge(Qe,n)}var zt=null,Ss=!1,ul=!1;function kh(e){zt===null?zt=[e]:zt.push(e)}function gx(e){Ss=!0,kh(e)}function wn(){if(!ul&&zt!==null){ul=!0;var e=0,t=me;try{var n=zt;for(me=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}zt=null,Ss=!1}catch(o){throw zt!==null&&(zt=zt.slice(e+1)),Zf(Ya,wn),o}finally{me=t,ul=!1}}return null}var qn=[],Jn=0,Yi=null,Xi=0,at=[],ut=0,bn=null,Ot=1,Ft="";function _n(e,t){qn[Jn++]=Xi,qn[Jn++]=Yi,Yi=e,Xi=t}function Mh(e,t,n){at[ut++]=Ot,at[ut++]=Ft,at[ut++]=bn,bn=e;var r=Ot;e=Ft;var o=32-Nt(r)-1;r&=~(1<<o),n+=1;var i=32-Nt(t)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,Ot=1<<32-Nt(t)+o|n<<o|r,Ft=i+e}else Ot=1<<i|n<<o|r,Ft=e}function tu(e){e.return!==null&&(_n(e,1),Mh(e,1,0))}function nu(e){for(;e===Yi;)Yi=qn[--Jn],qn[Jn]=null,Xi=qn[--Jn],qn[Jn]=null;for(;e===bn;)bn=at[--ut],at[ut]=null,Ft=at[--ut],at[ut]=null,Ot=at[--ut],at[ut]=null}var tt=null,et=null,we=!1,vt=null;function jh(e,t){var n=ct(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Lc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,tt=e,et=cn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,tt=e,et=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=bn!==null?{id:Ot,overflow:Ft}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ct(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,tt=e,et=null,!0):!1;default:return!1}}function na(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ra(e){if(we){var t=et;if(t){var n=t;if(!Lc(e,t)){if(na(e))throw Error(B(418));t=cn(n.nextSibling);var r=tt;t&&Lc(e,t)?jh(r,n):(e.flags=e.flags&-4097|2,we=!1,tt=e)}}else{if(na(e))throw Error(B(418));e.flags=e.flags&-4097|2,we=!1,tt=e}}}function $c(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;tt=e}function ri(e){if(e!==tt)return!1;if(!we)return $c(e),we=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ql(e.type,e.memoizedProps)),t&&(t=et)){if(na(e))throw Ih(),Error(B(418));for(;t;)jh(e,t),t=cn(t.nextSibling)}if($c(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(B(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){et=cn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}et=null}}else et=tt?cn(e.stateNode.nextSibling):null;return!0}function Ih(){for(var e=et;e;)e=cn(e.nextSibling)}function mr(){et=tt=null,we=!1}function ru(e){vt===null?vt=[e]:vt.push(e)}var yx=Gt.ReactCurrentBatchConfig;function zr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,e));var o=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var l=o.refs;s===null?delete l[i]:l[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,e))}return e}function oi(e,t){throw e=Object.prototype.toString.call(t),Error(B(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Dc(e){var t=e._init;return t(e._payload)}function Th(e){function t(m,y){if(e){var h=m.deletions;h===null?(m.deletions=[y],m.flags|=16):h.push(y)}}function n(m,y){if(!e)return null;for(;y!==null;)t(m,y),y=y.sibling;return null}function r(m,y){for(m=new Map;y!==null;)y.key!==null?m.set(y.key,y):m.set(y.index,y),y=y.sibling;return m}function o(m,y){return m=pn(m,y),m.index=0,m.sibling=null,m}function i(m,y,h){return m.index=h,e?(h=m.alternate,h!==null?(h=h.index,h<y?(m.flags|=2,y):h):(m.flags|=2,y)):(m.flags|=1048576,y)}function s(m){return e&&m.alternate===null&&(m.flags|=2),m}function l(m,y,h,v){return y===null||y.tag!==6?(y=gl(h,m.mode,v),y.return=m,y):(y=o(y,h),y.return=m,y)}function a(m,y,h,v){var S=h.type;return S===Yn?f(m,y,h.props.children,v,h.key):y!==null&&(y.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Jt&&Dc(S)===y.type)?(v=o(y,h.props),v.ref=zr(m,y,h),v.return=m,v):(v=Ii(h.type,h.key,h.props,null,m.mode,v),v.ref=zr(m,y,h),v.return=m,v)}function u(m,y,h,v){return y===null||y.tag!==4||y.stateNode.containerInfo!==h.containerInfo||y.stateNode.implementation!==h.implementation?(y=yl(h,m.mode,v),y.return=m,y):(y=o(y,h.children||[]),y.return=m,y)}function f(m,y,h,v,S){return y===null||y.tag!==7?(y=In(h,m.mode,v,S),y.return=m,y):(y=o(y,h),y.return=m,y)}function c(m,y,h){if(typeof y=="string"&&y!==""||typeof y=="number")return y=gl(""+y,m.mode,h),y.return=m,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Xo:return h=Ii(y.type,y.key,y.props,null,m.mode,h),h.ref=zr(m,null,y),h.return=m,h;case Wn:return y=yl(y,m.mode,h),y.return=m,y;case Jt:var v=y._init;return c(m,v(y._payload),h)}if(Ur(y)||br(y))return y=In(y,m.mode,h,null),y.return=m,y;oi(m,y)}return null}function d(m,y,h,v){var S=y!==null?y.key:null;if(typeof h=="string"&&h!==""||typeof h=="number")return S!==null?null:l(m,y,""+h,v);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Xo:return h.key===S?a(m,y,h,v):null;case Wn:return h.key===S?u(m,y,h,v):null;case Jt:return S=h._init,d(m,y,S(h._payload),v)}if(Ur(h)||br(h))return S!==null?null:f(m,y,h,v,null);oi(m,h)}return null}function x(m,y,h,v,S){if(typeof v=="string"&&v!==""||typeof v=="number")return m=m.get(h)||null,l(y,m,""+v,S);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Xo:return m=m.get(v.key===null?h:v.key)||null,a(y,m,v,S);case Wn:return m=m.get(v.key===null?h:v.key)||null,u(y,m,v,S);case Jt:var E=v._init;return x(m,y,h,E(v._payload),S)}if(Ur(v)||br(v))return m=m.get(h)||null,f(y,m,v,S,null);oi(y,v)}return null}function g(m,y,h,v){for(var S=null,E=null,k=y,j=y=0,A=null;k!==null&&j<h.length;j++){k.index>j?(A=k,k=null):A=k.sibling;var z=d(m,k,h[j],v);if(z===null){k===null&&(k=A);break}e&&k&&z.alternate===null&&t(m,k),y=i(z,y,j),E===null?S=z:E.sibling=z,E=z,k=A}if(j===h.length)return n(m,k),we&&_n(m,j),S;if(k===null){for(;j<h.length;j++)k=c(m,h[j],v),k!==null&&(y=i(k,y,j),E===null?S=k:E.sibling=k,E=k);return we&&_n(m,j),S}for(k=r(m,k);j<h.length;j++)A=x(k,m,j,h[j],v),A!==null&&(e&&A.alternate!==null&&k.delete(A.key===null?j:A.key),y=i(A,y,j),E===null?S=A:E.sibling=A,E=A);return e&&k.forEach(function(T){return t(m,T)}),we&&_n(m,j),S}function w(m,y,h,v){var S=br(h);if(typeof S!="function")throw Error(B(150));if(h=S.call(h),h==null)throw Error(B(151));for(var E=S=null,k=y,j=y=0,A=null,z=h.next();k!==null&&!z.done;j++,z=h.next()){k.index>j?(A=k,k=null):A=k.sibling;var T=d(m,k,z.value,v);if(T===null){k===null&&(k=A);break}e&&k&&T.alternate===null&&t(m,k),y=i(T,y,j),E===null?S=T:E.sibling=T,E=T,k=A}if(z.done)return n(m,k),we&&_n(m,j),S;if(k===null){for(;!z.done;j++,z=h.next())z=c(m,z.value,v),z!==null&&(y=i(z,y,j),E===null?S=z:E.sibling=z,E=z);return we&&_n(m,j),S}for(k=r(m,k);!z.done;j++,z=h.next())z=x(k,m,j,z.value,v),z!==null&&(e&&z.alternate!==null&&k.delete(z.key===null?j:z.key),y=i(z,y,j),E===null?S=z:E.sibling=z,E=z);return e&&k.forEach(function(L){return t(m,L)}),we&&_n(m,j),S}function _(m,y,h,v){if(typeof h=="object"&&h!==null&&h.type===Yn&&h.key===null&&(h=h.props.children),typeof h=="object"&&h!==null){switch(h.$$typeof){case Xo:e:{for(var S=h.key,E=y;E!==null;){if(E.key===S){if(S=h.type,S===Yn){if(E.tag===7){n(m,E.sibling),y=o(E,h.props.children),y.return=m,m=y;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Jt&&Dc(S)===E.type){n(m,E.sibling),y=o(E,h.props),y.ref=zr(m,E,h),y.return=m,m=y;break e}n(m,E);break}else t(m,E);E=E.sibling}h.type===Yn?(y=In(h.props.children,m.mode,v,h.key),y.return=m,m=y):(v=Ii(h.type,h.key,h.props,null,m.mode,v),v.ref=zr(m,y,h),v.return=m,m=v)}return s(m);case Wn:e:{for(E=h.key;y!==null;){if(y.key===E)if(y.tag===4&&y.stateNode.containerInfo===h.containerInfo&&y.stateNode.implementation===h.implementation){n(m,y.sibling),y=o(y,h.children||[]),y.return=m,m=y;break e}else{n(m,y);break}else t(m,y);y=y.sibling}y=yl(h,m.mode,v),y.return=m,m=y}return s(m);case Jt:return E=h._init,_(m,y,E(h._payload),v)}if(Ur(h))return g(m,y,h,v);if(br(h))return w(m,y,h,v);oi(m,h)}return typeof h=="string"&&h!==""||typeof h=="number"?(h=""+h,y!==null&&y.tag===6?(n(m,y.sibling),y=o(y,h),y.return=m,m=y):(n(m,y),y=gl(h,m.mode,v),y.return=m,m=y),s(m)):n(m,y)}return _}var gr=Th(!0),Ah=Th(!1),Gi=vn(null),Qi=null,er=null,ou=null;function iu(){ou=er=Qi=null}function su(e){var t=Gi.current;xe(Gi),e._currentValue=t}function oa(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ur(e,t){Qi=e,ou=er=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Xe=!0),e.firstContext=null)}function ft(e){var t=e._currentValue;if(ou!==e)if(e={context:e,memoizedValue:t,next:null},er===null){if(Qi===null)throw Error(B(308));er=e,Qi.dependencies={lanes:0,firstContext:e}}else er=er.next=e;return t}var Cn=null;function lu(e){Cn===null?Cn=[e]:Cn.push(e)}function Ph(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,lu(t)):(n.next=o.next,o.next=n),t.interleaved=n,Wt(e,r)}function Wt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var en=!1;function au(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Vt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function dn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,pe&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Wt(e,n)}return o=r.interleaved,o===null?(t.next=t,lu(r)):(t.next=o.next,o.next=t),r.interleaved=t,Wt(e,n)}function Ni(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Xa(e,n)}}function zc(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?o=i=t:i=i.next=t}else o=i=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ki(e,t,n,r){var o=e.updateQueue;en=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,l=o.shared.pending;if(l!==null){o.shared.pending=null;var a=l,u=a.next;a.next=null,s===null?i=u:s.next=u,s=a;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==s&&(l===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=a))}if(i!==null){var c=o.baseState;s=0,f=u=a=null,l=i;do{var d=l.lane,x=l.eventTime;if((r&d)===d){f!==null&&(f=f.next={eventTime:x,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,w=l;switch(d=t,x=n,w.tag){case 1:if(g=w.payload,typeof g=="function"){c=g.call(x,c,d);break e}c=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=w.payload,d=typeof g=="function"?g.call(x,c,d):g,d==null)break e;c=Ce({},c,d);break e;case 2:en=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,d=o.effects,d===null?o.effects=[l]:d.push(l))}else x={eventTime:x,lane:d,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(u=f=x,a=c):f=f.next=x,s|=d;if(l=l.next,l===null){if(l=o.shared.pending,l===null)break;d=l,l=d.next,d.next=null,o.lastBaseUpdate=d,o.shared.pending=null}}while(!0);if(f===null&&(a=c),o.baseState=a,o.firstBaseUpdate=u,o.lastBaseUpdate=f,t=o.shared.interleaved,t!==null){o=t;do s|=o.lane,o=o.next;while(o!==t)}else i===null&&(o.shared.lanes=0);Ln|=s,e.lanes=s,e.memoizedState=c}}function Oc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(B(191,o));o.call(r)}}}var Do={},Pt=vn(Do),xo=vn(Do),vo=vn(Do);function kn(e){if(e===Do)throw Error(B(174));return e}function uu(e,t){switch(ge(vo,t),ge(xo,e),ge(Pt,Do),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:zl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=zl(t,e)}xe(Pt),ge(Pt,t)}function yr(){xe(Pt),xe(xo),xe(vo)}function Rh(e){kn(vo.current);var t=kn(Pt.current),n=zl(t,e.type);t!==n&&(ge(xo,e),ge(Pt,n))}function cu(e){xo.current===e&&(xe(Pt),xe(xo))}var Ne=vn(0);function Zi(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var cl=[];function du(){for(var e=0;e<cl.length;e++)cl[e]._workInProgressVersionPrimary=null;cl.length=0}var Ei=Gt.ReactCurrentDispatcher,dl=Gt.ReactCurrentBatchConfig,Rn=0,Ee=null,Te=null,Pe=null,qi=!1,eo=!1,wo=0,xx=0;function De(){throw Error(B(321))}function fu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ct(e[n],t[n]))return!1;return!0}function hu(e,t,n,r,o,i){if(Rn=i,Ee=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ei.current=e===null||e.memoizedState===null?Sx:Nx,e=n(r,o),eo){i=0;do{if(eo=!1,wo=0,25<=i)throw Error(B(301));i+=1,Pe=Te=null,t.updateQueue=null,Ei.current=Ex,e=n(r,o)}while(eo)}if(Ei.current=Ji,t=Te!==null&&Te.next!==null,Rn=0,Pe=Te=Ee=null,qi=!1,t)throw Error(B(300));return e}function pu(){var e=wo!==0;return wo=0,e}function jt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pe===null?Ee.memoizedState=Pe=e:Pe=Pe.next=e,Pe}function ht(){if(Te===null){var e=Ee.alternate;e=e!==null?e.memoizedState:null}else e=Te.next;var t=Pe===null?Ee.memoizedState:Pe.next;if(t!==null)Pe=t,Te=e;else{if(e===null)throw Error(B(310));Te=e,e={memoizedState:Te.memoizedState,baseState:Te.baseState,baseQueue:Te.baseQueue,queue:Te.queue,next:null},Pe===null?Ee.memoizedState=Pe=e:Pe=Pe.next=e}return Pe}function _o(e,t){return typeof t=="function"?t(e):t}function fl(e){var t=ht(),n=t.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=e;var r=Te,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var l=s=null,a=null,u=i;do{var f=u.lane;if((Rn&f)===f)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var c={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=c,s=r):a=a.next=c,Ee.lanes|=f,Ln|=f}u=u.next}while(u!==null&&u!==i);a===null?s=r:a.next=l,Ct(r,t.memoizedState)||(Xe=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do i=o.lane,Ee.lanes|=i,Ln|=i,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function hl(e){var t=ht(),n=t.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(o!==null){n.pending=null;var s=o=o.next;do i=e(i,s.action),s=s.next;while(s!==o);Ct(i,t.memoizedState)||(Xe=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Lh(){}function $h(e,t){var n=Ee,r=ht(),o=t(),i=!Ct(r.memoizedState,o);if(i&&(r.memoizedState=o,Xe=!0),r=r.queue,mu(Oh.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Pe!==null&&Pe.memoizedState.tag&1){if(n.flags|=2048,So(9,zh.bind(null,n,r,o,t),void 0,null),be===null)throw Error(B(349));Rn&30||Dh(n,t,o)}return o}function Dh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ee.updateQueue,t===null?(t={lastEffect:null,stores:null},Ee.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function zh(e,t,n,r){t.value=n,t.getSnapshot=r,Fh(t)&&Hh(e)}function Oh(e,t,n){return n(function(){Fh(t)&&Hh(e)})}function Fh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ct(e,n)}catch{return!0}}function Hh(e){var t=Wt(e,1);t!==null&&Et(t,e,1,-1)}function Fc(e){var t=jt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_o,lastRenderedState:e},t.queue=e,e=e.dispatch=_x.bind(null,Ee,e),[t.memoizedState,e]}function So(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ee.updateQueue,t===null?(t={lastEffect:null,stores:null},Ee.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Vh(){return ht().memoizedState}function Ci(e,t,n,r){var o=jt();Ee.flags|=e,o.memoizedState=So(1|t,n,void 0,r===void 0?null:r)}function Ns(e,t,n,r){var o=ht();r=r===void 0?null:r;var i=void 0;if(Te!==null){var s=Te.memoizedState;if(i=s.destroy,r!==null&&fu(r,s.deps)){o.memoizedState=So(t,n,i,r);return}}Ee.flags|=e,o.memoizedState=So(1|t,n,i,r)}function Hc(e,t){return Ci(8390656,8,e,t)}function mu(e,t){return Ns(2048,8,e,t)}function Bh(e,t){return Ns(4,2,e,t)}function Uh(e,t){return Ns(4,4,e,t)}function Wh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Yh(e,t,n){return n=n!=null?n.concat([e]):null,Ns(4,4,Wh.bind(null,t,e),n)}function gu(){}function Xh(e,t){var n=ht();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&fu(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Gh(e,t){var n=ht();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&fu(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Qh(e,t,n){return Rn&21?(Ct(n,t)||(n=eh(),Ee.lanes|=n,Ln|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Xe=!0),e.memoizedState=n)}function vx(e,t){var n=me;me=n!==0&&4>n?n:4,e(!0);var r=dl.transition;dl.transition={};try{e(!1),t()}finally{me=n,dl.transition=r}}function Kh(){return ht().memoizedState}function wx(e,t,n){var r=hn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Zh(e))qh(t,n);else if(n=Ph(e,t,n,r),n!==null){var o=Be();Et(n,e,r,o),Jh(n,t,r)}}function _x(e,t,n){var r=hn(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Zh(e))qh(t,o);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,l=i(s,n);if(o.hasEagerState=!0,o.eagerState=l,Ct(l,s)){var a=t.interleaved;a===null?(o.next=o,lu(t)):(o.next=a.next,a.next=o),t.interleaved=o;return}}catch{}finally{}n=Ph(e,t,o,r),n!==null&&(o=Be(),Et(n,e,r,o),Jh(n,t,r))}}function Zh(e){var t=e.alternate;return e===Ee||t!==null&&t===Ee}function qh(e,t){eo=qi=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Jh(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Xa(e,n)}}var Ji={readContext:ft,useCallback:De,useContext:De,useEffect:De,useImperativeHandle:De,useInsertionEffect:De,useLayoutEffect:De,useMemo:De,useReducer:De,useRef:De,useState:De,useDebugValue:De,useDeferredValue:De,useTransition:De,useMutableSource:De,useSyncExternalStore:De,useId:De,unstable_isNewReconciler:!1},Sx={readContext:ft,useCallback:function(e,t){return jt().memoizedState=[e,t===void 0?null:t],e},useContext:ft,useEffect:Hc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ci(4194308,4,Wh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ci(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ci(4,2,e,t)},useMemo:function(e,t){var n=jt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=jt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=wx.bind(null,Ee,e),[r.memoizedState,e]},useRef:function(e){var t=jt();return e={current:e},t.memoizedState=e},useState:Fc,useDebugValue:gu,useDeferredValue:function(e){return jt().memoizedState=e},useTransition:function(){var e=Fc(!1),t=e[0];return e=vx.bind(null,e[1]),jt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ee,o=jt();if(we){if(n===void 0)throw Error(B(407));n=n()}else{if(n=t(),be===null)throw Error(B(349));Rn&30||Dh(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,Hc(Oh.bind(null,r,i,e),[e]),r.flags|=2048,So(9,zh.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=jt(),t=be.identifierPrefix;if(we){var n=Ft,r=Ot;n=(r&~(1<<32-Nt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=wo++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=xx++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Nx={readContext:ft,useCallback:Xh,useContext:ft,useEffect:mu,useImperativeHandle:Yh,useInsertionEffect:Bh,useLayoutEffect:Uh,useMemo:Gh,useReducer:fl,useRef:Vh,useState:function(){return fl(_o)},useDebugValue:gu,useDeferredValue:function(e){var t=ht();return Qh(t,Te.memoizedState,e)},useTransition:function(){var e=fl(_o)[0],t=ht().memoizedState;return[e,t]},useMutableSource:Lh,useSyncExternalStore:$h,useId:Kh,unstable_isNewReconciler:!1},Ex={readContext:ft,useCallback:Xh,useContext:ft,useEffect:mu,useImperativeHandle:Yh,useInsertionEffect:Bh,useLayoutEffect:Uh,useMemo:Gh,useReducer:hl,useRef:Vh,useState:function(){return hl(_o)},useDebugValue:gu,useDeferredValue:function(e){var t=ht();return Te===null?t.memoizedState=e:Qh(t,Te.memoizedState,e)},useTransition:function(){var e=hl(_o)[0],t=ht().memoizedState;return[e,t]},useMutableSource:Lh,useSyncExternalStore:$h,useId:Kh,unstable_isNewReconciler:!1};function gt(e,t){if(e&&e.defaultProps){t=Ce({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ia(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ce({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Es={isMounted:function(e){return(e=e._reactInternals)?Vn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Be(),o=hn(e),i=Vt(r,o);i.payload=t,n!=null&&(i.callback=n),t=dn(e,i,o),t!==null&&(Et(t,e,o,r),Ni(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Be(),o=hn(e),i=Vt(r,o);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=dn(e,i,o),t!==null&&(Et(t,e,o,r),Ni(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Be(),r=hn(e),o=Vt(n,r);o.tag=2,t!=null&&(o.callback=t),t=dn(e,o,r),t!==null&&(Et(t,e,r,n),Ni(t,e,r))}};function Vc(e,t,n,r,o,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,s):t.prototype&&t.prototype.isPureReactComponent?!po(n,r)||!po(o,i):!0}function ep(e,t,n){var r=!1,o=yn,i=t.contextType;return typeof i=="object"&&i!==null?i=ft(i):(o=Ke(t)?Pn:Fe.current,r=t.contextTypes,i=(r=r!=null)?pr(e,o):yn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Es,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function Bc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Es.enqueueReplaceState(t,t.state,null)}function sa(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},au(e);var i=t.contextType;typeof i=="object"&&i!==null?o.context=ft(i):(i=Ke(t)?Pn:Fe.current,o.context=pr(e,i)),o.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(ia(e,t,i,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Es.enqueueReplaceState(o,o.state,null),Ki(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function xr(e,t){try{var n="",r=t;do n+=q0(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:o,digest:null}}function pl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function la(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Cx=typeof WeakMap=="function"?WeakMap:Map;function tp(e,t,n){n=Vt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ts||(ts=!0,ya=r),la(e,t)},n}function np(e,t,n){n=Vt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){la(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){la(e,t),typeof r!="function"&&(fn===null?fn=new Set([this]):fn.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function Uc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Cx;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=Ox.bind(null,e,t,n),t.then(e,e))}function Wc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Yc(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Vt(-1,1),t.tag=2,dn(n,t,1))),n.lanes|=1),e)}var kx=Gt.ReactCurrentOwner,Xe=!1;function He(e,t,n,r){t.child=e===null?Ah(t,null,n,r):gr(t,e.child,n,r)}function Xc(e,t,n,r,o){n=n.render;var i=t.ref;return ur(t,o),r=hu(e,t,n,r,i,o),n=pu(),e!==null&&!Xe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Yt(e,t,o)):(we&&n&&tu(t),t.flags|=1,He(e,t,r,o),t.child)}function Gc(e,t,n,r,o){if(e===null){var i=n.type;return typeof i=="function"&&!Eu(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,rp(e,t,i,r,o)):(e=Ii(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&o)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:po,n(s,r)&&e.ref===t.ref)return Yt(e,t,o)}return t.flags|=1,e=pn(i,r),e.ref=t.ref,e.return=t,t.child=e}function rp(e,t,n,r,o){if(e!==null){var i=e.memoizedProps;if(po(i,r)&&e.ref===t.ref)if(Xe=!1,t.pendingProps=r=i,(e.lanes&o)!==0)e.flags&131072&&(Xe=!0);else return t.lanes=e.lanes,Yt(e,t,o)}return aa(e,t,n,r,o)}function op(e,t,n){var r=t.pendingProps,o=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ge(nr,qe),qe|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ge(nr,qe),qe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ge(nr,qe),qe|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,ge(nr,qe),qe|=r;return He(e,t,o,n),t.child}function ip(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function aa(e,t,n,r,o){var i=Ke(n)?Pn:Fe.current;return i=pr(t,i),ur(t,o),n=hu(e,t,n,r,i,o),r=pu(),e!==null&&!Xe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Yt(e,t,o)):(we&&r&&tu(t),t.flags|=1,He(e,t,n,o),t.child)}function Qc(e,t,n,r,o){if(Ke(n)){var i=!0;Wi(t)}else i=!1;if(ur(t,o),t.stateNode===null)ki(e,t),ep(t,n,r),sa(t,n,r,o),r=!0;else if(e===null){var s=t.stateNode,l=t.memoizedProps;s.props=l;var a=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=ft(u):(u=Ke(n)?Pn:Fe.current,u=pr(t,u));var f=n.getDerivedStateFromProps,c=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function";c||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==r||a!==u)&&Bc(t,s,r,u),en=!1;var d=t.memoizedState;s.state=d,Ki(t,r,s,o),a=t.memoizedState,l!==r||d!==a||Qe.current||en?(typeof f=="function"&&(ia(t,n,f,r),a=t.memoizedState),(l=en||Vc(t,n,l,r,d,a,u))?(c||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),s.props=r,s.state=a,s.context=u,r=l):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,bh(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:gt(t.type,l),s.props=u,c=t.pendingProps,d=s.context,a=n.contextType,typeof a=="object"&&a!==null?a=ft(a):(a=Ke(n)?Pn:Fe.current,a=pr(t,a));var x=n.getDerivedStateFromProps;(f=typeof x=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==c||d!==a)&&Bc(t,s,r,a),en=!1,d=t.memoizedState,s.state=d,Ki(t,r,s,o);var g=t.memoizedState;l!==c||d!==g||Qe.current||en?(typeof x=="function"&&(ia(t,n,x,r),g=t.memoizedState),(u=en||Vc(t,n,u,r,d,g,a)||!1)?(f||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,g,a),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,g,a)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),s.props=r,s.state=g,s.context=a,r=u):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return ua(e,t,n,r,i,o)}function ua(e,t,n,r,o,i){ip(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return o&&Rc(t,n,!1),Yt(e,t,i);r=t.stateNode,kx.current=t;var l=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=gr(t,e.child,null,i),t.child=gr(t,null,l,i)):He(e,t,l,i),t.memoizedState=r.state,o&&Rc(t,n,!0),t.child}function sp(e){var t=e.stateNode;t.pendingContext?bc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&bc(e,t.context,!1),uu(e,t.containerInfo)}function Kc(e,t,n,r,o){return mr(),ru(o),t.flags|=256,He(e,t,n,r),t.child}var ca={dehydrated:null,treeContext:null,retryLane:0};function da(e){return{baseLanes:e,cachePool:null,transitions:null}}function lp(e,t,n){var r=t.pendingProps,o=Ne.current,i=!1,s=(t.flags&128)!==0,l;if((l=s)||(l=e!==null&&e.memoizedState===null?!1:(o&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),ge(Ne,o&1),e===null)return ra(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,i?(r=t.mode,i=t.child,s={mode:"hidden",children:s},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=Ms(s,r,0,null),e=In(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=da(n),t.memoizedState=ca,e):yu(t,s));if(o=e.memoizedState,o!==null&&(l=o.dehydrated,l!==null))return Mx(e,t,s,r,l,o,n);if(i){i=r.fallback,s=t.mode,o=e.child,l=o.sibling;var a={mode:"hidden",children:r.children};return!(s&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=pn(o,a),r.subtreeFlags=o.subtreeFlags&14680064),l!==null?i=pn(l,i):(i=In(i,s,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,s=e.child.memoizedState,s=s===null?da(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~n,t.memoizedState=ca,r}return i=e.child,e=i.sibling,r=pn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function yu(e,t){return t=Ms({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ii(e,t,n,r){return r!==null&&ru(r),gr(t,e.child,null,n),e=yu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Mx(e,t,n,r,o,i,s){if(n)return t.flags&256?(t.flags&=-257,r=pl(Error(B(422))),ii(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,o=t.mode,r=Ms({mode:"visible",children:r.children},o,0,null),i=In(i,o,s,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&gr(t,e.child,null,s),t.child.memoizedState=da(s),t.memoizedState=ca,i);if(!(t.mode&1))return ii(e,t,s,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(B(419)),r=pl(i,r,void 0),ii(e,t,s,r)}if(l=(s&e.childLanes)!==0,Xe||l){if(r=be,r!==null){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|s)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,Wt(e,o),Et(r,e,o,-1))}return Nu(),r=pl(Error(B(421))),ii(e,t,s,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=Fx.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,et=cn(o.nextSibling),tt=t,we=!0,vt=null,e!==null&&(at[ut++]=Ot,at[ut++]=Ft,at[ut++]=bn,Ot=e.id,Ft=e.overflow,bn=t),t=yu(t,r.children),t.flags|=4096,t)}function Zc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),oa(e.return,t,n)}function ml(e,t,n,r,o){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function ap(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(He(e,t,r.children,n),r=Ne.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Zc(e,n,t);else if(e.tag===19)Zc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ge(Ne,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Zi(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),ml(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Zi(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}ml(t,!0,n,null,i);break;case"together":ml(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ki(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Yt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ln|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(B(153));if(t.child!==null){for(e=t.child,n=pn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=pn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function jx(e,t,n){switch(t.tag){case 3:sp(t),mr();break;case 5:Rh(t);break;case 1:Ke(t.type)&&Wi(t);break;case 4:uu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;ge(Gi,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ge(Ne,Ne.current&1),t.flags|=128,null):n&t.child.childLanes?lp(e,t,n):(ge(Ne,Ne.current&1),e=Yt(e,t,n),e!==null?e.sibling:null);ge(Ne,Ne.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return ap(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),ge(Ne,Ne.current),r)break;return null;case 22:case 23:return t.lanes=0,op(e,t,n)}return Yt(e,t,n)}var up,fa,cp,dp;up=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};fa=function(){};cp=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,kn(Pt.current);var i=null;switch(n){case"input":o=Rl(e,o),r=Rl(e,r),i=[];break;case"select":o=Ce({},o,{value:void 0}),r=Ce({},r,{value:void 0}),i=[];break;case"textarea":o=Dl(e,o),r=Dl(e,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Bi)}Ol(n,r);var s;n=null;for(u in o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var l=o[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(so.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var a=r[u];if(l=o!=null?o[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(s in l)!l.hasOwnProperty(s)||a&&a.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in a)a.hasOwnProperty(s)&&l[s]!==a[s]&&(n||(n={}),n[s]=a[s])}else n||(i||(i=[]),i.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(i=i||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(so.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&ye("scroll",e),i||l===a||(i=[])):(i=i||[]).push(u,a))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};dp=function(e,t,n,r){n!==r&&(t.flags|=4)};function Or(e,t){if(!we)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ze(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ix(e,t,n){var r=t.pendingProps;switch(nu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(t),null;case 1:return Ke(t.type)&&Ui(),ze(t),null;case 3:return r=t.stateNode,yr(),xe(Qe),xe(Fe),du(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ri(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,vt!==null&&(wa(vt),vt=null))),fa(e,t),ze(t),null;case 5:cu(t);var o=kn(vo.current);if(n=t.type,e!==null&&t.stateNode!=null)cp(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(B(166));return ze(t),null}if(e=kn(Pt.current),ri(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Tt]=t,r[yo]=i,e=(t.mode&1)!==0,n){case"dialog":ye("cancel",r),ye("close",r);break;case"iframe":case"object":case"embed":ye("load",r);break;case"video":case"audio":for(o=0;o<Yr.length;o++)ye(Yr[o],r);break;case"source":ye("error",r);break;case"img":case"image":case"link":ye("error",r),ye("load",r);break;case"details":ye("toggle",r);break;case"input":sc(r,i),ye("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ye("invalid",r);break;case"textarea":ac(r,i),ye("invalid",r)}Ol(n,i),o=null;for(var s in i)if(i.hasOwnProperty(s)){var l=i[s];s==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&ni(r.textContent,l,e),o=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&ni(r.textContent,l,e),o=["children",""+l]):so.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&ye("scroll",r)}switch(n){case"input":Go(r),lc(r,i,!0);break;case"textarea":Go(r),uc(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Bi)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Of(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Tt]=t,e[yo]=r,up(e,t,!1,!1),t.stateNode=e;e:{switch(s=Fl(n,r),n){case"dialog":ye("cancel",e),ye("close",e),o=r;break;case"iframe":case"object":case"embed":ye("load",e),o=r;break;case"video":case"audio":for(o=0;o<Yr.length;o++)ye(Yr[o],e);o=r;break;case"source":ye("error",e),o=r;break;case"img":case"image":case"link":ye("error",e),ye("load",e),o=r;break;case"details":ye("toggle",e),o=r;break;case"input":sc(e,r),o=Rl(e,r),ye("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=Ce({},r,{value:void 0}),ye("invalid",e);break;case"textarea":ac(e,r),o=Dl(e,r),ye("invalid",e);break;default:o=r}Ol(n,o),l=o;for(i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="style"?Vf(e,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Ff(e,a)):i==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&lo(e,a):typeof a=="number"&&lo(e,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(so.hasOwnProperty(i)?a!=null&&i==="onScroll"&&ye("scroll",e):a!=null&&Ha(e,i,a,s))}switch(n){case"input":Go(e),lc(e,r,!1);break;case"textarea":Go(e),uc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+gn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?ir(e,!!r.multiple,i,!1):r.defaultValue!=null&&ir(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Bi)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ze(t),null;case 6:if(e&&t.stateNode!=null)dp(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(B(166));if(n=kn(vo.current),kn(Pt.current),ri(t)){if(r=t.stateNode,n=t.memoizedProps,r[Tt]=t,(i=r.nodeValue!==n)&&(e=tt,e!==null))switch(e.tag){case 3:ni(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ni(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Tt]=t,t.stateNode=r}return ze(t),null;case 13:if(xe(Ne),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(we&&et!==null&&t.mode&1&&!(t.flags&128))Ih(),mr(),t.flags|=98560,i=!1;else if(i=ri(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(B(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(B(317));i[Tt]=t}else mr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ze(t),i=!1}else vt!==null&&(wa(vt),vt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ne.current&1?Ae===0&&(Ae=3):Nu())),t.updateQueue!==null&&(t.flags|=4),ze(t),null);case 4:return yr(),fa(e,t),e===null&&mo(t.stateNode.containerInfo),ze(t),null;case 10:return su(t.type._context),ze(t),null;case 17:return Ke(t.type)&&Ui(),ze(t),null;case 19:if(xe(Ne),i=t.memoizedState,i===null)return ze(t),null;if(r=(t.flags&128)!==0,s=i.rendering,s===null)if(r)Or(i,!1);else{if(Ae!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Zi(e),s!==null){for(t.flags|=128,Or(i,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ge(Ne,Ne.current&1|2),t.child}e=e.sibling}i.tail!==null&&Me()>vr&&(t.flags|=128,r=!0,Or(i,!1),t.lanes=4194304)}else{if(!r)if(e=Zi(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Or(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!we)return ze(t),null}else 2*Me()-i.renderingStartTime>vr&&n!==1073741824&&(t.flags|=128,r=!0,Or(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(n=i.last,n!==null?n.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Me(),t.sibling=null,n=Ne.current,ge(Ne,r?n&1|2:n&1),t):(ze(t),null);case 22:case 23:return Su(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?qe&1073741824&&(ze(t),t.subtreeFlags&6&&(t.flags|=8192)):ze(t),null;case 24:return null;case 25:return null}throw Error(B(156,t.tag))}function Tx(e,t){switch(nu(t),t.tag){case 1:return Ke(t.type)&&Ui(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return yr(),xe(Qe),xe(Fe),du(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return cu(t),null;case 13:if(xe(Ne),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(B(340));mr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return xe(Ne),null;case 4:return yr(),null;case 10:return su(t.type._context),null;case 22:case 23:return Su(),null;case 24:return null;default:return null}}var si=!1,Oe=!1,Ax=typeof WeakSet=="function"?WeakSet:Set,q=null;function tr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ke(e,t,r)}else n.current=null}function ha(e,t,n){try{n()}catch(r){ke(e,t,r)}}var qc=!1;function Px(e,t){if(Kl=Fi,e=gh(),eu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,l=-1,a=-1,u=0,f=0,c=e,d=null;t:for(;;){for(var x;c!==n||o!==0&&c.nodeType!==3||(l=s+o),c!==i||r!==0&&c.nodeType!==3||(a=s+r),c.nodeType===3&&(s+=c.nodeValue.length),(x=c.firstChild)!==null;)d=c,c=x;for(;;){if(c===e)break t;if(d===n&&++u===o&&(l=s),d===i&&++f===r&&(a=s),(x=c.nextSibling)!==null)break;c=d,d=c.parentNode}c=x}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Zl={focusedElem:e,selectionRange:n},Fi=!1,q=t;q!==null;)if(t=q,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,q=e;else for(;q!==null;){t=q;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var w=g.memoizedProps,_=g.memoizedState,m=t.stateNode,y=m.getSnapshotBeforeUpdate(t.elementType===t.type?w:gt(t.type,w),_);m.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var h=t.stateNode.containerInfo;h.nodeType===1?h.textContent="":h.nodeType===9&&h.documentElement&&h.removeChild(h.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(v){ke(t,t.return,v)}if(e=t.sibling,e!==null){e.return=t.return,q=e;break}q=t.return}return g=qc,qc=!1,g}function to(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,i!==void 0&&ha(t,n,i)}o=o.next}while(o!==r)}}function Cs(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function pa(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function fp(e){var t=e.alternate;t!==null&&(e.alternate=null,fp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Tt],delete t[yo],delete t[ea],delete t[px],delete t[mx])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function hp(e){return e.tag===5||e.tag===3||e.tag===4}function Jc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||hp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ma(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Bi));else if(r!==4&&(e=e.child,e!==null))for(ma(e,t,n),e=e.sibling;e!==null;)ma(e,t,n),e=e.sibling}function ga(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(ga(e,t,n),e=e.sibling;e!==null;)ga(e,t,n),e=e.sibling}var Re=null,yt=!1;function Kt(e,t,n){for(n=n.child;n!==null;)pp(e,t,n),n=n.sibling}function pp(e,t,n){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(ys,n)}catch{}switch(n.tag){case 5:Oe||tr(n,t);case 6:var r=Re,o=yt;Re=null,Kt(e,t,n),Re=r,yt=o,Re!==null&&(yt?(e=Re,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Re.removeChild(n.stateNode));break;case 18:Re!==null&&(yt?(e=Re,n=n.stateNode,e.nodeType===8?al(e.parentNode,n):e.nodeType===1&&al(e,n),fo(e)):al(Re,n.stateNode));break;case 4:r=Re,o=yt,Re=n.stateNode.containerInfo,yt=!0,Kt(e,t,n),Re=r,yt=o;break;case 0:case 11:case 14:case 15:if(!Oe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&ha(n,t,s),o=o.next}while(o!==r)}Kt(e,t,n);break;case 1:if(!Oe&&(tr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ke(n,t,l)}Kt(e,t,n);break;case 21:Kt(e,t,n);break;case 22:n.mode&1?(Oe=(r=Oe)||n.memoizedState!==null,Kt(e,t,n),Oe=r):Kt(e,t,n);break;default:Kt(e,t,n)}}function ed(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Ax),t.forEach(function(r){var o=Hx.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function mt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=e,s=t,l=s;e:for(;l!==null;){switch(l.tag){case 5:Re=l.stateNode,yt=!1;break e;case 3:Re=l.stateNode.containerInfo,yt=!0;break e;case 4:Re=l.stateNode.containerInfo,yt=!0;break e}l=l.return}if(Re===null)throw Error(B(160));pp(i,s,o),Re=null,yt=!1;var a=o.alternate;a!==null&&(a.return=null),o.return=null}catch(u){ke(o,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)mp(t,e),t=t.sibling}function mp(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mt(t,e),Mt(e),r&4){try{to(3,e,e.return),Cs(3,e)}catch(w){ke(e,e.return,w)}try{to(5,e,e.return)}catch(w){ke(e,e.return,w)}}break;case 1:mt(t,e),Mt(e),r&512&&n!==null&&tr(n,n.return);break;case 5:if(mt(t,e),Mt(e),r&512&&n!==null&&tr(n,n.return),e.flags&32){var o=e.stateNode;try{lo(o,"")}catch(w){ke(e,e.return,w)}}if(r&4&&(o=e.stateNode,o!=null)){var i=e.memoizedProps,s=n!==null?n.memoizedProps:i,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Df(o,i),Fl(l,s);var u=Fl(l,i);for(s=0;s<a.length;s+=2){var f=a[s],c=a[s+1];f==="style"?Vf(o,c):f==="dangerouslySetInnerHTML"?Ff(o,c):f==="children"?lo(o,c):Ha(o,f,c,u)}switch(l){case"input":Ll(o,i);break;case"textarea":zf(o,i);break;case"select":var d=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var x=i.value;x!=null?ir(o,!!i.multiple,x,!1):d!==!!i.multiple&&(i.defaultValue!=null?ir(o,!!i.multiple,i.defaultValue,!0):ir(o,!!i.multiple,i.multiple?[]:"",!1))}o[yo]=i}catch(w){ke(e,e.return,w)}}break;case 6:if(mt(t,e),Mt(e),r&4){if(e.stateNode===null)throw Error(B(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(w){ke(e,e.return,w)}}break;case 3:if(mt(t,e),Mt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{fo(t.containerInfo)}catch(w){ke(e,e.return,w)}break;case 4:mt(t,e),Mt(e);break;case 13:mt(t,e),Mt(e),o=e.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(wu=Me())),r&4&&ed(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(Oe=(u=Oe)||f,mt(t,e),Oe=u):mt(t,e),Mt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(q=e,f=e.child;f!==null;){for(c=q=f;q!==null;){switch(d=q,x=d.child,d.tag){case 0:case 11:case 14:case 15:to(4,d,d.return);break;case 1:tr(d,d.return);var g=d.stateNode;if(typeof g.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(w){ke(r,n,w)}}break;case 5:tr(d,d.return);break;case 22:if(d.memoizedState!==null){nd(c);continue}}x!==null?(x.return=d,q=x):nd(c)}f=f.sibling}e:for(f=null,c=e;;){if(c.tag===5){if(f===null){f=c;try{o=c.stateNode,u?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=c.stateNode,a=c.memoizedProps.style,s=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Hf("display",s))}catch(w){ke(e,e.return,w)}}}else if(c.tag===6){if(f===null)try{c.stateNode.nodeValue=u?"":c.memoizedProps}catch(w){ke(e,e.return,w)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===e)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===e)break e;for(;c.sibling===null;){if(c.return===null||c.return===e)break e;f===c&&(f=null),c=c.return}f===c&&(f=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:mt(t,e),Mt(e),r&4&&ed(e);break;case 21:break;default:mt(t,e),Mt(e)}}function Mt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(hp(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(lo(o,""),r.flags&=-33);var i=Jc(e);ga(e,i,o);break;case 3:case 4:var s=r.stateNode.containerInfo,l=Jc(e);ma(e,l,s);break;default:throw Error(B(161))}}catch(a){ke(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function bx(e,t,n){q=e,gp(e)}function gp(e,t,n){for(var r=(e.mode&1)!==0;q!==null;){var o=q,i=o.child;if(o.tag===22&&r){var s=o.memoizedState!==null||si;if(!s){var l=o.alternate,a=l!==null&&l.memoizedState!==null||Oe;l=si;var u=Oe;if(si=s,(Oe=a)&&!u)for(q=o;q!==null;)s=q,a=s.child,s.tag===22&&s.memoizedState!==null?rd(o):a!==null?(a.return=s,q=a):rd(o);for(;i!==null;)q=i,gp(i),i=i.sibling;q=o,si=l,Oe=u}td(e)}else o.subtreeFlags&8772&&i!==null?(i.return=o,q=i):td(e)}}function td(e){for(;q!==null;){var t=q;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Oe||Cs(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Oe)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:gt(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Oc(t,i,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Oc(t,s,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var c=f.dehydrated;c!==null&&fo(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}Oe||t.flags&512&&pa(t)}catch(d){ke(t,t.return,d)}}if(t===e){q=null;break}if(n=t.sibling,n!==null){n.return=t.return,q=n;break}q=t.return}}function nd(e){for(;q!==null;){var t=q;if(t===e){q=null;break}var n=t.sibling;if(n!==null){n.return=t.return,q=n;break}q=t.return}}function rd(e){for(;q!==null;){var t=q;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Cs(4,t)}catch(a){ke(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(a){ke(t,o,a)}}var i=t.return;try{pa(t)}catch(a){ke(t,i,a)}break;case 5:var s=t.return;try{pa(t)}catch(a){ke(t,s,a)}}}catch(a){ke(t,t.return,a)}if(t===e){q=null;break}var l=t.sibling;if(l!==null){l.return=t.return,q=l;break}q=t.return}}var Rx=Math.ceil,es=Gt.ReactCurrentDispatcher,xu=Gt.ReactCurrentOwner,dt=Gt.ReactCurrentBatchConfig,pe=0,be=null,je=null,Le=0,qe=0,nr=vn(0),Ae=0,No=null,Ln=0,ks=0,vu=0,no=null,Ye=null,wu=0,vr=1/0,Dt=null,ts=!1,ya=null,fn=null,li=!1,sn=null,ns=0,ro=0,xa=null,Mi=-1,ji=0;function Be(){return pe&6?Me():Mi!==-1?Mi:Mi=Me()}function hn(e){return e.mode&1?pe&2&&Le!==0?Le&-Le:yx.transition!==null?(ji===0&&(ji=eh()),ji):(e=me,e!==0||(e=window.event,e=e===void 0?16:lh(e.type)),e):1}function Et(e,t,n,r){if(50<ro)throw ro=0,xa=null,Error(B(185));Ro(e,n,r),(!(pe&2)||e!==be)&&(e===be&&(!(pe&2)&&(ks|=n),Ae===4&&nn(e,Le)),Ze(e,r),n===1&&pe===0&&!(t.mode&1)&&(vr=Me()+500,Ss&&wn()))}function Ze(e,t){var n=e.callbackNode;yy(e,t);var r=Oi(e,e===be?Le:0);if(r===0)n!==null&&fc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&fc(n),t===1)e.tag===0?gx(od.bind(null,e)):kh(od.bind(null,e)),fx(function(){!(pe&6)&&wn()}),n=null;else{switch(th(r)){case 1:n=Ya;break;case 4:n=qf;break;case 16:n=zi;break;case 536870912:n=Jf;break;default:n=zi}n=Ep(n,yp.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function yp(e,t){if(Mi=-1,ji=0,pe&6)throw Error(B(327));var n=e.callbackNode;if(cr()&&e.callbackNode!==n)return null;var r=Oi(e,e===be?Le:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=rs(e,r);else{t=r;var o=pe;pe|=2;var i=vp();(be!==e||Le!==t)&&(Dt=null,vr=Me()+500,jn(e,t));do try{Dx();break}catch(l){xp(e,l)}while(!0);iu(),es.current=i,pe=o,je!==null?t=0:(be=null,Le=0,t=Ae)}if(t!==0){if(t===2&&(o=Wl(e),o!==0&&(r=o,t=va(e,o))),t===1)throw n=No,jn(e,0),nn(e,r),Ze(e,Me()),n;if(t===6)nn(e,r);else{if(o=e.current.alternate,!(r&30)&&!Lx(o)&&(t=rs(e,r),t===2&&(i=Wl(e),i!==0&&(r=i,t=va(e,i))),t===1))throw n=No,jn(e,0),nn(e,r),Ze(e,Me()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(B(345));case 2:Sn(e,Ye,Dt);break;case 3:if(nn(e,r),(r&130023424)===r&&(t=wu+500-Me(),10<t)){if(Oi(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){Be(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Jl(Sn.bind(null,e,Ye,Dt),t);break}Sn(e,Ye,Dt);break;case 4:if(nn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var s=31-Nt(r);i=1<<s,s=t[s],s>o&&(o=s),r&=~i}if(r=o,r=Me()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Rx(r/1960))-r,10<r){e.timeoutHandle=Jl(Sn.bind(null,e,Ye,Dt),r);break}Sn(e,Ye,Dt);break;case 5:Sn(e,Ye,Dt);break;default:throw Error(B(329))}}}return Ze(e,Me()),e.callbackNode===n?yp.bind(null,e):null}function va(e,t){var n=no;return e.current.memoizedState.isDehydrated&&(jn(e,t).flags|=256),e=rs(e,t),e!==2&&(t=Ye,Ye=n,t!==null&&wa(t)),e}function wa(e){Ye===null?Ye=e:Ye.push.apply(Ye,e)}function Lx(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!Ct(i(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function nn(e,t){for(t&=~vu,t&=~ks,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Nt(t),r=1<<n;e[n]=-1,t&=~r}}function od(e){if(pe&6)throw Error(B(327));cr();var t=Oi(e,0);if(!(t&1))return Ze(e,Me()),null;var n=rs(e,t);if(e.tag!==0&&n===2){var r=Wl(e);r!==0&&(t=r,n=va(e,r))}if(n===1)throw n=No,jn(e,0),nn(e,t),Ze(e,Me()),n;if(n===6)throw Error(B(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Sn(e,Ye,Dt),Ze(e,Me()),null}function _u(e,t){var n=pe;pe|=1;try{return e(t)}finally{pe=n,pe===0&&(vr=Me()+500,Ss&&wn())}}function $n(e){sn!==null&&sn.tag===0&&!(pe&6)&&cr();var t=pe;pe|=1;var n=dt.transition,r=me;try{if(dt.transition=null,me=1,e)return e()}finally{me=r,dt.transition=n,pe=t,!(pe&6)&&wn()}}function Su(){qe=nr.current,xe(nr)}function jn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,dx(n)),je!==null)for(n=je.return;n!==null;){var r=n;switch(nu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ui();break;case 3:yr(),xe(Qe),xe(Fe),du();break;case 5:cu(r);break;case 4:yr();break;case 13:xe(Ne);break;case 19:xe(Ne);break;case 10:su(r.type._context);break;case 22:case 23:Su()}n=n.return}if(be=e,je=e=pn(e.current,null),Le=qe=t,Ae=0,No=null,vu=ks=Ln=0,Ye=no=null,Cn!==null){for(t=0;t<Cn.length;t++)if(n=Cn[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var s=i.next;i.next=o,r.next=s}n.pending=r}Cn=null}return e}function xp(e,t){do{var n=je;try{if(iu(),Ei.current=Ji,qi){for(var r=Ee.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}qi=!1}if(Rn=0,Pe=Te=Ee=null,eo=!1,wo=0,xu.current=null,n===null||n.return===null){Ae=1,No=t,je=null;break}e:{var i=e,s=n.return,l=n,a=t;if(t=Le,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,f=l,c=f.tag;if(!(f.mode&1)&&(c===0||c===11||c===15)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var x=Wc(s);if(x!==null){x.flags&=-257,Yc(x,s,l,i,t),x.mode&1&&Uc(i,u,t),t=x,a=u;var g=t.updateQueue;if(g===null){var w=new Set;w.add(a),t.updateQueue=w}else g.add(a);break e}else{if(!(t&1)){Uc(i,u,t),Nu();break e}a=Error(B(426))}}else if(we&&l.mode&1){var _=Wc(s);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Yc(_,s,l,i,t),ru(xr(a,l));break e}}i=a=xr(a,l),Ae!==4&&(Ae=2),no===null?no=[i]:no.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var m=tp(i,a,t);zc(i,m);break e;case 1:l=a;var y=i.type,h=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(fn===null||!fn.has(h)))){i.flags|=65536,t&=-t,i.lanes|=t;var v=np(i,l,t);zc(i,v);break e}}i=i.return}while(i!==null)}_p(n)}catch(S){t=S,je===n&&n!==null&&(je=n=n.return);continue}break}while(!0)}function vp(){var e=es.current;return es.current=Ji,e===null?Ji:e}function Nu(){(Ae===0||Ae===3||Ae===2)&&(Ae=4),be===null||!(Ln&268435455)&&!(ks&268435455)||nn(be,Le)}function rs(e,t){var n=pe;pe|=2;var r=vp();(be!==e||Le!==t)&&(Dt=null,jn(e,t));do try{$x();break}catch(o){xp(e,o)}while(!0);if(iu(),pe=n,es.current=r,je!==null)throw Error(B(261));return be=null,Le=0,Ae}function $x(){for(;je!==null;)wp(je)}function Dx(){for(;je!==null&&!ay();)wp(je)}function wp(e){var t=Np(e.alternate,e,qe);e.memoizedProps=e.pendingProps,t===null?_p(e):je=t,xu.current=null}function _p(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Tx(n,t),n!==null){n.flags&=32767,je=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ae=6,je=null;return}}else if(n=Ix(n,t,qe),n!==null){je=n;return}if(t=t.sibling,t!==null){je=t;return}je=t=e}while(t!==null);Ae===0&&(Ae=5)}function Sn(e,t,n){var r=me,o=dt.transition;try{dt.transition=null,me=1,zx(e,t,n,r)}finally{dt.transition=o,me=r}return null}function zx(e,t,n,r){do cr();while(sn!==null);if(pe&6)throw Error(B(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(B(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(xy(e,i),e===be&&(je=be=null,Le=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||li||(li=!0,Ep(zi,function(){return cr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=dt.transition,dt.transition=null;var s=me;me=1;var l=pe;pe|=4,xu.current=null,Px(e,n),mp(n,e),ox(Zl),Fi=!!Kl,Zl=Kl=null,e.current=n,bx(n),uy(),pe=l,me=s,dt.transition=i}else e.current=n;if(li&&(li=!1,sn=e,ns=o),i=e.pendingLanes,i===0&&(fn=null),fy(n.stateNode),Ze(e,Me()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(ts)throw ts=!1,e=ya,ya=null,e;return ns&1&&e.tag!==0&&cr(),i=e.pendingLanes,i&1?e===xa?ro++:(ro=0,xa=e):ro=0,wn(),null}function cr(){if(sn!==null){var e=th(ns),t=dt.transition,n=me;try{if(dt.transition=null,me=16>e?16:e,sn===null)var r=!1;else{if(e=sn,sn=null,ns=0,pe&6)throw Error(B(331));var o=pe;for(pe|=4,q=e.current;q!==null;){var i=q,s=i.child;if(q.flags&16){var l=i.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(q=u;q!==null;){var f=q;switch(f.tag){case 0:case 11:case 15:to(8,f,i)}var c=f.child;if(c!==null)c.return=f,q=c;else for(;q!==null;){f=q;var d=f.sibling,x=f.return;if(fp(f),f===u){q=null;break}if(d!==null){d.return=x,q=d;break}q=x}}}var g=i.alternate;if(g!==null){var w=g.child;if(w!==null){g.child=null;do{var _=w.sibling;w.sibling=null,w=_}while(w!==null)}}q=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,q=s;else e:for(;q!==null;){if(i=q,i.flags&2048)switch(i.tag){case 0:case 11:case 15:to(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,q=m;break e}q=i.return}}var y=e.current;for(q=y;q!==null;){s=q;var h=s.child;if(s.subtreeFlags&2064&&h!==null)h.return=s,q=h;else e:for(s=y;q!==null;){if(l=q,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Cs(9,l)}}catch(S){ke(l,l.return,S)}if(l===s){q=null;break e}var v=l.sibling;if(v!==null){v.return=l.return,q=v;break e}q=l.return}}if(pe=o,wn(),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(ys,e)}catch{}r=!0}return r}finally{me=n,dt.transition=t}}return!1}function id(e,t,n){t=xr(n,t),t=tp(e,t,1),e=dn(e,t,1),t=Be(),e!==null&&(Ro(e,1,t),Ze(e,t))}function ke(e,t,n){if(e.tag===3)id(e,e,n);else for(;t!==null;){if(t.tag===3){id(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(fn===null||!fn.has(r))){e=xr(n,e),e=np(t,e,1),t=dn(t,e,1),e=Be(),t!==null&&(Ro(t,1,e),Ze(t,e));break}}t=t.return}}function Ox(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Be(),e.pingedLanes|=e.suspendedLanes&n,be===e&&(Le&n)===n&&(Ae===4||Ae===3&&(Le&130023424)===Le&&500>Me()-wu?jn(e,0):vu|=n),Ze(e,t)}function Sp(e,t){t===0&&(e.mode&1?(t=Zo,Zo<<=1,!(Zo&130023424)&&(Zo=4194304)):t=1);var n=Be();e=Wt(e,t),e!==null&&(Ro(e,t,n),Ze(e,n))}function Fx(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Sp(e,n)}function Hx(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(t),Sp(e,n)}var Np;Np=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Qe.current)Xe=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Xe=!1,jx(e,t,n);Xe=!!(e.flags&131072)}else Xe=!1,we&&t.flags&1048576&&Mh(t,Xi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ki(e,t),e=t.pendingProps;var o=pr(t,Fe.current);ur(t,n),o=hu(null,t,r,e,o,n);var i=pu();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ke(r)?(i=!0,Wi(t)):i=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,au(t),o.updater=Es,t.stateNode=o,o._reactInternals=t,sa(t,r,e,n),t=ua(null,t,r,!0,i,n)):(t.tag=0,we&&i&&tu(t),He(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ki(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=Bx(r),e=gt(r,e),o){case 0:t=aa(null,t,r,e,n);break e;case 1:t=Qc(null,t,r,e,n);break e;case 11:t=Xc(null,t,r,e,n);break e;case 14:t=Gc(null,t,r,gt(r.type,e),n);break e}throw Error(B(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:gt(r,o),aa(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:gt(r,o),Qc(e,t,r,o,n);case 3:e:{if(sp(t),e===null)throw Error(B(387));r=t.pendingProps,i=t.memoizedState,o=i.element,bh(e,t),Ki(t,r,null,n);var s=t.memoizedState;if(r=s.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){o=xr(Error(B(423)),t),t=Kc(e,t,r,n,o);break e}else if(r!==o){o=xr(Error(B(424)),t),t=Kc(e,t,r,n,o);break e}else for(et=cn(t.stateNode.containerInfo.firstChild),tt=t,we=!0,vt=null,n=Ah(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(mr(),r===o){t=Yt(e,t,n);break e}He(e,t,r,n)}t=t.child}return t;case 5:return Rh(t),e===null&&ra(t),r=t.type,o=t.pendingProps,i=e!==null?e.memoizedProps:null,s=o.children,ql(r,o)?s=null:i!==null&&ql(r,i)&&(t.flags|=32),ip(e,t),He(e,t,s,n),t.child;case 6:return e===null&&ra(t),null;case 13:return lp(e,t,n);case 4:return uu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=gr(t,null,r,n):He(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:gt(r,o),Xc(e,t,r,o,n);case 7:return He(e,t,t.pendingProps,n),t.child;case 8:return He(e,t,t.pendingProps.children,n),t.child;case 12:return He(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,i=t.memoizedProps,s=o.value,ge(Gi,r._currentValue),r._currentValue=s,i!==null)if(Ct(i.value,s)){if(i.children===o.children&&!Qe.current){t=Yt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){s=i.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(i.tag===1){a=Vt(-1,n&-n),a.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?a.next=a:(a.next=f.next,f.next=a),u.pending=a}}i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),oa(i.return,n,t),l.lanes|=n;break}a=a.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(B(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),oa(s,n,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}He(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,ur(t,n),o=ft(o),r=r(o),t.flags|=1,He(e,t,r,n),t.child;case 14:return r=t.type,o=gt(r,t.pendingProps),o=gt(r.type,o),Gc(e,t,r,o,n);case 15:return rp(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:gt(r,o),ki(e,t),t.tag=1,Ke(r)?(e=!0,Wi(t)):e=!1,ur(t,n),ep(t,r,o),sa(t,r,o,n),ua(null,t,r,!0,e,n);case 19:return ap(e,t,n);case 22:return op(e,t,n)}throw Error(B(156,t.tag))};function Ep(e,t){return Zf(e,t)}function Vx(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ct(e,t,n,r){return new Vx(e,t,n,r)}function Eu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Bx(e){if(typeof e=="function")return Eu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ba)return 11;if(e===Ua)return 14}return 2}function pn(e,t){var n=e.alternate;return n===null?(n=ct(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ii(e,t,n,r,o,i){var s=2;if(r=e,typeof e=="function")Eu(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Yn:return In(n.children,o,i,t);case Va:s=8,o|=8;break;case Tl:return e=ct(12,n,t,o|2),e.elementType=Tl,e.lanes=i,e;case Al:return e=ct(13,n,t,o),e.elementType=Al,e.lanes=i,e;case Pl:return e=ct(19,n,t,o),e.elementType=Pl,e.lanes=i,e;case Rf:return Ms(n,o,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Pf:s=10;break e;case bf:s=9;break e;case Ba:s=11;break e;case Ua:s=14;break e;case Jt:s=16,r=null;break e}throw Error(B(130,e==null?e:typeof e,""))}return t=ct(s,n,t,o),t.elementType=e,t.type=r,t.lanes=i,t}function In(e,t,n,r){return e=ct(7,e,r,t),e.lanes=n,e}function Ms(e,t,n,r){return e=ct(22,e,r,t),e.elementType=Rf,e.lanes=n,e.stateNode={isHidden:!1},e}function gl(e,t,n){return e=ct(6,e,null,t),e.lanes=n,e}function yl(e,t,n){return t=ct(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ux(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zs(0),this.expirationTimes=Zs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zs(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Cu(e,t,n,r,o,i,s,l,a){return e=new Ux(e,t,n,l,a),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ct(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},au(i),e}function Wx(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Wn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Cp(e){if(!e)return yn;e=e._reactInternals;e:{if(Vn(e)!==e||e.tag!==1)throw Error(B(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ke(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(B(171))}if(e.tag===1){var n=e.type;if(Ke(n))return Ch(e,n,t)}return t}function kp(e,t,n,r,o,i,s,l,a){return e=Cu(n,r,!0,e,o,i,s,l,a),e.context=Cp(null),n=e.current,r=Be(),o=hn(n),i=Vt(r,o),i.callback=t??null,dn(n,i,o),e.current.lanes=o,Ro(e,o,r),Ze(e,r),e}function js(e,t,n,r){var o=t.current,i=Be(),s=hn(o);return n=Cp(n),t.context===null?t.context=n:t.pendingContext=n,t=Vt(i,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=dn(o,t,s),e!==null&&(Et(e,o,s,i),Ni(e,o,s)),s}function os(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function sd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ku(e,t){sd(e,t),(e=e.alternate)&&sd(e,t)}function Yx(){return null}var Mp=typeof reportError=="function"?reportError:function(e){console.error(e)};function Mu(e){this._internalRoot=e}Is.prototype.render=Mu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(B(409));js(e,t,null,null)};Is.prototype.unmount=Mu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;$n(function(){js(null,e,null,null)}),t[Ut]=null}};function Is(e){this._internalRoot=e}Is.prototype.unstable_scheduleHydration=function(e){if(e){var t=oh();e={blockedOn:null,target:e,priority:t};for(var n=0;n<tn.length&&t!==0&&t<tn[n].priority;n++);tn.splice(n,0,e),n===0&&sh(e)}};function ju(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ts(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ld(){}function Xx(e,t,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var u=os(s);i.call(u)}}var s=kp(t,r,e,0,null,!1,!1,"",ld);return e._reactRootContainer=s,e[Ut]=s.current,mo(e.nodeType===8?e.parentNode:e),$n(),s}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var l=r;r=function(){var u=os(a);l.call(u)}}var a=Cu(e,0,!1,null,null,!1,!1,"",ld);return e._reactRootContainer=a,e[Ut]=a.current,mo(e.nodeType===8?e.parentNode:e),$n(function(){js(t,a,n,r)}),a}function As(e,t,n,r,o){var i=n._reactRootContainer;if(i){var s=i;if(typeof o=="function"){var l=o;o=function(){var a=os(s);l.call(a)}}js(t,s,e,o)}else s=Xx(n,t,e,o,r);return os(s)}nh=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Wr(t.pendingLanes);n!==0&&(Xa(t,n|1),Ze(t,Me()),!(pe&6)&&(vr=Me()+500,wn()))}break;case 13:$n(function(){var r=Wt(e,1);if(r!==null){var o=Be();Et(r,e,1,o)}}),ku(e,1)}};Ga=function(e){if(e.tag===13){var t=Wt(e,134217728);if(t!==null){var n=Be();Et(t,e,134217728,n)}ku(e,134217728)}};rh=function(e){if(e.tag===13){var t=hn(e),n=Wt(e,t);if(n!==null){var r=Be();Et(n,e,t,r)}ku(e,t)}};oh=function(){return me};ih=function(e,t){var n=me;try{return me=e,t()}finally{me=n}};Vl=function(e,t,n){switch(t){case"input":if(Ll(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=_s(r);if(!o)throw Error(B(90));$f(r),Ll(r,o)}}}break;case"textarea":zf(e,n);break;case"select":t=n.value,t!=null&&ir(e,!!n.multiple,t,!1)}};Wf=_u;Yf=$n;var Gx={usingClientEntryPoint:!1,Events:[$o,Kn,_s,Bf,Uf,_u]},Fr={findFiberByHostInstance:En,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Qx={bundleType:Fr.bundleType,version:Fr.version,rendererPackageName:Fr.rendererPackageName,rendererConfig:Fr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Qf(e),e===null?null:e.stateNode},findFiberByHostInstance:Fr.findFiberByHostInstance||Yx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ai=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ai.isDisabled&&ai.supportsFiber)try{ys=ai.inject(Qx),At=ai}catch{}}ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gx;ot.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ju(t))throw Error(B(200));return Wx(e,t,null,n)};ot.createRoot=function(e,t){if(!ju(e))throw Error(B(299));var n=!1,r="",o=Mp;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=Cu(e,1,!1,null,null,n,!1,r,o),e[Ut]=t.current,mo(e.nodeType===8?e.parentNode:e),new Mu(t)};ot.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(B(188)):(e=Object.keys(e).join(","),Error(B(268,e)));return e=Qf(t),e=e===null?null:e.stateNode,e};ot.flushSync=function(e){return $n(e)};ot.hydrate=function(e,t,n){if(!Ts(t))throw Error(B(200));return As(null,e,t,!0,n)};ot.hydrateRoot=function(e,t,n){if(!ju(e))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",s=Mp;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=kp(t,null,e,1,n??null,o,!1,i,s),e[Ut]=t.current,mo(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Is(t)};ot.render=function(e,t,n){if(!Ts(t))throw Error(B(200));return As(null,e,t,!1,n)};ot.unmountComponentAtNode=function(e){if(!Ts(e))throw Error(B(40));return e._reactRootContainer?($n(function(){As(null,null,e,!1,function(){e._reactRootContainer=null,e[Ut]=null})}),!0):!1};ot.unstable_batchedUpdates=_u;ot.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ts(n))throw Error(B(200));if(e==null||e._reactInternals===void 0)throw Error(B(38));return As(e,t,n,!1,r)};ot.version="18.3.1-next-f1338f8080-20240426";function jp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jp)}catch(e){console.error(e)}}jp(),jf.exports=ot;var Kx=jf.exports,ad=Kx;jl.createRoot=ad.createRoot,jl.hydrateRoot=ad.hydrateRoot;function Ie(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=Ie(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var Zx={value:()=>{}};function Ps(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Ti(n)}function Ti(e){this._=e}function qx(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",o=n.indexOf(".");if(o>=0&&(r=n.slice(o+1),n=n.slice(0,o)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Ti.prototype=Ps.prototype={constructor:Ti,on:function(e,t){var n=this._,r=qx(e+"",n),o,i=-1,s=r.length;if(arguments.length<2){for(;++i<s;)if((o=(e=r[i]).type)&&(o=Jx(n[o],e.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<s;)if(o=(e=r[i]).type)n[o]=ud(n[o],e.name,t);else if(t==null)for(o in n)n[o]=ud(n[o],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Ti(e)},call:function(e,t){if((o=arguments.length-2)>0)for(var n=new Array(o),r=0,o,i;r<o;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],r=0,o=i.length;r<o;++r)i[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,i=r.length;o<i;++o)r[o].value.apply(t,n)}};function Jx(e,t){for(var n=0,r=e.length,o;n<r;++n)if((o=e[n]).name===t)return o.value}function ud(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=Zx,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var _a="http://www.w3.org/1999/xhtml";const cd={svg:"http://www.w3.org/2000/svg",xhtml:_a,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function bs(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),cd.hasOwnProperty(t)?{space:cd[t],local:e}:e}function ev(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===_a&&t.documentElement.namespaceURI===_a?t.createElement(e):t.createElementNS(n,e)}}function tv(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Ip(e){var t=bs(e);return(t.local?tv:ev)(t)}function nv(){}function Iu(e){return e==null?nv:function(){return this.querySelector(e)}}function rv(e){typeof e!="function"&&(e=Iu(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],s=i.length,l=r[o]=new Array(s),a,u,f=0;f<s;++f)(a=i[f])&&(u=e.call(a,a.__data__,f,i))&&("__data__"in a&&(u.__data__=a.__data__),l[f]=u);return new rt(r,this._parents)}function ov(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function iv(){return[]}function Tp(e){return e==null?iv:function(){return this.querySelectorAll(e)}}function sv(e){return function(){return ov(e.apply(this,arguments))}}function lv(e){typeof e=="function"?e=sv(e):e=Tp(e);for(var t=this._groups,n=t.length,r=[],o=[],i=0;i<n;++i)for(var s=t[i],l=s.length,a,u=0;u<l;++u)(a=s[u])&&(r.push(e.call(a,a.__data__,u,s)),o.push(a));return new rt(r,o)}function Ap(e){return function(){return this.matches(e)}}function Pp(e){return function(t){return t.matches(e)}}var av=Array.prototype.find;function uv(e){return function(){return av.call(this.children,e)}}function cv(){return this.firstElementChild}function dv(e){return this.select(e==null?cv:uv(typeof e=="function"?e:Pp(e)))}var fv=Array.prototype.filter;function hv(){return Array.from(this.children)}function pv(e){return function(){return fv.call(this.children,e)}}function mv(e){return this.selectAll(e==null?hv:pv(typeof e=="function"?e:Pp(e)))}function gv(e){typeof e!="function"&&(e=Ap(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],s=i.length,l=r[o]=[],a,u=0;u<s;++u)(a=i[u])&&e.call(a,a.__data__,u,i)&&l.push(a);return new rt(r,this._parents)}function bp(e){return new Array(e.length)}function yv(){return new rt(this._enter||this._groups.map(bp),this._parents)}function is(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}is.prototype={constructor:is,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function xv(e){return function(){return e}}function vv(e,t,n,r,o,i){for(var s=0,l,a=t.length,u=i.length;s<u;++s)(l=t[s])?(l.__data__=i[s],r[s]=l):n[s]=new is(e,i[s]);for(;s<a;++s)(l=t[s])&&(o[s]=l)}function wv(e,t,n,r,o,i,s){var l,a,u=new Map,f=t.length,c=i.length,d=new Array(f),x;for(l=0;l<f;++l)(a=t[l])&&(d[l]=x=s.call(a,a.__data__,l,t)+"",u.has(x)?o[l]=a:u.set(x,a));for(l=0;l<c;++l)x=s.call(e,i[l],l,i)+"",(a=u.get(x))?(r[l]=a,a.__data__=i[l],u.delete(x)):n[l]=new is(e,i[l]);for(l=0;l<f;++l)(a=t[l])&&u.get(d[l])===a&&(o[l]=a)}function _v(e){return e.__data__}function Sv(e,t){if(!arguments.length)return Array.from(this,_v);var n=t?wv:vv,r=this._parents,o=this._groups;typeof e!="function"&&(e=xv(e));for(var i=o.length,s=new Array(i),l=new Array(i),a=new Array(i),u=0;u<i;++u){var f=r[u],c=o[u],d=c.length,x=Nv(e.call(f,f&&f.__data__,u,r)),g=x.length,w=l[u]=new Array(g),_=s[u]=new Array(g),m=a[u]=new Array(d);n(f,c,w,_,m,x,t);for(var y=0,h=0,v,S;y<g;++y)if(v=w[y]){for(y>=h&&(h=y+1);!(S=_[h])&&++h<g;);v._next=S||null}}return s=new rt(s,r),s._enter=l,s._exit=a,s}function Nv(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Ev(){return new rt(this._exit||this._groups.map(bp),this._parents)}function Cv(e,t,n){var r=this.enter(),o=this,i=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),n==null?i.remove():n(i),r&&o?r.merge(o).order():o}function kv(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,o=n.length,i=r.length,s=Math.min(o,i),l=new Array(o),a=0;a<s;++a)for(var u=n[a],f=r[a],c=u.length,d=l[a]=new Array(c),x,g=0;g<c;++g)(x=u[g]||f[g])&&(d[g]=x);for(;a<o;++a)l[a]=n[a];return new rt(l,this._parents)}function Mv(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],o=r.length-1,i=r[o],s;--o>=0;)(s=r[o])&&(i&&s.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(s,i),i=s);return this}function jv(e){e||(e=Iv);function t(c,d){return c&&d?e(c.__data__,d.__data__):!c-!d}for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var s=n[i],l=s.length,a=o[i]=new Array(l),u,f=0;f<l;++f)(u=s[f])&&(a[f]=u);a.sort(t)}return new rt(o,this._parents).order()}function Iv(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Tv(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Av(){return Array.from(this)}function Pv(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length;o<i;++o){var s=r[o];if(s)return s}return null}function bv(){let e=0;for(const t of this)++e;return e}function Rv(){return!this.node()}function Lv(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o=t[n],i=0,s=o.length,l;i<s;++i)(l=o[i])&&e.call(l,l.__data__,i,o);return this}function $v(e){return function(){this.removeAttribute(e)}}function Dv(e){return function(){this.removeAttributeNS(e.space,e.local)}}function zv(e,t){return function(){this.setAttribute(e,t)}}function Ov(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Fv(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Hv(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Vv(e,t){var n=bs(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?Dv:$v:typeof t=="function"?n.local?Hv:Fv:n.local?Ov:zv)(n,t))}function Rp(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Bv(e){return function(){this.style.removeProperty(e)}}function Uv(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Wv(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Yv(e,t,n){return arguments.length>1?this.each((t==null?Bv:typeof t=="function"?Wv:Uv)(e,t,n??"")):wr(this.node(),e)}function wr(e,t){return e.style.getPropertyValue(t)||Rp(e).getComputedStyle(e,null).getPropertyValue(t)}function Xv(e){return function(){delete this[e]}}function Gv(e,t){return function(){this[e]=t}}function Qv(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Kv(e,t){return arguments.length>1?this.each((t==null?Xv:typeof t=="function"?Qv:Gv)(e,t)):this.node()[e]}function Lp(e){return e.trim().split(/^|\s+/)}function Tu(e){return e.classList||new $p(e)}function $p(e){this._node=e,this._names=Lp(e.getAttribute("class")||"")}$p.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Dp(e,t){for(var n=Tu(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function zp(e,t){for(var n=Tu(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function Zv(e){return function(){Dp(this,e)}}function qv(e){return function(){zp(this,e)}}function Jv(e,t){return function(){(t.apply(this,arguments)?Dp:zp)(this,e)}}function e1(e,t){var n=Lp(e+"");if(arguments.length<2){for(var r=Tu(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each((typeof t=="function"?Jv:t?Zv:qv)(n,t))}function t1(){this.textContent=""}function n1(e){return function(){this.textContent=e}}function r1(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function o1(e){return arguments.length?this.each(e==null?t1:(typeof e=="function"?r1:n1)(e)):this.node().textContent}function i1(){this.innerHTML=""}function s1(e){return function(){this.innerHTML=e}}function l1(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function a1(e){return arguments.length?this.each(e==null?i1:(typeof e=="function"?l1:s1)(e)):this.node().innerHTML}function u1(){this.nextSibling&&this.parentNode.appendChild(this)}function c1(){return this.each(u1)}function d1(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function f1(){return this.each(d1)}function h1(e){var t=typeof e=="function"?e:Ip(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function p1(){return null}function m1(e,t){var n=typeof e=="function"?e:Ip(e),r=t==null?p1:typeof t=="function"?t:Iu(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function g1(){var e=this.parentNode;e&&e.removeChild(this)}function y1(){return this.each(g1)}function x1(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function v1(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function w1(e){return this.select(e?v1:x1)}function _1(e){return arguments.length?this.property("__data__",e):this.node().__data__}function S1(e){return function(t){e.call(this,t,this.__data__)}}function N1(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function E1(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,o=t.length,i;n<o;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++r]=i;++r?t.length=r:delete this.__on}}}function C1(e,t,n){return function(){var r=this.__on,o,i=S1(t);if(r){for(var s=0,l=r.length;s<l;++s)if((o=r[s]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=i,o.options=n),o.value=t;return}}this.addEventListener(e.type,i,n),o={type:e.type,name:e.name,value:t,listener:i,options:n},r?r.push(o):this.__on=[o]}}function k1(e,t,n){var r=N1(e+""),o,i=r.length,s;if(arguments.length<2){var l=this.node().__on;if(l){for(var a=0,u=l.length,f;a<u;++a)for(o=0,f=l[a];o<i;++o)if((s=r[o]).type===f.type&&s.name===f.name)return f.value}return}for(l=t?C1:E1,o=0;o<i;++o)this.each(l(r[o],t,n));return this}function Op(e,t,n){var r=Rp(e),o=r.CustomEvent;typeof o=="function"?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function M1(e,t){return function(){return Op(this,e,t)}}function j1(e,t){return function(){return Op(this,e,t.apply(this,arguments))}}function I1(e,t){return this.each((typeof t=="function"?j1:M1)(e,t))}function*T1(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length,s;o<i;++o)(s=r[o])&&(yield s)}var Fp=[null];function rt(e,t){this._groups=e,this._parents=t}function zo(){return new rt([[document.documentElement]],Fp)}function A1(){return this}rt.prototype=zo.prototype={constructor:rt,select:rv,selectAll:lv,selectChild:dv,selectChildren:mv,filter:gv,data:Sv,enter:yv,exit:Ev,join:Cv,merge:kv,selection:A1,order:Mv,sort:jv,call:Tv,nodes:Av,node:Pv,size:bv,empty:Rv,each:Lv,attr:Vv,style:Yv,property:Kv,classed:e1,text:o1,html:a1,raise:c1,lower:f1,append:h1,insert:m1,remove:y1,clone:w1,datum:_1,on:k1,dispatch:I1,[Symbol.iterator]:T1};function Je(e){return typeof e=="string"?new rt([[document.querySelector(e)]],[document.documentElement]):new rt([[e]],Fp)}function P1(e){let t;for(;t=e.sourceEvent;)e=t;return e}function xt(e,t){if(e=P1(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}const b1={passive:!1},Eo={capture:!0,passive:!1};function xl(e){e.stopImmediatePropagation()}function dr(e){e.preventDefault(),e.stopImmediatePropagation()}function Hp(e){var t=e.document.documentElement,n=Je(e).on("dragstart.drag",dr,Eo);"onselectstart"in t?n.on("selectstart.drag",dr,Eo):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Vp(e,t){var n=e.document.documentElement,r=Je(e).on("dragstart.drag",null);t&&(r.on("click.drag",dr,Eo),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const ui=e=>()=>e;function Sa(e,{sourceEvent:t,subject:n,target:r,identifier:o,active:i,x:s,y:l,dx:a,dy:u,dispatch:f}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:a,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:f}})}Sa.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function R1(e){return!e.ctrlKey&&!e.button}function L1(){return this.parentNode}function $1(e,t){return t??{x:e.x,y:e.y}}function D1(){return navigator.maxTouchPoints||"ontouchstart"in this}function Bp(){var e=R1,t=L1,n=$1,r=D1,o={},i=Ps("start","drag","end"),s=0,l,a,u,f,c=0;function d(v){v.on("mousedown.drag",x).filter(r).on("touchstart.drag",_).on("touchmove.drag",m,b1).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function x(v,S){if(!(f||!e.call(this,v,S))){var E=h(this,t.call(this,v,S),v,S,"mouse");E&&(Je(v.view).on("mousemove.drag",g,Eo).on("mouseup.drag",w,Eo),Hp(v.view),xl(v),u=!1,l=v.clientX,a=v.clientY,E("start",v))}}function g(v){if(dr(v),!u){var S=v.clientX-l,E=v.clientY-a;u=S*S+E*E>c}o.mouse("drag",v)}function w(v){Je(v.view).on("mousemove.drag mouseup.drag",null),Vp(v.view,u),dr(v),o.mouse("end",v)}function _(v,S){if(e.call(this,v,S)){var E=v.changedTouches,k=t.call(this,v,S),j=E.length,A,z;for(A=0;A<j;++A)(z=h(this,k,v,S,E[A].identifier,E[A]))&&(xl(v),z("start",v,E[A]))}}function m(v){var S=v.changedTouches,E=S.length,k,j;for(k=0;k<E;++k)(j=o[S[k].identifier])&&(dr(v),j("drag",v,S[k]))}function y(v){var S=v.changedTouches,E=S.length,k,j;for(f&&clearTimeout(f),f=setTimeout(function(){f=null},500),k=0;k<E;++k)(j=o[S[k].identifier])&&(xl(v),j("end",v,S[k]))}function h(v,S,E,k,j,A){var z=i.copy(),T=xt(A||E,S),L,V,N;if((N=n.call(v,new Sa("beforestart",{sourceEvent:E,target:d,identifier:j,active:s,x:T[0],y:T[1],dx:0,dy:0,dispatch:z}),k))!=null)return L=N.x-T[0]||0,V=N.y-T[1]||0,function P(I,D,C){var M=T,R;switch(I){case"start":o[j]=P,R=s++;break;case"end":delete o[j],--s;case"drag":T=xt(C||D,S),R=s;break}z.call(I,v,new Sa(I,{sourceEvent:D,subject:N,target:d,identifier:j,active:R,x:T[0]+L,y:T[1]+V,dx:T[0]-M[0],dy:T[1]-M[1],dispatch:z}),k)}}return d.filter=function(v){return arguments.length?(e=typeof v=="function"?v:ui(!!v),d):e},d.container=function(v){return arguments.length?(t=typeof v=="function"?v:ui(v),d):t},d.subject=function(v){return arguments.length?(n=typeof v=="function"?v:ui(v),d):n},d.touchable=function(v){return arguments.length?(r=typeof v=="function"?v:ui(!!v),d):r},d.on=function(){var v=i.on.apply(i,arguments);return v===i?d:v},d.clickDistance=function(v){return arguments.length?(c=(v=+v)*v,d):Math.sqrt(c)},d}function Au(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Up(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Oo(){}var Co=.7,ss=1/Co,fr="\\s*([+-]?\\d+)\\s*",ko="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",bt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",z1=/^#([0-9a-f]{3,8})$/,O1=new RegExp(`^rgb\\(${fr},${fr},${fr}\\)$`),F1=new RegExp(`^rgb\\(${bt},${bt},${bt}\\)$`),H1=new RegExp(`^rgba\\(${fr},${fr},${fr},${ko}\\)$`),V1=new RegExp(`^rgba\\(${bt},${bt},${bt},${ko}\\)$`),B1=new RegExp(`^hsl\\(${ko},${bt},${bt}\\)$`),U1=new RegExp(`^hsla\\(${ko},${bt},${bt},${ko}\\)$`),dd={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Au(Oo,Dn,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:fd,formatHex:fd,formatHex8:W1,formatHsl:Y1,formatRgb:hd,toString:hd});function fd(){return this.rgb().formatHex()}function W1(){return this.rgb().formatHex8()}function Y1(){return Wp(this).formatHsl()}function hd(){return this.rgb().formatRgb()}function Dn(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=z1.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?pd(t):n===3?new Ge(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?ci(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?ci(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=O1.exec(e))?new Ge(t[1],t[2],t[3],1):(t=F1.exec(e))?new Ge(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=H1.exec(e))?ci(t[1],t[2],t[3],t[4]):(t=V1.exec(e))?ci(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=B1.exec(e))?yd(t[1],t[2]/100,t[3]/100,1):(t=U1.exec(e))?yd(t[1],t[2]/100,t[3]/100,t[4]):dd.hasOwnProperty(e)?pd(dd[e]):e==="transparent"?new Ge(NaN,NaN,NaN,0):null}function pd(e){return new Ge(e>>16&255,e>>8&255,e&255,1)}function ci(e,t,n,r){return r<=0&&(e=t=n=NaN),new Ge(e,t,n,r)}function X1(e){return e instanceof Oo||(e=Dn(e)),e?(e=e.rgb(),new Ge(e.r,e.g,e.b,e.opacity)):new Ge}function Na(e,t,n,r){return arguments.length===1?X1(e):new Ge(e,t,n,r??1)}function Ge(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Au(Ge,Na,Up(Oo,{brighter(e){return e=e==null?ss:Math.pow(ss,e),new Ge(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Co:Math.pow(Co,e),new Ge(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ge(Tn(this.r),Tn(this.g),Tn(this.b),ls(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:md,formatHex:md,formatHex8:G1,formatRgb:gd,toString:gd}));function md(){return`#${Mn(this.r)}${Mn(this.g)}${Mn(this.b)}`}function G1(){return`#${Mn(this.r)}${Mn(this.g)}${Mn(this.b)}${Mn((isNaN(this.opacity)?1:this.opacity)*255)}`}function gd(){const e=ls(this.opacity);return`${e===1?"rgb(":"rgba("}${Tn(this.r)}, ${Tn(this.g)}, ${Tn(this.b)}${e===1?")":`, ${e})`}`}function ls(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Tn(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Mn(e){return e=Tn(e),(e<16?"0":"")+e.toString(16)}function yd(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new wt(e,t,n,r)}function Wp(e){if(e instanceof wt)return new wt(e.h,e.s,e.l,e.opacity);if(e instanceof Oo||(e=Dn(e)),!e)return new wt;if(e instanceof wt)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),s=NaN,l=i-o,a=(i+o)/2;return l?(t===i?s=(n-r)/l+(n<r)*6:n===i?s=(r-t)/l+2:s=(t-n)/l+4,l/=a<.5?i+o:2-i-o,s*=60):l=a>0&&a<1?0:s,new wt(s,l,a,e.opacity)}function Q1(e,t,n,r){return arguments.length===1?Wp(e):new wt(e,t,n,r??1)}function wt(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Au(wt,Q1,Up(Oo,{brighter(e){return e=e==null?ss:Math.pow(ss,e),new wt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Co:Math.pow(Co,e),new wt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new Ge(vl(e>=240?e-240:e+120,o,r),vl(e,o,r),vl(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new wt(xd(this.h),di(this.s),di(this.l),ls(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ls(this.opacity);return`${e===1?"hsl(":"hsla("}${xd(this.h)}, ${di(this.s)*100}%, ${di(this.l)*100}%${e===1?")":`, ${e})`}`}}));function xd(e){return e=(e||0)%360,e<0?e+360:e}function di(e){return Math.max(0,Math.min(1,e||0))}function vl(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Pu=e=>()=>e;function K1(e,t){return function(n){return e+n*t}}function Z1(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function q1(e){return(e=+e)==1?Yp:function(t,n){return n-t?Z1(t,n,e):Pu(isNaN(t)?n:t)}}function Yp(e,t){var n=t-e;return n?K1(e,n):Pu(isNaN(e)?t:e)}const as=function e(t){var n=q1(t);function r(o,i){var s=n((o=Na(o)).r,(i=Na(i)).r),l=n(o.g,i.g),a=n(o.b,i.b),u=Yp(o.opacity,i.opacity);return function(f){return o.r=s(f),o.g=l(f),o.b=a(f),o.opacity=u(f),o+""}}return r.gamma=e,r}(1);function J1(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),o;return function(i){for(o=0;o<n;++o)r[o]=e[o]*(1-i)+t[o]*i;return r}}function ew(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function tw(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,o=new Array(r),i=new Array(n),s;for(s=0;s<r;++s)o[s]=oo(e[s],t[s]);for(;s<n;++s)i[s]=t[s];return function(l){for(s=0;s<r;++s)i[s]=o[s](l);return i}}function nw(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function It(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function rw(e,t){var n={},r={},o;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(o in t)o in e?n[o]=oo(e[o],t[o]):r[o]=t[o];return function(i){for(o in n)r[o]=n[o](i);return r}}var Ea=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,wl=new RegExp(Ea.source,"g");function ow(e){return function(){return e}}function iw(e){return function(t){return e(t)+""}}function Xp(e,t){var n=Ea.lastIndex=wl.lastIndex=0,r,o,i,s=-1,l=[],a=[];for(e=e+"",t=t+"";(r=Ea.exec(e))&&(o=wl.exec(t));)(i=o.index)>n&&(i=t.slice(n,i),l[s]?l[s]+=i:l[++s]=i),(r=r[0])===(o=o[0])?l[s]?l[s]+=o:l[++s]=o:(l[++s]=null,a.push({i:s,x:It(r,o)})),n=wl.lastIndex;return n<t.length&&(i=t.slice(n),l[s]?l[s]+=i:l[++s]=i),l.length<2?a[0]?iw(a[0].x):ow(t):(t=a.length,function(u){for(var f=0,c;f<t;++f)l[(c=a[f]).i]=c.x(u);return l.join("")})}function oo(e,t){var n=typeof t,r;return t==null||n==="boolean"?Pu(t):(n==="number"?It:n==="string"?(r=Dn(t))?(t=r,as):Xp:t instanceof Dn?as:t instanceof Date?nw:ew(t)?J1:Array.isArray(t)?tw:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?rw:It)(e,t)}var vd=180/Math.PI,Ca={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Gp(e,t,n,r,o,i){var s,l,a;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(a=e*n+t*r)&&(n-=e*a,r-=t*a),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,a/=l),e*r<t*n&&(e=-e,t=-t,a=-a,s=-s),{translateX:o,translateY:i,rotate:Math.atan2(t,e)*vd,skewX:Math.atan(a)*vd,scaleX:s,scaleY:l}}var fi;function sw(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Ca:Gp(t.a,t.b,t.c,t.d,t.e,t.f)}function lw(e){return e==null||(fi||(fi=document.createElementNS("http://www.w3.org/2000/svg","g")),fi.setAttribute("transform",e),!(e=fi.transform.baseVal.consolidate()))?Ca:(e=e.matrix,Gp(e.a,e.b,e.c,e.d,e.e,e.f))}function Qp(e,t,n,r){function o(u){return u.length?u.pop()+" ":""}function i(u,f,c,d,x,g){if(u!==c||f!==d){var w=x.push("translate(",null,t,null,n);g.push({i:w-4,x:It(u,c)},{i:w-2,x:It(f,d)})}else(c||d)&&x.push("translate("+c+t+d+n)}function s(u,f,c,d){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),d.push({i:c.push(o(c)+"rotate(",null,r)-2,x:It(u,f)})):f&&c.push(o(c)+"rotate("+f+r)}function l(u,f,c,d){u!==f?d.push({i:c.push(o(c)+"skewX(",null,r)-2,x:It(u,f)}):f&&c.push(o(c)+"skewX("+f+r)}function a(u,f,c,d,x,g){if(u!==c||f!==d){var w=x.push(o(x)+"scale(",null,",",null,")");g.push({i:w-4,x:It(u,c)},{i:w-2,x:It(f,d)})}else(c!==1||d!==1)&&x.push(o(x)+"scale("+c+","+d+")")}return function(u,f){var c=[],d=[];return u=e(u),f=e(f),i(u.translateX,u.translateY,f.translateX,f.translateY,c,d),s(u.rotate,f.rotate,c,d),l(u.skewX,f.skewX,c,d),a(u.scaleX,u.scaleY,f.scaleX,f.scaleY,c,d),u=f=null,function(x){for(var g=-1,w=d.length,_;++g<w;)c[(_=d[g]).i]=_.x(x);return c.join("")}}}var aw=Qp(sw,"px, ","px)","deg)"),uw=Qp(lw,", ",")",")"),cw=1e-12;function wd(e){return((e=Math.exp(e))+1/e)/2}function dw(e){return((e=Math.exp(e))-1/e)/2}function fw(e){return((e=Math.exp(2*e))-1)/(e+1)}const Ai=function e(t,n,r){function o(i,s){var l=i[0],a=i[1],u=i[2],f=s[0],c=s[1],d=s[2],x=f-l,g=c-a,w=x*x+g*g,_,m;if(w<cw)m=Math.log(d/u)/t,_=function(k){return[l+k*x,a+k*g,u*Math.exp(t*k*m)]};else{var y=Math.sqrt(w),h=(d*d-u*u+r*w)/(2*u*n*y),v=(d*d-u*u-r*w)/(2*d*n*y),S=Math.log(Math.sqrt(h*h+1)-h),E=Math.log(Math.sqrt(v*v+1)-v);m=(E-S)/t,_=function(k){var j=k*m,A=wd(S),z=u/(n*y)*(A*fw(t*j+S)-dw(S));return[l+z*x,a+z*g,u*A/wd(t*j+S)]}}return _.duration=m*1e3*t/Math.SQRT2,_}return o.rho=function(i){var s=Math.max(.001,+i),l=s*s,a=l*l;return e(s,l,a)},o}(Math.SQRT2,2,4);var _r=0,Xr=0,Hr=0,Kp=1e3,us,Gr,cs=0,zn=0,Rs=0,Mo=typeof performance=="object"&&performance.now?performance:Date,Zp=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function bu(){return zn||(Zp(hw),zn=Mo.now()+Rs)}function hw(){zn=0}function ds(){this._call=this._time=this._next=null}ds.prototype=qp.prototype={constructor:ds,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?bu():+n)+(t==null?0:+t),!this._next&&Gr!==this&&(Gr?Gr._next=this:us=this,Gr=this),this._call=e,this._time=n,ka()},stop:function(){this._call&&(this._call=null,this._time=1/0,ka())}};function qp(e,t,n){var r=new ds;return r.restart(e,t,n),r}function pw(){bu(),++_r;for(var e=us,t;e;)(t=zn-e._time)>=0&&e._call.call(void 0,t),e=e._next;--_r}function _d(){zn=(cs=Mo.now())+Rs,_r=Xr=0;try{pw()}finally{_r=0,gw(),zn=0}}function mw(){var e=Mo.now(),t=e-cs;t>Kp&&(Rs-=t,cs=e)}function gw(){for(var e,t=us,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:us=n);Gr=e,ka(r)}function ka(e){if(!_r){Xr&&(Xr=clearTimeout(Xr));var t=e-zn;t>24?(e<1/0&&(Xr=setTimeout(_d,e-Mo.now()-Rs)),Hr&&(Hr=clearInterval(Hr))):(Hr||(cs=Mo.now(),Hr=setInterval(mw,Kp)),_r=1,Zp(_d))}}function Sd(e,t,n){var r=new ds;return t=t==null?0:+t,r.restart(o=>{r.stop(),e(o+t)},t,n),r}var yw=Ps("start","end","cancel","interrupt"),xw=[],Jp=0,Nd=1,Ma=2,Pi=3,Ed=4,ja=5,bi=6;function Ls(e,t,n,r,o,i){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;vw(e,n,{name:t,index:r,group:o,on:yw,tween:xw,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:Jp})}function Ru(e,t){var n=kt(e,t);if(n.state>Jp)throw new Error("too late; already scheduled");return n}function Lt(e,t){var n=kt(e,t);if(n.state>Pi)throw new Error("too late; already running");return n}function kt(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function vw(e,t,n){var r=e.__transition,o;r[t]=n,n.timer=qp(i,0,n.time);function i(u){n.state=Nd,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)}function s(u){var f,c,d,x;if(n.state!==Nd)return a();for(f in r)if(x=r[f],x.name===n.name){if(x.state===Pi)return Sd(s);x.state===Ed?(x.state=bi,x.timer.stop(),x.on.call("interrupt",e,e.__data__,x.index,x.group),delete r[f]):+f<t&&(x.state=bi,x.timer.stop(),x.on.call("cancel",e,e.__data__,x.index,x.group),delete r[f])}if(Sd(function(){n.state===Pi&&(n.state=Ed,n.timer.restart(l,n.delay,n.time),l(u))}),n.state=Ma,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Ma){for(n.state=Pi,o=new Array(d=n.tween.length),f=0,c=-1;f<d;++f)(x=n.tween[f].value.call(e,e.__data__,n.index,n.group))&&(o[++c]=x);o.length=c+1}}function l(u){for(var f=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(a),n.state=ja,1),c=-1,d=o.length;++c<d;)o[c].call(e,f);n.state===ja&&(n.on.call("end",e,e.__data__,n.index,n.group),a())}function a(){n.state=bi,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function Ri(e,t){var n=e.__transition,r,o,i=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){i=!1;continue}o=r.state>Ma&&r.state<ja,r.state=bi,r.timer.stop(),r.on.call(o?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}i&&delete e.__transition}}function ww(e){return this.each(function(){Ri(this,e)})}function _w(e,t){var n,r;return function(){var o=Lt(this,e),i=o.tween;if(i!==n){r=n=i;for(var s=0,l=r.length;s<l;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}o.tween=r}}function Sw(e,t,n){var r,o;if(typeof n!="function")throw new Error;return function(){var i=Lt(this,e),s=i.tween;if(s!==r){o=(r=s).slice();for(var l={name:t,value:n},a=0,u=o.length;a<u;++a)if(o[a].name===t){o[a]=l;break}a===u&&o.push(l)}i.tween=o}}function Nw(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=kt(this.node(),n).tween,o=0,i=r.length,s;o<i;++o)if((s=r[o]).name===e)return s.value;return null}return this.each((t==null?_w:Sw)(n,e,t))}function Lu(e,t,n){var r=e._id;return e.each(function(){var o=Lt(this,r);(o.value||(o.value={}))[t]=n.apply(this,arguments)}),function(o){return kt(o,r).value[t]}}function em(e,t){var n;return(typeof t=="number"?It:t instanceof Dn?as:(n=Dn(t))?(t=n,as):Xp)(e,t)}function Ew(e){return function(){this.removeAttribute(e)}}function Cw(e){return function(){this.removeAttributeNS(e.space,e.local)}}function kw(e,t,n){var r,o=n+"",i;return function(){var s=this.getAttribute(e);return s===o?null:s===r?i:i=t(r=s,n)}}function Mw(e,t,n){var r,o=n+"",i;return function(){var s=this.getAttributeNS(e.space,e.local);return s===o?null:s===r?i:i=t(r=s,n)}}function jw(e,t,n){var r,o,i;return function(){var s,l=n(this),a;return l==null?void this.removeAttribute(e):(s=this.getAttribute(e),a=l+"",s===a?null:s===r&&a===o?i:(o=a,i=t(r=s,l)))}}function Iw(e,t,n){var r,o,i;return function(){var s,l=n(this),a;return l==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),a=l+"",s===a?null:s===r&&a===o?i:(o=a,i=t(r=s,l)))}}function Tw(e,t){var n=bs(e),r=n==="transform"?uw:em;return this.attrTween(e,typeof t=="function"?(n.local?Iw:jw)(n,r,Lu(this,"attr."+e,t)):t==null?(n.local?Cw:Ew)(n):(n.local?Mw:kw)(n,r,t))}function Aw(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function Pw(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function bw(e,t){var n,r;function o(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&Pw(e,i)),n}return o._value=t,o}function Rw(e,t){var n,r;function o(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&Aw(e,i)),n}return o._value=t,o}function Lw(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=bs(e);return this.tween(n,(r.local?bw:Rw)(r,t))}function $w(e,t){return function(){Ru(this,e).delay=+t.apply(this,arguments)}}function Dw(e,t){return t=+t,function(){Ru(this,e).delay=t}}function zw(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?$w:Dw)(t,e)):kt(this.node(),t).delay}function Ow(e,t){return function(){Lt(this,e).duration=+t.apply(this,arguments)}}function Fw(e,t){return t=+t,function(){Lt(this,e).duration=t}}function Hw(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Ow:Fw)(t,e)):kt(this.node(),t).duration}function Vw(e,t){if(typeof t!="function")throw new Error;return function(){Lt(this,e).ease=t}}function Bw(e){var t=this._id;return arguments.length?this.each(Vw(t,e)):kt(this.node(),t).ease}function Uw(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Lt(this,e).ease=n}}function Ww(e){if(typeof e!="function")throw new Error;return this.each(Uw(this._id,e))}function Yw(e){typeof e!="function"&&(e=Ap(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],s=i.length,l=r[o]=[],a,u=0;u<s;++u)(a=i[u])&&e.call(a,a.__data__,u,i)&&l.push(a);return new Xt(r,this._parents,this._name,this._id)}function Xw(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,o=n.length,i=Math.min(r,o),s=new Array(r),l=0;l<i;++l)for(var a=t[l],u=n[l],f=a.length,c=s[l]=new Array(f),d,x=0;x<f;++x)(d=a[x]||u[x])&&(c[x]=d);for(;l<r;++l)s[l]=t[l];return new Xt(s,this._parents,this._name,this._id)}function Gw(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function Qw(e,t,n){var r,o,i=Gw(t)?Ru:Lt;return function(){var s=i(this,e),l=s.on;l!==r&&(o=(r=l).copy()).on(t,n),s.on=o}}function Kw(e,t){var n=this._id;return arguments.length<2?kt(this.node(),n).on.on(e):this.each(Qw(n,e,t))}function Zw(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function qw(){return this.on("end.remove",Zw(this._id))}function Jw(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Iu(e));for(var r=this._groups,o=r.length,i=new Array(o),s=0;s<o;++s)for(var l=r[s],a=l.length,u=i[s]=new Array(a),f,c,d=0;d<a;++d)(f=l[d])&&(c=e.call(f,f.__data__,d,l))&&("__data__"in f&&(c.__data__=f.__data__),u[d]=c,Ls(u[d],t,n,d,u,kt(f,n)));return new Xt(i,this._parents,t,n)}function e_(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Tp(e));for(var r=this._groups,o=r.length,i=[],s=[],l=0;l<o;++l)for(var a=r[l],u=a.length,f,c=0;c<u;++c)if(f=a[c]){for(var d=e.call(f,f.__data__,c,a),x,g=kt(f,n),w=0,_=d.length;w<_;++w)(x=d[w])&&Ls(x,t,n,w,d,g);i.push(d),s.push(f)}return new Xt(i,s,t,n)}var t_=zo.prototype.constructor;function n_(){return new t_(this._groups,this._parents)}function r_(e,t){var n,r,o;return function(){var i=wr(this,e),s=(this.style.removeProperty(e),wr(this,e));return i===s?null:i===n&&s===r?o:o=t(n=i,r=s)}}function tm(e){return function(){this.style.removeProperty(e)}}function o_(e,t,n){var r,o=n+"",i;return function(){var s=wr(this,e);return s===o?null:s===r?i:i=t(r=s,n)}}function i_(e,t,n){var r,o,i;return function(){var s=wr(this,e),l=n(this),a=l+"";return l==null&&(a=l=(this.style.removeProperty(e),wr(this,e))),s===a?null:s===r&&a===o?i:(o=a,i=t(r=s,l))}}function s_(e,t){var n,r,o,i="style."+t,s="end."+i,l;return function(){var a=Lt(this,e),u=a.on,f=a.value[i]==null?l||(l=tm(t)):void 0;(u!==n||o!==f)&&(r=(n=u).copy()).on(s,o=f),a.on=r}}function l_(e,t,n){var r=(e+="")=="transform"?aw:em;return t==null?this.styleTween(e,r_(e,r)).on("end.style."+e,tm(e)):typeof t=="function"?this.styleTween(e,i_(e,r,Lu(this,"style."+e,t))).each(s_(this._id,e)):this.styleTween(e,o_(e,r,t),n).on("end.style."+e,null)}function a_(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function u_(e,t,n){var r,o;function i(){var s=t.apply(this,arguments);return s!==o&&(r=(o=s)&&a_(e,s,n)),r}return i._value=t,i}function c_(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,u_(e,t,n??""))}function d_(e){return function(){this.textContent=e}}function f_(e){return function(){var t=e(this);this.textContent=t??""}}function h_(e){return this.tween("text",typeof e=="function"?f_(Lu(this,"text",e)):d_(e==null?"":e+""))}function p_(e){return function(t){this.textContent=e.call(this,t)}}function m_(e){var t,n;function r(){var o=e.apply(this,arguments);return o!==n&&(t=(n=o)&&p_(o)),t}return r._value=e,r}function g_(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,m_(e))}function y_(){for(var e=this._name,t=this._id,n=nm(),r=this._groups,o=r.length,i=0;i<o;++i)for(var s=r[i],l=s.length,a,u=0;u<l;++u)if(a=s[u]){var f=kt(a,t);Ls(a,e,n,u,s,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new Xt(r,this._parents,e,n)}function x_(){var e,t,n=this,r=n._id,o=n.size();return new Promise(function(i,s){var l={value:s},a={value:function(){--o===0&&i()}};n.each(function(){var u=Lt(this,r),f=u.on;f!==e&&(t=(e=f).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(a)),u.on=t}),o===0&&i()})}var v_=0;function Xt(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function nm(){return++v_}var $t=zo.prototype;Xt.prototype={constructor:Xt,select:Jw,selectAll:e_,selectChild:$t.selectChild,selectChildren:$t.selectChildren,filter:Yw,merge:Xw,selection:n_,transition:y_,call:$t.call,nodes:$t.nodes,node:$t.node,size:$t.size,empty:$t.empty,each:$t.each,on:Kw,attr:Tw,attrTween:Lw,style:l_,styleTween:c_,text:h_,textTween:g_,remove:qw,tween:Nw,delay:zw,duration:Hw,ease:Bw,easeVarying:Ww,end:x_,[Symbol.iterator]:$t[Symbol.iterator]};function w_(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var __={time:null,delay:0,duration:250,ease:w_};function S_(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function N_(e){var t,n;e instanceof Xt?(t=e._id,e=e._name):(t=nm(),(n=__).time=bu(),e=e==null?null:e+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var s=r[i],l=s.length,a,u=0;u<l;++u)(a=s[u])&&Ls(a,e,t,u,s,n||S_(a,t));return new Xt(r,this._parents,e,t)}zo.prototype.interrupt=ww;zo.prototype.transition=N_;const hi=e=>()=>e;function E_(e,{sourceEvent:t,target:n,transform:r,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:o}})}function Ht(e,t,n){this.k=e,this.x=t,this.y=n}Ht.prototype={constructor:Ht,scale:function(e){return e===1?this:new Ht(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Ht(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var $s=new Ht(1,0,0);rm.prototype=Ht.prototype;function rm(e){for(;!e.__zoom;)if(!(e=e.parentNode))return $s;return e.__zoom}function _l(e){e.stopImmediatePropagation()}function Vr(e){e.preventDefault(),e.stopImmediatePropagation()}function C_(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function k_(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Cd(){return this.__zoom||$s}function M_(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function j_(){return navigator.maxTouchPoints||"ontouchstart"in this}function I_(e,t,n){var r=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),s>i?(i+s)/2:Math.min(0,i)||Math.max(0,s))}function om(){var e=C_,t=k_,n=I_,r=M_,o=j_,i=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],l=250,a=Ai,u=Ps("start","zoom","end"),f,c,d,x=500,g=150,w=0,_=10;function m(N){N.property("__zoom",Cd).on("wheel.zoom",j,{passive:!1}).on("mousedown.zoom",A).on("dblclick.zoom",z).filter(o).on("touchstart.zoom",T).on("touchmove.zoom",L).on("touchend.zoom touchcancel.zoom",V).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}m.transform=function(N,P,I,D){var C=N.selection?N.selection():N;C.property("__zoom",Cd),N!==C?S(N,P,I,D):C.interrupt().each(function(){E(this,arguments).event(D).start().zoom(null,typeof P=="function"?P.apply(this,arguments):P).end()})},m.scaleBy=function(N,P,I,D){m.scaleTo(N,function(){var C=this.__zoom.k,M=typeof P=="function"?P.apply(this,arguments):P;return C*M},I,D)},m.scaleTo=function(N,P,I,D){m.transform(N,function(){var C=t.apply(this,arguments),M=this.__zoom,R=I==null?v(C):typeof I=="function"?I.apply(this,arguments):I,O=M.invert(R),H=typeof P=="function"?P.apply(this,arguments):P;return n(h(y(M,H),R,O),C,s)},I,D)},m.translateBy=function(N,P,I,D){m.transform(N,function(){return n(this.__zoom.translate(typeof P=="function"?P.apply(this,arguments):P,typeof I=="function"?I.apply(this,arguments):I),t.apply(this,arguments),s)},null,D)},m.translateTo=function(N,P,I,D,C){m.transform(N,function(){var M=t.apply(this,arguments),R=this.__zoom,O=D==null?v(M):typeof D=="function"?D.apply(this,arguments):D;return n($s.translate(O[0],O[1]).scale(R.k).translate(typeof P=="function"?-P.apply(this,arguments):-P,typeof I=="function"?-I.apply(this,arguments):-I),M,s)},D,C)};function y(N,P){return P=Math.max(i[0],Math.min(i[1],P)),P===N.k?N:new Ht(P,N.x,N.y)}function h(N,P,I){var D=P[0]-I[0]*N.k,C=P[1]-I[1]*N.k;return D===N.x&&C===N.y?N:new Ht(N.k,D,C)}function v(N){return[(+N[0][0]+ +N[1][0])/2,(+N[0][1]+ +N[1][1])/2]}function S(N,P,I,D){N.on("start.zoom",function(){E(this,arguments).event(D).start()}).on("interrupt.zoom end.zoom",function(){E(this,arguments).event(D).end()}).tween("zoom",function(){var C=this,M=arguments,R=E(C,M).event(D),O=t.apply(C,M),H=I==null?v(O):typeof I=="function"?I.apply(C,M):I,X=Math.max(O[1][0]-O[0][0],O[1][1]-O[0][1]),W=C.__zoom,ee=typeof P=="function"?P.apply(C,M):P,F=a(W.invert(H).concat(X/W.k),ee.invert(H).concat(X/ee.k));return function(te){if(te===1)te=ee;else{var Y=F(te),re=X/Y[2];te=new Ht(re,H[0]-Y[0]*re,H[1]-Y[1]*re)}R.zoom(null,te)}})}function E(N,P,I){return!I&&N.__zooming||new k(N,P)}function k(N,P){this.that=N,this.args=P,this.active=0,this.sourceEvent=null,this.extent=t.apply(N,P),this.taps=0}k.prototype={event:function(N){return N&&(this.sourceEvent=N),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(N,P){return this.mouse&&N!=="mouse"&&(this.mouse[1]=P.invert(this.mouse[0])),this.touch0&&N!=="touch"&&(this.touch0[1]=P.invert(this.touch0[0])),this.touch1&&N!=="touch"&&(this.touch1[1]=P.invert(this.touch1[0])),this.that.__zoom=P,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(N){var P=Je(this.that).datum();u.call(N,this.that,new E_(N,{sourceEvent:this.sourceEvent,target:m,transform:this.that.__zoom,dispatch:u}),P)}};function j(N,...P){if(!e.apply(this,arguments))return;var I=E(this,P).event(N),D=this.__zoom,C=Math.max(i[0],Math.min(i[1],D.k*Math.pow(2,r.apply(this,arguments)))),M=xt(N);if(I.wheel)(I.mouse[0][0]!==M[0]||I.mouse[0][1]!==M[1])&&(I.mouse[1]=D.invert(I.mouse[0]=M)),clearTimeout(I.wheel);else{if(D.k===C)return;I.mouse=[M,D.invert(M)],Ri(this),I.start()}Vr(N),I.wheel=setTimeout(R,g),I.zoom("mouse",n(h(y(D,C),I.mouse[0],I.mouse[1]),I.extent,s));function R(){I.wheel=null,I.end()}}function A(N,...P){if(d||!e.apply(this,arguments))return;var I=N.currentTarget,D=E(this,P,!0).event(N),C=Je(N.view).on("mousemove.zoom",H,!0).on("mouseup.zoom",X,!0),M=xt(N,I),R=N.clientX,O=N.clientY;Hp(N.view),_l(N),D.mouse=[M,this.__zoom.invert(M)],Ri(this),D.start();function H(W){if(Vr(W),!D.moved){var ee=W.clientX-R,F=W.clientY-O;D.moved=ee*ee+F*F>w}D.event(W).zoom("mouse",n(h(D.that.__zoom,D.mouse[0]=xt(W,I),D.mouse[1]),D.extent,s))}function X(W){C.on("mousemove.zoom mouseup.zoom",null),Vp(W.view,D.moved),Vr(W),D.event(W).end()}}function z(N,...P){if(e.apply(this,arguments)){var I=this.__zoom,D=xt(N.changedTouches?N.changedTouches[0]:N,this),C=I.invert(D),M=I.k*(N.shiftKey?.5:2),R=n(h(y(I,M),D,C),t.apply(this,P),s);Vr(N),l>0?Je(this).transition().duration(l).call(S,R,D,N):Je(this).call(m.transform,R,D,N)}}function T(N,...P){if(e.apply(this,arguments)){var I=N.touches,D=I.length,C=E(this,P,N.changedTouches.length===D).event(N),M,R,O,H;for(_l(N),R=0;R<D;++R)O=I[R],H=xt(O,this),H=[H,this.__zoom.invert(H),O.identifier],C.touch0?!C.touch1&&C.touch0[2]!==H[2]&&(C.touch1=H,C.taps=0):(C.touch0=H,M=!0,C.taps=1+!!f);f&&(f=clearTimeout(f)),M&&(C.taps<2&&(c=H[0],f=setTimeout(function(){f=null},x)),Ri(this),C.start())}}function L(N,...P){if(this.__zooming){var I=E(this,P).event(N),D=N.changedTouches,C=D.length,M,R,O,H;for(Vr(N),M=0;M<C;++M)R=D[M],O=xt(R,this),I.touch0&&I.touch0[2]===R.identifier?I.touch0[0]=O:I.touch1&&I.touch1[2]===R.identifier&&(I.touch1[0]=O);if(R=I.that.__zoom,I.touch1){var X=I.touch0[0],W=I.touch0[1],ee=I.touch1[0],F=I.touch1[1],te=(te=ee[0]-X[0])*te+(te=ee[1]-X[1])*te,Y=(Y=F[0]-W[0])*Y+(Y=F[1]-W[1])*Y;R=y(R,Math.sqrt(te/Y)),O=[(X[0]+ee[0])/2,(X[1]+ee[1])/2],H=[(W[0]+F[0])/2,(W[1]+F[1])/2]}else if(I.touch0)O=I.touch0[0],H=I.touch0[1];else return;I.zoom("touch",n(h(R,O,H),I.extent,s))}}function V(N,...P){if(this.__zooming){var I=E(this,P).event(N),D=N.changedTouches,C=D.length,M,R;for(_l(N),d&&clearTimeout(d),d=setTimeout(function(){d=null},x),M=0;M<C;++M)R=D[M],I.touch0&&I.touch0[2]===R.identifier?delete I.touch0:I.touch1&&I.touch1[2]===R.identifier&&delete I.touch1;if(I.touch1&&!I.touch0&&(I.touch0=I.touch1,delete I.touch1),I.touch0)I.touch0[1]=this.__zoom.invert(I.touch0[0]);else if(I.end(),I.taps===2&&(R=xt(R,this),Math.hypot(c[0]-R[0],c[1]-R[1])<_)){var O=Je(this).on("dblclick.zoom");O&&O.apply(this,arguments)}}}return m.wheelDelta=function(N){return arguments.length?(r=typeof N=="function"?N:hi(+N),m):r},m.filter=function(N){return arguments.length?(e=typeof N=="function"?N:hi(!!N),m):e},m.touchable=function(N){return arguments.length?(o=typeof N=="function"?N:hi(!!N),m):o},m.extent=function(N){return arguments.length?(t=typeof N=="function"?N:hi([[+N[0][0],+N[0][1]],[+N[1][0],+N[1][1]]]),m):t},m.scaleExtent=function(N){return arguments.length?(i[0]=+N[0],i[1]=+N[1],m):[i[0],i[1]]},m.translateExtent=function(N){return arguments.length?(s[0][0]=+N[0][0],s[1][0]=+N[1][0],s[0][1]=+N[0][1],s[1][1]=+N[1][1],m):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},m.constrain=function(N){return arguments.length?(n=N,m):n},m.duration=function(N){return arguments.length?(l=+N,m):l},m.interpolate=function(N){return arguments.length?(a=N,m):a},m.on=function(){var N=u.on.apply(u,arguments);return N===u?m:N},m.clickDistance=function(N){return arguments.length?(w=(N=+N)*N,m):Math.sqrt(w)},m.tapDistance=function(N){return arguments.length?(_=+N,m):_},m}const Rt={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:r}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},jo=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],im=["Enter"," ","Escape"],sm={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:t,y:n})=>`Moved selected node ${e}. New position, x: ${t}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var Sr;(function(e){e.Strict="strict",e.Loose="loose"})(Sr||(Sr={}));var An;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(An||(An={}));var Io;(function(e){e.Partial="partial",e.Full="full"})(Io||(Io={}));const lm={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var rn;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(rn||(rn={}));var fs;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(fs||(fs={}));var J;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(J||(J={}));const kd={[J.Left]:J.Right,[J.Right]:J.Left,[J.Top]:J.Bottom,[J.Bottom]:J.Top};function am(e){return e===null?null:e?"valid":"invalid"}const um=e=>"id"in e&&"source"in e&&"target"in e,T_=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),$u=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),Fo=(e,t=[0,0])=>{const{width:n,height:r}=Qt(e),o=e.origin??t,i=n*o[0],s=r*o[1];return{x:e.position.x-i,y:e.position.y-s}},A_=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,o)=>{const i=typeof o=="string";let s=!t.nodeLookup&&!i?o:void 0;t.nodeLookup&&(s=i?t.nodeLookup.get(o):$u(o)?o:t.nodeLookup.get(o.id));const l=s?hs(s,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Ds(r,l)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return zs(n)},Ho=(e,t={})=>{let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0},r=!1;return e.forEach(o=>{(t.filter===void 0||t.filter(o))&&(n=Ds(n,hs(o)),r=!0)}),r?zs(n):{x:0,y:0,width:0,height:0}},Du=(e,t,[n,r,o]=[0,0,1],i=!1,s=!1)=>{const l={...Bo(t,[n,r,o]),width:t.width/o,height:t.height/o},a=[];for(const u of e.values()){const{measured:f,selectable:c=!0,hidden:d=!1}=u;if(s&&!c||d)continue;const x=f.width??u.width??u.initialWidth??null,g=f.height??u.height??u.initialHeight??null,w=To(l,Er(u)),_=(x??0)*(g??0),m=i&&w>0;(!u.internals.handleBounds||m||w>=_||u.dragging)&&a.push(u)}return a},P_=(e,t)=>{const n=new Set;return e.forEach(r=>{n.add(r.id)}),t.filter(r=>n.has(r.source)||n.has(r.target))};function b_(e,t){const n=new Map,r=t!=null&&t.nodes?new Set(t.nodes.map(o=>o.id)):null;return e.forEach(o=>{o.measured.width&&o.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!o.hidden)&&(!r||r.has(o.id))&&n.set(o.id,o)}),n}async function R_({nodes:e,width:t,height:n,panZoom:r,minZoom:o,maxZoom:i},s){if(e.size===0)return Promise.resolve(!0);const l=b_(e,s),a=Ho(l),u=zu(a,t,n,(s==null?void 0:s.minZoom)??o,(s==null?void 0:s.maxZoom)??i,(s==null?void 0:s.padding)??.1);return await r.setViewport(u,{duration:s==null?void 0:s.duration,ease:s==null?void 0:s.ease,interpolate:s==null?void 0:s.interpolate}),Promise.resolve(!0)}function cm({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:o,onError:i}){const s=n.get(e),l=s.parentId?n.get(s.parentId):void 0,{x:a,y:u}=l?l.internals.positionAbsolute:{x:0,y:0},f=s.origin??r;let c=s.extent||o;if(s.extent==="parent"&&!s.expandParent)if(!l)i==null||i("005",Rt.error005());else{const x=l.measured.width,g=l.measured.height;x&&g&&(c=[[a,u],[a+x,u+g]])}else l&&Cr(s.extent)&&(c=[[s.extent[0][0]+a,s.extent[0][1]+u],[s.extent[1][0]+a,s.extent[1][1]+u]]);const d=Cr(c)?On(t,c,s.measured):t;return(s.measured.width===void 0||s.measured.height===void 0)&&(i==null||i("015",Rt.error015())),{position:{x:d.x-a+(s.measured.width??0)*f[0],y:d.y-u+(s.measured.height??0)*f[1]},positionAbsolute:d}}async function L_({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:r,onBeforeDelete:o}){const i=new Set(e.map(d=>d.id)),s=[];for(const d of n){if(d.deletable===!1)continue;const x=i.has(d.id),g=!x&&d.parentId&&s.find(w=>w.id===d.parentId);(x||g)&&s.push(d)}const l=new Set(t.map(d=>d.id)),a=r.filter(d=>d.deletable!==!1),f=P_(s,a);for(const d of a)l.has(d.id)&&!f.find(g=>g.id===d.id)&&f.push(d);if(!o)return{edges:f,nodes:s};const c=await o({nodes:s,edges:f});return typeof c=="boolean"?c?{edges:f,nodes:s}:{edges:[],nodes:[]}:c}const Nr=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),On=(e={x:0,y:0},t,n)=>({x:Nr(e.x,t[0][0],t[1][0]-((n==null?void 0:n.width)??0)),y:Nr(e.y,t[0][1],t[1][1]-((n==null?void 0:n.height)??0))});function dm(e,t,n){const{width:r,height:o}=Qt(n),{x:i,y:s}=n.internals.positionAbsolute;return On(e,[[i,s],[i+r,s+o]],t)}const Md=(e,t,n)=>e<t?Nr(Math.abs(e-t),1,t)/t:e>n?-Nr(Math.abs(e-n),1,t)/t:0,fm=(e,t,n=15,r=40)=>{const o=Md(e.x,r,t.width-r)*n,i=Md(e.y,r,t.height-r)*n;return[o,i]},Ds=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Ia=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),zs=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),Er=(e,t=[0,0])=>{var o,i;const{x:n,y:r}=$u(e)?e.internals.positionAbsolute:Fo(e,t);return{x:n,y:r,width:((o=e.measured)==null?void 0:o.width)??e.width??e.initialWidth??0,height:((i=e.measured)==null?void 0:i.height)??e.height??e.initialHeight??0}},hs=(e,t=[0,0])=>{var o,i;const{x:n,y:r}=$u(e)?e.internals.positionAbsolute:Fo(e,t);return{x:n,y:r,x2:n+(((o=e.measured)==null?void 0:o.width)??e.width??e.initialWidth??0),y2:r+(((i=e.measured)==null?void 0:i.height)??e.height??e.initialHeight??0)}},hm=(e,t)=>zs(Ds(Ia(e),Ia(t))),To=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},jd=e=>_t(e.width)&&_t(e.height)&&_t(e.x)&&_t(e.y),_t=e=>!isNaN(e)&&isFinite(e),$_=(e,t)=>{},Vo=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),Bo=({x:e,y:t},[n,r,o],i=!1,s=[1,1])=>{const l={x:(e-n)/o,y:(t-r)/o};return i?Vo(l,s):l},ps=({x:e,y:t},[n,r,o])=>({x:e*o+n,y:t*o+r});function Un(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function D_(e,t,n){if(typeof e=="string"||typeof e=="number"){const r=Un(e,n),o=Un(e,t);return{top:r,right:o,bottom:r,left:o,x:o*2,y:r*2}}if(typeof e=="object"){const r=Un(e.top??e.y??0,n),o=Un(e.bottom??e.y??0,n),i=Un(e.left??e.x??0,t),s=Un(e.right??e.x??0,t);return{top:r,right:s,bottom:o,left:i,x:i+s,y:r+o}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function z_(e,t,n,r,o,i){const{x:s,y:l}=ps(e,[t,n,r]),{x:a,y:u}=ps({x:e.x+e.width,y:e.y+e.height},[t,n,r]),f=o-a,c=i-u;return{left:Math.floor(s),top:Math.floor(l),right:Math.floor(f),bottom:Math.floor(c)}}const zu=(e,t,n,r,o,i)=>{const s=D_(i,t,n),l=(t-s.x)/e.width,a=(n-s.y)/e.height,u=Math.min(l,a),f=Nr(u,r,o),c=e.x+e.width/2,d=e.y+e.height/2,x=t/2-c*f,g=n/2-d*f,w=z_(e,x,g,f,t,n),_={left:Math.min(w.left-s.left,0),top:Math.min(w.top-s.top,0),right:Math.min(w.right-s.right,0),bottom:Math.min(w.bottom-s.bottom,0)};return{x:x-_.left+_.right,y:g-_.top+_.bottom,zoom:f}},Ao=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function Cr(e){return e!=null&&e!=="parent"}function Qt(e){var t,n;return{width:((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth??0,height:((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight??0}}function pm(e){var t,n;return(((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth)!==void 0&&(((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight)!==void 0}function mm(e,t={width:0,height:0},n,r,o){const i={...e},s=r.get(n);if(s){const l=s.origin||o;i.x+=s.internals.positionAbsolute.x-(t.width??0)*l[0],i.y+=s.internals.positionAbsolute.y-(t.height??0)*l[1]}return i}function Id(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function O_(){let e,t;return{promise:new Promise((r,o)=>{e=r,t=o}),resolve:e,reject:t}}function F_(e){return{...sm,...e||{}}}function io(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:r,containerBounds:o}){const{x:i,y:s}=St(e),l=Bo({x:i-((o==null?void 0:o.left)??0),y:s-((o==null?void 0:o.top)??0)},r),{x:a,y:u}=n?Vo(l,t):l;return{xSnapped:a,ySnapped:u,...l}}const Ou=e=>({width:e.offsetWidth,height:e.offsetHeight}),gm=e=>{var t;return((t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},H_=["INPUT","SELECT","TEXTAREA"];function ym(e){var r,o;const t=((o=(r=e.composedPath)==null?void 0:r.call(e))==null?void 0:o[0])||e.target;return(t==null?void 0:t.nodeType)!==1?!1:H_.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const xm=e=>"clientX"in e,St=(e,t)=>{var i,s;const n=xm(e),r=n?e.clientX:(i=e.touches)==null?void 0:i[0].clientX,o=n?e.clientY:(s=e.touches)==null?void 0:s[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:o-((t==null?void 0:t.top)??0)}},Td=(e,t,n,r,o)=>{const i=t.querySelectorAll(`.${e}`);return!i||!i.length?null:Array.from(i).map(s=>{const l=s.getBoundingClientRect();return{id:s.getAttribute("data-handleid"),type:e,nodeId:o,position:s.getAttribute("data-handlepos"),x:(l.left-n.left)/r,y:(l.top-n.top)/r,...Ou(s)}})};function vm({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:o,sourceControlY:i,targetControlX:s,targetControlY:l}){const a=e*.125+o*.375+s*.375+n*.125,u=t*.125+i*.375+l*.375+r*.125,f=Math.abs(a-e),c=Math.abs(u-t);return[a,u,f,c]}function pi(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Ad({pos:e,x1:t,y1:n,x2:r,y2:o,c:i}){switch(e){case J.Left:return[t-pi(t-r,i),n];case J.Right:return[t+pi(r-t,i),n];case J.Top:return[t,n-pi(n-o,i)];case J.Bottom:return[t,n+pi(o-n,i)]}}function wm({sourceX:e,sourceY:t,sourcePosition:n=J.Bottom,targetX:r,targetY:o,targetPosition:i=J.Top,curvature:s=.25}){const[l,a]=Ad({pos:n,x1:e,y1:t,x2:r,y2:o,c:s}),[u,f]=Ad({pos:i,x1:r,y1:o,x2:e,y2:t,c:s}),[c,d,x,g]=vm({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:l,sourceControlY:a,targetControlX:u,targetControlY:f});return[`M${e},${t} C${l},${a} ${u},${f} ${r},${o}`,c,d,x,g]}function _m({sourceX:e,sourceY:t,targetX:n,targetY:r}){const o=Math.abs(n-e)/2,i=n<e?n+o:n-o,s=Math.abs(r-t)/2,l=r<t?r+s:r-s;return[i,l,o,s]}function V_({sourceNode:e,targetNode:t,selected:n=!1,zIndex:r=0,elevateOnSelect:o=!1,zIndexMode:i="basic"}){if(i==="manual")return r;const s=o&&n?r+1e3:r,l=Math.max(e.parentId||o&&e.selected?e.internals.z:0,t.parentId||o&&t.selected?t.internals.z:0);return s+l}function B_({sourceNode:e,targetNode:t,width:n,height:r,transform:o}){const i=Ds(hs(e),hs(t));i.x===i.x2&&(i.x2+=1),i.y===i.y2&&(i.y2+=1);const s={x:-o[0]/o[2],y:-o[1]/o[2],width:n/o[2],height:r/o[2]};return To(s,zs(i))>0}const U_=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`xy-edge__${e}${t||""}-${n}${r||""}`,W_=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),Sm=(e,t,n={})=>{if(!e.source||!e.target)return t;const r=n.getEdgeId||U_;let o;return um(e)?o={...e}:o={...e,id:r(e)},W_(o,t)?t:(o.sourceHandle===null&&delete o.sourceHandle,o.targetHandle===null&&delete o.targetHandle,t.concat(o))};function Nm({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[o,i,s,l]=_m({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,o,i,s,l]}const Pd={[J.Left]:{x:-1,y:0},[J.Right]:{x:1,y:0},[J.Top]:{x:0,y:-1},[J.Bottom]:{x:0,y:1}},Y_=({source:e,sourcePosition:t=J.Bottom,target:n})=>t===J.Left||t===J.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},bd=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function X_({source:e,sourcePosition:t=J.Bottom,target:n,targetPosition:r=J.Top,center:o,offset:i,stepPosition:s}){const l=Pd[t],a=Pd[r],u={x:e.x+l.x*i,y:e.y+l.y*i},f={x:n.x+a.x*i,y:n.y+a.y*i},c=Y_({source:u,sourcePosition:t,target:f}),d=c.x!==0?"x":"y",x=c[d];let g=[],w,_;const m={x:0,y:0},y={x:0,y:0},[,,h,v]=_m({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(l[d]*a[d]===-1){d==="x"?(w=o.x??u.x+(f.x-u.x)*s,_=o.y??(u.y+f.y)/2):(w=o.x??(u.x+f.x)/2,_=o.y??u.y+(f.y-u.y)*s);const E=[{x:w,y:u.y},{x:w,y:f.y}],k=[{x:u.x,y:_},{x:f.x,y:_}];l[d]===x?g=d==="x"?E:k:g=d==="x"?k:E}else{const E=[{x:u.x,y:f.y}],k=[{x:f.x,y:u.y}];if(d==="x"?g=l.x===x?k:E:g=l.y===x?E:k,t===r){const L=Math.abs(e[d]-n[d]);if(L<=i){const V=Math.min(i-1,i-L);l[d]===x?m[d]=(u[d]>e[d]?-1:1)*V:y[d]=(f[d]>n[d]?-1:1)*V}}if(t!==r){const L=d==="x"?"y":"x",V=l[d]===a[L],N=u[L]>f[L],P=u[L]<f[L];(l[d]===1&&(!V&&N||V&&P)||l[d]!==1&&(!V&&P||V&&N))&&(g=d==="x"?E:k)}const j={x:u.x+m.x,y:u.y+m.y},A={x:f.x+y.x,y:f.y+y.y},z=Math.max(Math.abs(j.x-g[0].x),Math.abs(A.x-g[0].x)),T=Math.max(Math.abs(j.y-g[0].y),Math.abs(A.y-g[0].y));z>=T?(w=(j.x+A.x)/2,_=g[0].y):(w=g[0].x,_=(j.y+A.y)/2)}return[[e,{x:u.x+m.x,y:u.y+m.y},...g,{x:f.x+y.x,y:f.y+y.y},n],w,_,h,v]}function G_(e,t,n,r){const o=Math.min(bd(e,t)/2,bd(t,n)/2,r),{x:i,y:s}=t;if(e.x===i&&i===n.x||e.y===s&&s===n.y)return`L${i} ${s}`;if(e.y===s){const u=e.x<n.x?-1:1,f=e.y<n.y?1:-1;return`L ${i+o*u},${s}Q ${i},${s} ${i},${s+o*f}`}const l=e.x<n.x?1:-1,a=e.y<n.y?-1:1;return`L ${i},${s+o*a}Q ${i},${s} ${i+o*l},${s}`}function Ta({sourceX:e,sourceY:t,sourcePosition:n=J.Bottom,targetX:r,targetY:o,targetPosition:i=J.Top,borderRadius:s=5,centerX:l,centerY:a,offset:u=20,stepPosition:f=.5}){const[c,d,x,g,w]=X_({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:o},targetPosition:i,center:{x:l,y:a},offset:u,stepPosition:f});return[c.reduce((m,y,h)=>{let v="";return h>0&&h<c.length-1?v=G_(c[h-1],y,c[h+1],s):v=`${h===0?"M":"L"}${y.x} ${y.y}`,m+=v,m},""),d,x,g,w]}function Rd(e){var t;return e&&!!(e.internals.handleBounds||(t=e.handles)!=null&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function Q_(e){var c;const{sourceNode:t,targetNode:n}=e;if(!Rd(t)||!Rd(n))return null;const r=t.internals.handleBounds||Ld(t.handles),o=n.internals.handleBounds||Ld(n.handles),i=$d((r==null?void 0:r.source)??[],e.sourceHandle),s=$d(e.connectionMode===Sr.Strict?(o==null?void 0:o.target)??[]:((o==null?void 0:o.target)??[]).concat((o==null?void 0:o.source)??[]),e.targetHandle);if(!i||!s)return(c=e.onError)==null||c.call(e,"008",Rt.error008(i?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const l=(i==null?void 0:i.position)||J.Bottom,a=(s==null?void 0:s.position)||J.Top,u=Fn(t,i,l),f=Fn(n,s,a);return{sourceX:u.x,sourceY:u.y,targetX:f.x,targetY:f.y,sourcePosition:l,targetPosition:a}}function Ld(e){if(!e)return null;const t=[],n=[];for(const r of e)r.width=r.width??1,r.height=r.height??1,r.type==="source"?t.push(r):r.type==="target"&&n.push(r);return{source:t,target:n}}function Fn(e,t,n=J.Left,r=!1){const o=((t==null?void 0:t.x)??0)+e.internals.positionAbsolute.x,i=((t==null?void 0:t.y)??0)+e.internals.positionAbsolute.y,{width:s,height:l}=t??Qt(e);if(r)return{x:o+s/2,y:i+l/2};switch((t==null?void 0:t.position)??n){case J.Top:return{x:o+s/2,y:i};case J.Right:return{x:o+s,y:i+l/2};case J.Bottom:return{x:o+s/2,y:i+l};case J.Left:return{x:o,y:i+l/2}}}function $d(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function Aa(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`:""}function K_(e,{id:t,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:o}){const i=new Set;return e.reduce((s,l)=>([l.markerStart||r,l.markerEnd||o].forEach(a=>{if(a&&typeof a=="object"){const u=Aa(a,t);i.has(u)||(s.push({id:u,color:a.color||n,...a}),i.add(u))}}),s),[]).sort((s,l)=>s.id.localeCompare(l.id))}const Em=1e3,Z_=10,Fu={nodeOrigin:[0,0],nodeExtent:jo,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},q_={...Fu,checkEquality:!0};function Hu(e,t){const n={...e};for(const r in t)t[r]!==void 0&&(n[r]=t[r]);return n}function J_(e,t,n){const r=Hu(Fu,n);for(const o of e.values())if(o.parentId)Bu(o,e,t,r);else{const i=Fo(o,r.nodeOrigin),s=Cr(o.extent)?o.extent:r.nodeExtent,l=On(i,s,Qt(o));o.internals.positionAbsolute=l}}function eS(e,t){if(!e.handles)return e.measured?t==null?void 0:t.internals.handleBounds:void 0;const n=[],r=[];for(const o of e.handles){const i={id:o.id,width:o.width??1,height:o.height??1,nodeId:e.id,x:o.x,y:o.y,position:o.position,type:o.type};o.type==="source"?n.push(i):o.type==="target"&&r.push(i)}return{source:n,target:r}}function Vu(e){return e==="manual"}function Pa(e,t,n,r={}){var u,f;const o=Hu(q_,r),i={i:0},s=new Map(t),l=o!=null&&o.elevateNodesOnSelect&&!Vu(o.zIndexMode)?Em:0;let a=e.length>0;t.clear(),n.clear();for(const c of e){let d=s.get(c.id);if(o.checkEquality&&c===(d==null?void 0:d.internals.userNode))t.set(c.id,d);else{const x=Fo(c,o.nodeOrigin),g=Cr(c.extent)?c.extent:o.nodeExtent,w=On(x,g,Qt(c));d={...o.defaults,...c,measured:{width:(u=c.measured)==null?void 0:u.width,height:(f=c.measured)==null?void 0:f.height},internals:{positionAbsolute:w,handleBounds:eS(c,d),z:Cm(c,l,o.zIndexMode),userNode:c}},t.set(c.id,d)}(d.measured===void 0||d.measured.width===void 0||d.measured.height===void 0)&&!d.hidden&&(a=!1),c.parentId&&Bu(d,t,n,r,i)}return a}function tS(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function Bu(e,t,n,r,o){const{elevateNodesOnSelect:i,nodeOrigin:s,nodeExtent:l,zIndexMode:a}=Hu(Fu,r),u=e.parentId,f=t.get(u);if(!f){console.warn(`Parent node ${u} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}tS(e,n),o&&!f.parentId&&f.internals.rootParentIndex===void 0&&a==="auto"&&(f.internals.rootParentIndex=++o.i,f.internals.z=f.internals.z+o.i*Z_),o&&f.internals.rootParentIndex!==void 0&&(o.i=f.internals.rootParentIndex);const c=i&&!Vu(a)?Em:0,{x:d,y:x,z:g}=nS(e,f,s,l,c,a),{positionAbsolute:w}=e.internals,_=d!==w.x||x!==w.y;(_||g!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:_?{x:d,y:x}:w,z:g}})}function Cm(e,t,n){const r=_t(e.zIndex)?e.zIndex:0;return Vu(n)?r:r+(e.selected?t:0)}function nS(e,t,n,r,o,i){const{x:s,y:l}=t.internals.positionAbsolute,a=Qt(e),u=Fo(e,n),f=Cr(e.extent)?On(u,e.extent,a):u;let c=On({x:s+f.x,y:l+f.y},r,a);e.extent==="parent"&&(c=dm(c,a,t));const d=Cm(e,o,i),x=t.internals.z??0;return{x:c.x,y:c.y,z:x>=d?x+1:d}}function Uu(e,t,n,r=[0,0]){var s;const o=[],i=new Map;for(const l of e){const a=t.get(l.parentId);if(!a)continue;const u=((s=i.get(l.parentId))==null?void 0:s.expandedRect)??Er(a),f=hm(u,l.rect);i.set(l.parentId,{expandedRect:f,parent:a})}return i.size>0&&i.forEach(({expandedRect:l,parent:a},u)=>{var h;const f=a.internals.positionAbsolute,c=Qt(a),d=a.origin??r,x=l.x<f.x?Math.round(Math.abs(f.x-l.x)):0,g=l.y<f.y?Math.round(Math.abs(f.y-l.y)):0,w=Math.max(c.width,Math.round(l.width)),_=Math.max(c.height,Math.round(l.height)),m=(w-c.width)*d[0],y=(_-c.height)*d[1];(x>0||g>0||m||y)&&(o.push({id:u,type:"position",position:{x:a.position.x-x+m,y:a.position.y-g+y}}),(h=n.get(u))==null||h.forEach(v=>{e.some(S=>S.id===v.id)||o.push({id:v.id,type:"position",position:{x:v.position.x+x,y:v.position.y+g}})})),(c.width<l.width||c.height<l.height||x||g)&&o.push({id:u,type:"dimensions",setAttributes:!0,dimensions:{width:w+(x?d[0]*x-m:0),height:_+(g?d[1]*g-y:0)}})}),o}function rS(e,t,n,r,o,i,s){const l=r==null?void 0:r.querySelector(".xyflow__viewport");let a=!1;if(!l)return{changes:[],updatedInternals:a};const u=[],f=window.getComputedStyle(l),{m22:c}=new window.DOMMatrixReadOnly(f.transform),d=[];for(const x of e.values()){const g=t.get(x.id);if(!g)continue;if(g.hidden){t.set(g.id,{...g,internals:{...g.internals,handleBounds:void 0}}),a=!0;continue}const w=Ou(x.nodeElement),_=g.measured.width!==w.width||g.measured.height!==w.height;if(!!(w.width&&w.height&&(_||!g.internals.handleBounds||x.force))){const y=x.nodeElement.getBoundingClientRect(),h=Cr(g.extent)?g.extent:i;let{positionAbsolute:v}=g.internals;g.parentId&&g.extent==="parent"?v=dm(v,w,t.get(g.parentId)):h&&(v=On(v,h,w));const S={...g,measured:w,internals:{...g.internals,positionAbsolute:v,handleBounds:{source:Td("source",x.nodeElement,y,c,g.id),target:Td("target",x.nodeElement,y,c,g.id)}}};t.set(g.id,S),g.parentId&&Bu(S,t,n,{nodeOrigin:o,zIndexMode:s}),a=!0,_&&(u.push({id:g.id,type:"dimensions",dimensions:w}),g.expandParent&&g.parentId&&d.push({id:g.id,parentId:g.parentId,rect:Er(S,o)}))}}if(d.length>0){const x=Uu(d,t,n,o);u.push(...x)}return{changes:u,updatedInternals:a}}async function oS({delta:e,panZoom:t,transform:n,translateExtent:r,width:o,height:i}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const s=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[o,i]],r),l=!!s&&(s.x!==n[0]||s.y!==n[1]||s.k!==n[2]);return Promise.resolve(l)}function Dd(e,t,n,r,o,i){let s=o;const l=r.get(s)||new Map;r.set(s,l.set(n,t)),s=`${o}-${e}`;const a=r.get(s)||new Map;if(r.set(s,a.set(n,t)),i){s=`${o}-${e}-${i}`;const u=r.get(s)||new Map;r.set(s,u.set(n,t))}}function km(e,t,n){e.clear(),t.clear();for(const r of n){const{source:o,target:i,sourceHandle:s=null,targetHandle:l=null}=r,a={edgeId:r.id,source:o,target:i,sourceHandle:s,targetHandle:l},u=`${o}-${s}--${i}-${l}`,f=`${i}-${l}--${o}-${s}`;Dd("source",a,f,e,o,s),Dd("target",a,u,e,i,l),t.set(r.id,r)}}function Mm(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:Mm(n,t):!1}function zd(e,t,n){var o;let r=e;do{if((o=r==null?void 0:r.matches)!=null&&o.call(r,t))return!0;if(r===n)return!1;r=r==null?void 0:r.parentElement}while(r);return!1}function iS(e,t,n,r){const o=new Map;for(const[i,s]of e)if((s.selected||s.id===r)&&(!s.parentId||!Mm(s,e))&&(s.draggable||t&&typeof s.draggable>"u")){const l=e.get(i);l&&o.set(i,{id:i,position:l.position||{x:0,y:0},distance:{x:n.x-l.internals.positionAbsolute.x,y:n.y-l.internals.positionAbsolute.y},extent:l.extent,parentId:l.parentId,origin:l.origin,expandParent:l.expandParent,internals:{positionAbsolute:l.internals.positionAbsolute||{x:0,y:0}},measured:{width:l.measured.width??0,height:l.measured.height??0}})}return o}function Sl({nodeId:e,dragItems:t,nodeLookup:n,dragging:r=!0}){var s,l,a;const o=[];for(const[u,f]of t){const c=(s=n.get(u))==null?void 0:s.internals.userNode;c&&o.push({...c,position:f.position,dragging:r})}if(!e)return[o[0],o];const i=(l=n.get(e))==null?void 0:l.internals.userNode;return[i?{...i,position:((a=t.get(e))==null?void 0:a.position)||i.position,dragging:r}:o[0],o]}function sS({dragItems:e,snapGrid:t,x:n,y:r}){const o=e.values().next().value;if(!o)return null;const i={x:n-o.distance.x,y:r-o.distance.y},s=Vo(i,t);return{x:s.x-i.x,y:s.y-i.y}}function lS({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:r,onDragStop:o}){let i={x:null,y:null},s=0,l=new Map,a=!1,u={x:0,y:0},f=null,c=!1,d=null,x=!1,g=!1,w=null;function _({noDragClassName:y,handleSelector:h,domNode:v,isSelectable:S,nodeId:E,nodeClickDistance:k=0}){d=Je(v);function j({x:L,y:V}){const{nodeLookup:N,nodeExtent:P,snapGrid:I,snapToGrid:D,nodeOrigin:C,onNodeDrag:M,onSelectionDrag:R,onError:O,updateNodePositions:H}=t();i={x:L,y:V};let X=!1;const W=l.size>1,ee=W&&P?Ia(Ho(l)):null,F=W&&D?sS({dragItems:l,snapGrid:I,x:L,y:V}):null;for(const[te,Y]of l){if(!N.has(te))continue;let re={x:L-Y.distance.x,y:V-Y.distance.y};D&&(re=F?{x:Math.round(re.x+F.x),y:Math.round(re.y+F.y)}:Vo(re,I));let G=null;if(W&&P&&!Y.extent&&ee){const{positionAbsolute:Q}=Y.internals,oe=Q.x-ee.x+P[0][0],ue=Q.x+Y.measured.width-ee.x2+P[1][0],ie=Q.y-ee.y+P[0][1],ve=Q.y+Y.measured.height-ee.y2+P[1][1];G=[[oe,ie],[ue,ve]]}const{position:K,positionAbsolute:Z}=cm({nodeId:te,nextPosition:re,nodeLookup:N,nodeExtent:G||P,nodeOrigin:C,onError:O});X=X||Y.position.x!==K.x||Y.position.y!==K.y,Y.position=K,Y.internals.positionAbsolute=Z}if(g=g||X,!!X&&(H(l,!0),w&&(r||M||!E&&R))){const[te,Y]=Sl({nodeId:E,dragItems:l,nodeLookup:N});r==null||r(w,l,te,Y),M==null||M(w,te,Y),E||R==null||R(w,Y)}}async function A(){if(!f)return;const{transform:L,panBy:V,autoPanSpeed:N,autoPanOnNodeDrag:P}=t();if(!P){a=!1,cancelAnimationFrame(s);return}const[I,D]=fm(u,f,N);(I!==0||D!==0)&&(i.x=(i.x??0)-I/L[2],i.y=(i.y??0)-D/L[2],await V({x:I,y:D})&&j(i)),s=requestAnimationFrame(A)}function z(L){var W;const{nodeLookup:V,multiSelectionActive:N,nodesDraggable:P,transform:I,snapGrid:D,snapToGrid:C,selectNodesOnDrag:M,onNodeDragStart:R,onSelectionDragStart:O,unselectNodesAndEdges:H}=t();c=!0,(!M||!S)&&!N&&E&&((W=V.get(E))!=null&&W.selected||H()),S&&M&&E&&(e==null||e(E));const X=io(L.sourceEvent,{transform:I,snapGrid:D,snapToGrid:C,containerBounds:f});if(i=X,l=iS(V,P,X,E),l.size>0&&(n||R||!E&&O)){const[ee,F]=Sl({nodeId:E,dragItems:l,nodeLookup:V});n==null||n(L.sourceEvent,l,ee,F),R==null||R(L.sourceEvent,ee,F),E||O==null||O(L.sourceEvent,F)}}const T=Bp().clickDistance(k).on("start",L=>{const{domNode:V,nodeDragThreshold:N,transform:P,snapGrid:I,snapToGrid:D}=t();f=(V==null?void 0:V.getBoundingClientRect())||null,x=!1,g=!1,w=L.sourceEvent,N===0&&z(L),i=io(L.sourceEvent,{transform:P,snapGrid:I,snapToGrid:D,containerBounds:f}),u=St(L.sourceEvent,f)}).on("drag",L=>{const{autoPanOnNodeDrag:V,transform:N,snapGrid:P,snapToGrid:I,nodeDragThreshold:D,nodeLookup:C}=t(),M=io(L.sourceEvent,{transform:N,snapGrid:P,snapToGrid:I,containerBounds:f});if(w=L.sourceEvent,(L.sourceEvent.type==="touchmove"&&L.sourceEvent.touches.length>1||E&&!C.has(E))&&(x=!0),!x){if(!a&&V&&c&&(a=!0,A()),!c){const R=St(L.sourceEvent,f),O=R.x-u.x,H=R.y-u.y;Math.sqrt(O*O+H*H)>D&&z(L)}(i.x!==M.xSnapped||i.y!==M.ySnapped)&&l&&c&&(u=St(L.sourceEvent,f),j(M))}}).on("end",L=>{if(!(!c||x)&&(a=!1,c=!1,cancelAnimationFrame(s),l.size>0)){const{nodeLookup:V,updateNodePositions:N,onNodeDragStop:P,onSelectionDragStop:I}=t();if(g&&(N(l,!1),g=!1),o||P||!E&&I){const[D,C]=Sl({nodeId:E,dragItems:l,nodeLookup:V,dragging:!1});o==null||o(L.sourceEvent,l,D,C),P==null||P(L.sourceEvent,D,C),E||I==null||I(L.sourceEvent,C)}}}).filter(L=>{const V=L.target;return!L.button&&(!y||!zd(V,`.${y}`,v))&&(!h||zd(V,h,v))});d.call(T)}function m(){d==null||d.on(".drag",null)}return{update:_,destroy:m}}function aS(e,t,n){const r=[],o={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const i of t.values())To(o,Er(i))>0&&r.push(i);return r}const uS=250;function cS(e,t,n,r){var l,a;let o=[],i=1/0;const s=aS(e,n,t+uS);for(const u of s){const f=[...((l=u.internals.handleBounds)==null?void 0:l.source)??[],...((a=u.internals.handleBounds)==null?void 0:a.target)??[]];for(const c of f){if(r.nodeId===c.nodeId&&r.type===c.type&&r.id===c.id)continue;const{x:d,y:x}=Fn(u,c,c.position,!0),g=Math.sqrt(Math.pow(d-e.x,2)+Math.pow(x-e.y,2));g>t||(g<i?(o=[{...c,x:d,y:x}],i=g):g===i&&o.push({...c,x:d,y:x}))}}if(!o.length)return null;if(o.length>1){const u=r.type==="source"?"target":"source";return o.find(f=>f.type===u)??o[0]}return o[0]}function jm(e,t,n,r,o,i=!1){var u,f,c;const s=r.get(e);if(!s)return null;const l=o==="strict"?(u=s.internals.handleBounds)==null?void 0:u[t]:[...((f=s.internals.handleBounds)==null?void 0:f.source)??[],...((c=s.internals.handleBounds)==null?void 0:c.target)??[]],a=(n?l==null?void 0:l.find(d=>d.id===n):l==null?void 0:l[0])??null;return a&&i?{...a,...Fn(s,a,a.position,!0)}:a}function Im(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function dS(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const Tm=()=>!0;function fS(e,{connectionMode:t,connectionRadius:n,handleId:r,nodeId:o,edgeUpdaterType:i,isTarget:s,domNode:l,nodeLookup:a,lib:u,autoPanOnConnect:f,flowId:c,panBy:d,cancelConnection:x,onConnectStart:g,onConnect:w,onConnectEnd:_,isValidConnection:m=Tm,onReconnectEnd:y,updateConnection:h,getTransform:v,getFromHandle:S,autoPanSpeed:E,dragThreshold:k=1,handleDomNode:j}){const A=gm(e.target);let z=0,T;const{x:L,y:V}=St(e),N=Im(i,j),P=l==null?void 0:l.getBoundingClientRect();let I=!1;if(!P||!N)return;const D=jm(o,N,r,a,t);if(!D)return;let C=St(e,P),M=!1,R=null,O=!1,H=null;function X(){if(!f||!P)return;const[K,Z]=fm(C,P,E);d({x:K,y:Z}),z=requestAnimationFrame(X)}const W={...D,nodeId:o,type:N,position:D.position},ee=a.get(o);let te={inProgress:!0,isValid:null,from:Fn(ee,W,J.Left,!0),fromHandle:W,fromPosition:W.position,fromNode:ee,to:C,toHandle:null,toPosition:kd[W.position],toNode:null,pointer:C};function Y(){I=!0,h(te),g==null||g(e,{nodeId:o,handleId:r,handleType:N})}k===0&&Y();function re(K){if(!I){const{x:ve,y:pt}=St(K),lt=ve-L,b=pt-V;if(!(lt*lt+b*b>k*k))return;Y()}if(!S()||!W){G(K);return}const Z=v();C=St(K,P),T=cS(Bo(C,Z,!1,[1,1]),n,a,W),M||(X(),M=!0);const Q=Am(K,{handle:T,connectionMode:t,fromNodeId:o,fromHandleId:r,fromType:s?"target":"source",isValidConnection:m,doc:A,lib:u,flowId:c,nodeLookup:a});H=Q.handleDomNode,R=Q.connection,O=dS(!!T,Q.isValid);const oe=a.get(o),ue=oe?Fn(oe,W,J.Left,!0):te.from,ie={...te,from:ue,isValid:O,to:Q.toHandle&&O?ps({x:Q.toHandle.x,y:Q.toHandle.y},Z):C,toHandle:Q.toHandle,toPosition:O&&Q.toHandle?Q.toHandle.position:kd[W.position],toNode:Q.toHandle?a.get(Q.toHandle.nodeId):null,pointer:C};h(ie),te=ie}function G(K){if(!("touches"in K&&K.touches.length>0)){if(I){(T||H)&&R&&O&&(w==null||w(R));const{inProgress:Z,...Q}=te,oe={...Q,toPosition:te.toHandle?te.toPosition:null};_==null||_(K,oe),i&&(y==null||y(K,oe))}x(),cancelAnimationFrame(z),M=!1,O=!1,R=null,H=null,A.removeEventListener("mousemove",re),A.removeEventListener("mouseup",G),A.removeEventListener("touchmove",re),A.removeEventListener("touchend",G)}}A.addEventListener("mousemove",re),A.addEventListener("mouseup",G),A.addEventListener("touchmove",re),A.addEventListener("touchend",G)}function Am(e,{handle:t,connectionMode:n,fromNodeId:r,fromHandleId:o,fromType:i,doc:s,lib:l,flowId:a,isValidConnection:u=Tm,nodeLookup:f}){const c=i==="target",d=t?s.querySelector(`.${l}-flow__handle[data-id="${a}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x,y:g}=St(e),w=s.elementFromPoint(x,g),_=w!=null&&w.classList.contains(`${l}-flow__handle`)?w:d,m={handleDomNode:_,isValid:!1,connection:null,toHandle:null};if(_){const y=Im(void 0,_),h=_.getAttribute("data-nodeid"),v=_.getAttribute("data-handleid"),S=_.classList.contains("connectable"),E=_.classList.contains("connectableend");if(!h||!y)return m;const k={source:c?h:r,sourceHandle:c?v:o,target:c?r:h,targetHandle:c?o:v};m.connection=k;const A=S&&E&&(n===Sr.Strict?c&&y==="source"||!c&&y==="target":h!==r||v!==o);m.isValid=A&&u(k),m.toHandle=jm(h,y,v,f,n,!0)}return m}const ba={onPointerDown:fS,isValid:Am};function hS({domNode:e,panZoom:t,getTransform:n,getViewScale:r}){const o=Je(e);function i({translateExtent:l,width:a,height:u,zoomStep:f=1,pannable:c=!0,zoomable:d=!0,inversePan:x=!1}){const g=h=>{if(h.sourceEvent.type!=="wheel"||!t)return;const v=n(),S=h.sourceEvent.ctrlKey&&Ao()?10:1,E=-h.sourceEvent.deltaY*(h.sourceEvent.deltaMode===1?.05:h.sourceEvent.deltaMode?1:.002)*f,k=v[2]*Math.pow(2,E*S);t.scaleTo(k)};let w=[0,0];const _=h=>{(h.sourceEvent.type==="mousedown"||h.sourceEvent.type==="touchstart")&&(w=[h.sourceEvent.clientX??h.sourceEvent.touches[0].clientX,h.sourceEvent.clientY??h.sourceEvent.touches[0].clientY])},m=h=>{const v=n();if(h.sourceEvent.type!=="mousemove"&&h.sourceEvent.type!=="touchmove"||!t)return;const S=[h.sourceEvent.clientX??h.sourceEvent.touches[0].clientX,h.sourceEvent.clientY??h.sourceEvent.touches[0].clientY],E=[S[0]-w[0],S[1]-w[1]];w=S;const k=r()*Math.max(v[2],Math.log(v[2]))*(x?-1:1),j={x:v[0]-E[0]*k,y:v[1]-E[1]*k},A=[[0,0],[a,u]];t.setViewportConstrained({x:j.x,y:j.y,zoom:v[2]},A,l)},y=om().on("start",_).on("zoom",c?m:null).on("zoom.wheel",d?g:null);o.call(y,{})}function s(){o.on("zoom",null)}return{update:i,destroy:s,pointer:xt}}const Os=e=>({x:e.x,y:e.y,zoom:e.k}),Nl=({x:e,y:t,zoom:n})=>$s.translate(e,t).scale(n),rr=(e,t)=>e.target.closest(`.${t}`),Pm=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),pS=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,El=(e,t=0,n=pS,r=()=>{})=>{const o=typeof t=="number"&&t>0;return o||r(),o?e.transition().duration(t).ease(n).on("end",r):e},bm=e=>{const t=e.ctrlKey&&Ao()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function mS({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:r,panOnScrollMode:o,panOnScrollSpeed:i,zoomOnPinch:s,onPanZoomStart:l,onPanZoom:a,onPanZoomEnd:u}){return f=>{if(rr(f,t))return f.ctrlKey&&f.preventDefault(),!1;f.preventDefault(),f.stopImmediatePropagation();const c=n.property("__zoom").k||1;if(f.ctrlKey&&s){const _=xt(f),m=bm(f),y=c*Math.pow(2,m);r.scaleTo(n,y,_,f);return}const d=f.deltaMode===1?20:1;let x=o===An.Vertical?0:f.deltaX*d,g=o===An.Horizontal?0:f.deltaY*d;!Ao()&&f.shiftKey&&o!==An.Vertical&&(x=f.deltaY*d,g=0),r.translateBy(n,-(x/c)*i,-(g/c)*i,{internal:!0});const w=Os(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling?(a==null||a(f,w),e.panScrollTimeout=setTimeout(()=>{u==null||u(f,w),e.isPanScrolling=!1},150)):(e.isPanScrolling=!0,l==null||l(f,w))}}function gS({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(r,o){const i=r.type==="wheel",s=!t&&i&&!r.ctrlKey,l=rr(r,e);if(r.ctrlKey&&i&&l&&r.preventDefault(),s||l)return null;r.preventDefault(),n.call(this,r,o)}}function yS({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return r=>{var i,s,l;if((i=r.sourceEvent)!=null&&i.internal)return;const o=Os(r.transform);e.mouseButton=((s=r.sourceEvent)==null?void 0:s.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=o,((l=r.sourceEvent)==null?void 0:l.type)==="mousedown"&&t(!0),n&&(n==null||n(r.sourceEvent,o))}}function xS({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:r,onPanZoom:o}){return i=>{var s,l;e.usedRightMouseButton=!!(n&&Pm(t,e.mouseButton??0)),(s=i.sourceEvent)!=null&&s.sync||r([i.transform.x,i.transform.y,i.transform.k]),o&&!((l=i.sourceEvent)!=null&&l.internal)&&(o==null||o(i.sourceEvent,Os(i.transform)))}}function vS({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:o,onPaneContextMenu:i}){return s=>{var l;if(!((l=s.sourceEvent)!=null&&l.internal)&&(e.isZoomingOrPanning=!1,i&&Pm(t,e.mouseButton??0)&&!e.usedRightMouseButton&&s.sourceEvent&&i(s.sourceEvent),e.usedRightMouseButton=!1,r(!1),o)){const a=Os(s.transform);e.prevViewport=a,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{o==null||o(s.sourceEvent,a)},n?150:0)}}}function wS({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:r,panOnScroll:o,zoomOnDoubleClick:i,userSelectionActive:s,noWheelClassName:l,noPanClassName:a,lib:u,connectionInProgress:f}){return c=>{var _;const d=e||t,x=n&&c.ctrlKey,g=c.type==="wheel";if(c.button===1&&c.type==="mousedown"&&(rr(c,`${u}-flow__node`)||rr(c,`${u}-flow__edge`)))return!0;if(!r&&!d&&!o&&!i&&!n||s||f&&!g||rr(c,l)&&g||rr(c,a)&&(!g||o&&g&&!e)||!n&&c.ctrlKey&&g)return!1;if(!n&&c.type==="touchstart"&&((_=c.touches)==null?void 0:_.length)>1)return c.preventDefault(),!1;if(!d&&!o&&!x&&g||!r&&(c.type==="mousedown"||c.type==="touchstart")||Array.isArray(r)&&!r.includes(c.button)&&c.type==="mousedown")return!1;const w=Array.isArray(r)&&r.includes(c.button)||!c.button||c.button<=1;return(!c.ctrlKey||g)&&w}}function _S({domNode:e,minZoom:t,maxZoom:n,translateExtent:r,viewport:o,onPanZoom:i,onPanZoomStart:s,onPanZoomEnd:l,onDraggingChange:a}){const u={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},f=e.getBoundingClientRect(),c=om().scaleExtent([t,n]).translateExtent(r),d=Je(e).call(c);y({x:o.x,y:o.y,zoom:Nr(o.zoom,t,n)},[[0,0],[f.width,f.height]],r);const x=d.on("wheel.zoom"),g=d.on("dblclick.zoom");c.wheelDelta(bm);function w(T,L){return d?new Promise(V=>{c==null||c.interpolate((L==null?void 0:L.interpolate)==="linear"?oo:Ai).transform(El(d,L==null?void 0:L.duration,L==null?void 0:L.ease,()=>V(!0)),T)}):Promise.resolve(!1)}function _({noWheelClassName:T,noPanClassName:L,onPaneContextMenu:V,userSelectionActive:N,panOnScroll:P,panOnDrag:I,panOnScrollMode:D,panOnScrollSpeed:C,preventScrolling:M,zoomOnPinch:R,zoomOnScroll:O,zoomOnDoubleClick:H,zoomActivationKeyPressed:X,lib:W,onTransformChange:ee,connectionInProgress:F,paneClickDistance:te,selectionOnDrag:Y}){N&&!u.isZoomingOrPanning&&m();const re=P&&!X&&!N;c.clickDistance(Y?1/0:!_t(te)||te<0?0:te);const G=re?mS({zoomPanValues:u,noWheelClassName:T,d3Selection:d,d3Zoom:c,panOnScrollMode:D,panOnScrollSpeed:C,zoomOnPinch:R,onPanZoomStart:s,onPanZoom:i,onPanZoomEnd:l}):gS({noWheelClassName:T,preventScrolling:M,d3ZoomHandler:x});if(d.on("wheel.zoom",G,{passive:!1}),!N){const Z=yS({zoomPanValues:u,onDraggingChange:a,onPanZoomStart:s});c.on("start",Z);const Q=xS({zoomPanValues:u,panOnDrag:I,onPaneContextMenu:!!V,onPanZoom:i,onTransformChange:ee});c.on("zoom",Q);const oe=vS({zoomPanValues:u,panOnDrag:I,panOnScroll:P,onPaneContextMenu:V,onPanZoomEnd:l,onDraggingChange:a});c.on("end",oe)}const K=wS({zoomActivationKeyPressed:X,panOnDrag:I,zoomOnScroll:O,panOnScroll:P,zoomOnDoubleClick:H,zoomOnPinch:R,userSelectionActive:N,noPanClassName:L,noWheelClassName:T,lib:W,connectionInProgress:F});c.filter(K),H?d.on("dblclick.zoom",g):d.on("dblclick.zoom",null)}function m(){c.on("zoom",null)}async function y(T,L,V){const N=Nl(T),P=c==null?void 0:c.constrain()(N,L,V);return P&&await w(P),new Promise(I=>I(P))}async function h(T,L){const V=Nl(T);return await w(V,L),new Promise(N=>N(V))}function v(T){if(d){const L=Nl(T),V=d.property("__zoom");(V.k!==T.zoom||V.x!==T.x||V.y!==T.y)&&(c==null||c.transform(d,L,null,{sync:!0}))}}function S(){const T=d?rm(d.node()):{x:0,y:0,k:1};return{x:T.x,y:T.y,zoom:T.k}}function E(T,L){return d?new Promise(V=>{c==null||c.interpolate((L==null?void 0:L.interpolate)==="linear"?oo:Ai).scaleTo(El(d,L==null?void 0:L.duration,L==null?void 0:L.ease,()=>V(!0)),T)}):Promise.resolve(!1)}function k(T,L){return d?new Promise(V=>{c==null||c.interpolate((L==null?void 0:L.interpolate)==="linear"?oo:Ai).scaleBy(El(d,L==null?void 0:L.duration,L==null?void 0:L.ease,()=>V(!0)),T)}):Promise.resolve(!1)}function j(T){c==null||c.scaleExtent(T)}function A(T){c==null||c.translateExtent(T)}function z(T){const L=!_t(T)||T<0?0:T;c==null||c.clickDistance(L)}return{update:_,destroy:m,setViewport:h,setViewportConstrained:y,getViewport:S,scaleTo:E,scaleBy:k,setScaleExtent:j,setTranslateExtent:A,syncViewport:v,setClickDistance:z}}var kr;(function(e){e.Line="line",e.Handle="handle"})(kr||(kr={}));function SS({width:e,prevWidth:t,height:n,prevHeight:r,affectsX:o,affectsY:i}){const s=e-t,l=n-r,a=[s>0?1:s<0?-1:0,l>0?1:l<0?-1:0];return s&&o&&(a[0]=a[0]*-1),l&&i&&(a[1]=a[1]*-1),a}function Od(e){const t=e.includes("right")||e.includes("left"),n=e.includes("bottom")||e.includes("top"),r=e.includes("left"),o=e.includes("top");return{isHorizontal:t,isVertical:n,affectsX:r,affectsY:o}}function Zt(e,t){return Math.max(0,t-e)}function qt(e,t){return Math.max(0,e-t)}function mi(e,t,n){return Math.max(0,t-e,e-n)}function Fd(e,t){return e?!t:t}function NS(e,t,n,r,o,i,s,l){let{affectsX:a,affectsY:u}=t;const{isHorizontal:f,isVertical:c}=t,d=f&&c,{xSnapped:x,ySnapped:g}=n,{minWidth:w,maxWidth:_,minHeight:m,maxHeight:y}=r,{x:h,y:v,width:S,height:E,aspectRatio:k}=e;let j=Math.floor(f?x-e.pointerX:0),A=Math.floor(c?g-e.pointerY:0);const z=S+(a?-j:j),T=E+(u?-A:A),L=-i[0]*S,V=-i[1]*E;let N=mi(z,w,_),P=mi(T,m,y);if(s){let C=0,M=0;a&&j<0?C=Zt(h+j+L,s[0][0]):!a&&j>0&&(C=qt(h+z+L,s[1][0])),u&&A<0?M=Zt(v+A+V,s[0][1]):!u&&A>0&&(M=qt(v+T+V,s[1][1])),N=Math.max(N,C),P=Math.max(P,M)}if(l){let C=0,M=0;a&&j>0?C=qt(h+j,l[0][0]):!a&&j<0&&(C=Zt(h+z,l[1][0])),u&&A>0?M=qt(v+A,l[0][1]):!u&&A<0&&(M=Zt(v+T,l[1][1])),N=Math.max(N,C),P=Math.max(P,M)}if(o){if(f){const C=mi(z/k,m,y)*k;if(N=Math.max(N,C),s){let M=0;!a&&!u||a&&!u&&d?M=qt(v+V+z/k,s[1][1])*k:M=Zt(v+V+(a?j:-j)/k,s[0][1])*k,N=Math.max(N,M)}if(l){let M=0;!a&&!u||a&&!u&&d?M=Zt(v+z/k,l[1][1])*k:M=qt(v+(a?j:-j)/k,l[0][1])*k,N=Math.max(N,M)}}if(c){const C=mi(T*k,w,_)/k;if(P=Math.max(P,C),s){let M=0;!a&&!u||u&&!a&&d?M=qt(h+T*k+L,s[1][0])/k:M=Zt(h+(u?A:-A)*k+L,s[0][0])/k,P=Math.max(P,M)}if(l){let M=0;!a&&!u||u&&!a&&d?M=Zt(h+T*k,l[1][0])/k:M=qt(h+(u?A:-A)*k,l[0][0])/k,P=Math.max(P,M)}}}A=A+(A<0?P:-P),j=j+(j<0?N:-N),o&&(d?z>T*k?A=(Fd(a,u)?-j:j)/k:j=(Fd(a,u)?-A:A)*k:f?(A=j/k,u=a):(j=A*k,a=u));const I=a?h+j:h,D=u?v+A:v;return{width:S+(a?-j:j),height:E+(u?-A:A),x:i[0]*j*(a?-1:1)+I,y:i[1]*A*(u?-1:1)+D}}const Rm={width:0,height:0,x:0,y:0},ES={...Rm,pointerX:0,pointerY:0,aspectRatio:1};function CS(e){return[[0,0],[e.measured.width,e.measured.height]]}function kS(e,t,n){const r=t.position.x+e.position.x,o=t.position.y+e.position.y,i=e.measured.width??0,s=e.measured.height??0,l=n[0]*i,a=n[1]*s;return[[r-l,o-a],[r+i-l,o+s-a]]}function MS({domNode:e,nodeId:t,getStoreItems:n,onChange:r,onEnd:o}){const i=Je(e);let s={controlDirection:Od("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function l({controlPosition:u,boundaries:f,keepAspectRatio:c,resizeDirection:d,onResizeStart:x,onResize:g,onResizeEnd:w,shouldResize:_}){let m={...Rm},y={...ES};s={boundaries:f,resizeDirection:d,keepAspectRatio:c,controlDirection:Od(u)};let h,v=null,S=[],E,k,j,A=!1;const z=Bp().on("start",T=>{const{nodeLookup:L,transform:V,snapGrid:N,snapToGrid:P,nodeOrigin:I,paneDomNode:D}=n();if(h=L.get(t),!h)return;v=(D==null?void 0:D.getBoundingClientRect())??null;const{xSnapped:C,ySnapped:M}=io(T.sourceEvent,{transform:V,snapGrid:N,snapToGrid:P,containerBounds:v});m={width:h.measured.width??0,height:h.measured.height??0,x:h.position.x??0,y:h.position.y??0},y={...m,pointerX:C,pointerY:M,aspectRatio:m.width/m.height},E=void 0,h.parentId&&(h.extent==="parent"||h.expandParent)&&(E=L.get(h.parentId),k=E&&h.extent==="parent"?CS(E):void 0),S=[],j=void 0;for(const[R,O]of L)if(O.parentId===t&&(S.push({id:R,position:{...O.position},extent:O.extent}),O.extent==="parent"||O.expandParent)){const H=kS(O,h,O.origin??I);j?j=[[Math.min(H[0][0],j[0][0]),Math.min(H[0][1],j[0][1])],[Math.max(H[1][0],j[1][0]),Math.max(H[1][1],j[1][1])]]:j=H}x==null||x(T,{...m})}).on("drag",T=>{const{transform:L,snapGrid:V,snapToGrid:N,nodeOrigin:P}=n(),I=io(T.sourceEvent,{transform:L,snapGrid:V,snapToGrid:N,containerBounds:v}),D=[];if(!h)return;const{x:C,y:M,width:R,height:O}=m,H={},X=h.origin??P,{width:W,height:ee,x:F,y:te}=NS(y,s.controlDirection,I,s.boundaries,s.keepAspectRatio,X,k,j),Y=W!==R,re=ee!==O,G=F!==C&&Y,K=te!==M&&re;if(!G&&!K&&!Y&&!re)return;if((G||K||X[0]===1||X[1]===1)&&(H.x=G?F:m.x,H.y=K?te:m.y,m.x=H.x,m.y=H.y,S.length>0)){const ue=F-C,ie=te-M;for(const ve of S)ve.position={x:ve.position.x-ue+X[0]*(W-R),y:ve.position.y-ie+X[1]*(ee-O)},D.push(ve)}if((Y||re)&&(H.width=Y&&(!s.resizeDirection||s.resizeDirection==="horizontal")?W:m.width,H.height=re&&(!s.resizeDirection||s.resizeDirection==="vertical")?ee:m.height,m.width=H.width,m.height=H.height),E&&h.expandParent){const ue=X[0]*(H.width??0);H.x&&H.x<ue&&(m.x=ue,y.x=y.x-(H.x-ue));const ie=X[1]*(H.height??0);H.y&&H.y<ie&&(m.y=ie,y.y=y.y-(H.y-ie))}const Z=SS({width:m.width,prevWidth:R,height:m.height,prevHeight:O,affectsX:s.controlDirection.affectsX,affectsY:s.controlDirection.affectsY}),Q={...m,direction:Z};(_==null?void 0:_(T,Q))!==!1&&(A=!0,g==null||g(T,Q),r(H,D))}).on("end",T=>{A&&(w==null||w(T,{...m}),o==null||o({...m}),A=!1)});i.call(z)}function a(){i.on(".drag",null)}return{update:l,destroy:a}}var Lm={exports:{}},$m={},Dm={exports:{}},zm={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mr=$;function jS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var IS=typeof Object.is=="function"?Object.is:jS,TS=Mr.useState,AS=Mr.useEffect,PS=Mr.useLayoutEffect,bS=Mr.useDebugValue;function RS(e,t){var n=t(),r=TS({inst:{value:n,getSnapshot:t}}),o=r[0].inst,i=r[1];return PS(function(){o.value=n,o.getSnapshot=t,Cl(o)&&i({inst:o})},[e,n,t]),AS(function(){return Cl(o)&&i({inst:o}),e(function(){Cl(o)&&i({inst:o})})},[e]),bS(n),n}function Cl(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!IS(e,n)}catch{return!0}}function LS(e,t){return t()}var $S=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?LS:RS;zm.useSyncExternalStore=Mr.useSyncExternalStore!==void 0?Mr.useSyncExternalStore:$S;Dm.exports=zm;var DS=Dm.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fs=$,zS=DS;function OS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var FS=typeof Object.is=="function"?Object.is:OS,HS=zS.useSyncExternalStore,VS=Fs.useRef,BS=Fs.useEffect,US=Fs.useMemo,WS=Fs.useDebugValue;$m.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var i=VS(null);if(i.current===null){var s={hasValue:!1,value:null};i.current=s}else s=i.current;i=US(function(){function a(x){if(!u){if(u=!0,f=x,x=r(x),o!==void 0&&s.hasValue){var g=s.value;if(o(g,x))return c=g}return c=x}if(g=c,FS(f,x))return g;var w=r(x);return o!==void 0&&o(g,w)?(f=x,g):(f=x,c=w)}var u=!1,f,c,d=n===void 0?null:n;return[function(){return a(t())},d===null?void 0:function(){return a(d())}]},[t,n,r,o]);var l=HS(e,i[0],i[1]);return BS(function(){s.hasValue=!0,s.value=l},[l]),WS(l),l};Lm.exports=$m;var YS=Lm.exports;const XS=mf(YS),GS={},Hd=e=>{let t;const n=new Set,r=(f,c)=>{const d=typeof f=="function"?f(t):f;if(!Object.is(d,t)){const x=t;t=c??(typeof d!="object"||d===null)?d:Object.assign({},t,d),n.forEach(g=>g(t,x))}},o=()=>t,a={setState:r,getState:o,getInitialState:()=>u,subscribe:f=>(n.add(f),()=>n.delete(f)),destroy:()=>{(GS?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,o,a);return a},QS=e=>e?Hd(e):Hd,{useDebugValue:KS}=kf,{useSyncExternalStoreWithSelector:ZS}=XS,qS=e=>e;function Om(e,t=qS,n){const r=ZS(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return KS(r),r}const Vd=(e,t)=>{const n=QS(e),r=(o,i=t)=>Om(n,o,i);return Object.assign(r,n),r},JS=(e,t)=>e?Vd(e,t):Vd;function _e(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,o]of e)if(!Object.is(o,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}const Hs=$.createContext(null),e2=Hs.Provider,Fm=Rt.error001();function he(e,t){const n=$.useContext(Hs);if(n===null)throw new Error(Fm);return Om(n,e,t)}function Se(){const e=$.useContext(Hs);if(e===null)throw new Error(Fm);return $.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const Bd={display:"none"},t2={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},Hm="react-flow__node-desc",Vm="react-flow__edge-desc",n2="react-flow__aria-live",r2=e=>e.ariaLiveMessage,o2=e=>e.ariaLabelConfig;function i2({rfId:e}){const t=he(r2);return p.jsx("div",{id:`${n2}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:t2,children:t})}function s2({rfId:e,disableKeyboardA11y:t}){const n=he(o2);return p.jsxs(p.Fragment,{children:[p.jsx("div",{id:`${Hm}-${e}`,style:Bd,children:t?n["node.a11yDescription.default"]:n["node.a11yDescription.keyboardDisabled"]}),p.jsx("div",{id:`${Vm}-${e}`,style:Bd,children:n["edge.a11yDescription.default"]}),!t&&p.jsx(i2,{rfId:e})]})}const jr=$.forwardRef(({position:e="top-left",children:t,className:n,style:r,...o},i)=>{const s=`${e}`.split("-");return p.jsx("div",{className:Ie(["react-flow__panel",n,...s]),style:r,ref:i,...o,children:t})});jr.displayName="Panel";function l2({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:p.jsx(jr,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:p.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const a2=e=>{const t=[],n=[];for(const[,r]of e.nodeLookup)r.selected&&t.push(r.internals.userNode);for(const[,r]of e.edgeLookup)r.selected&&n.push(r);return{selectedNodes:t,selectedEdges:n}},gi=e=>e.id;function u2(e,t){return _e(e.selectedNodes.map(gi),t.selectedNodes.map(gi))&&_e(e.selectedEdges.map(gi),t.selectedEdges.map(gi))}function c2({onSelectionChange:e}){const t=Se(),{selectedNodes:n,selectedEdges:r}=he(a2,u2);return $.useEffect(()=>{const o={nodes:n,edges:r};e==null||e(o),t.getState().onSelectionChangeHandlers.forEach(i=>i(o))},[n,r,e]),null}const d2=e=>!!e.onSelectionChangeHandlers;function f2({onSelectionChange:e}){const t=he(d2);return e||t?p.jsx(c2,{onSelectionChange:e}):null}const Bm=[0,0],h2={x:0,y:0,zoom:1},p2=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode"],Ud=[...p2,"rfId"],m2=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges}),Wd={translateExtent:jo,nodeOrigin:Bm,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function g2(e){const{setNodes:t,setEdges:n,setMinZoom:r,setMaxZoom:o,setTranslateExtent:i,setNodeExtent:s,reset:l,setDefaultNodesAndEdges:a}=he(m2,_e),u=Se();$.useEffect(()=>(a(e.defaultNodes,e.defaultEdges),()=>{f.current=Wd,l()}),[]);const f=$.useRef(Wd);return $.useEffect(()=>{for(const c of Ud){const d=e[c],x=f.current[c];d!==x&&(typeof e[c]>"u"||(c==="nodes"?t(d):c==="edges"?n(d):c==="minZoom"?r(d):c==="maxZoom"?o(d):c==="translateExtent"?i(d):c==="nodeExtent"?s(d):c==="ariaLabelConfig"?u.setState({ariaLabelConfig:F_(d)}):c==="fitView"?u.setState({fitViewQueued:d}):c==="fitViewOptions"?u.setState({fitViewOptions:d}):u.setState({[c]:d})))}f.current=e},Ud.map(c=>e[c])),null}function Yd(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function y2(e){var r;const[t,n]=$.useState(e==="system"?null:e);return $.useEffect(()=>{if(e!=="system"){n(e);return}const o=Yd(),i=()=>n(o!=null&&o.matches?"dark":"light");return i(),o==null||o.addEventListener("change",i),()=>{o==null||o.removeEventListener("change",i)}},[e]),t!==null?t:(r=Yd())!=null&&r.matches?"dark":"light"}const Xd=typeof document<"u"?document:null;function Po(e=null,t={target:Xd,actInsideInputWithModifier:!0}){const[n,r]=$.useState(!1),o=$.useRef(!1),i=$.useRef(new Set([])),[s,l]=$.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(c=>typeof c=="string").map(c=>c.replace("+",`
`).replace(`

`,`
+`).split(`
`)),f=u.reduce((c,d)=>c.concat(...d),[]);return[u,f]}return[[],[]]},[e]);return $.useEffect(()=>{const a=(t==null?void 0:t.target)??Xd,u=(t==null?void 0:t.actInsideInputWithModifier)??!0;if(e!==null){const f=x=>{var _,m;if(o.current=x.ctrlKey||x.metaKey||x.shiftKey||x.altKey,(!o.current||o.current&&!u)&&ym(x))return!1;const w=Qd(x.code,l);if(i.current.add(x[w]),Gd(s,i.current,!1)){const y=((m=(_=x.composedPath)==null?void 0:_.call(x))==null?void 0:m[0])||x.target,h=(y==null?void 0:y.nodeName)==="BUTTON"||(y==null?void 0:y.nodeName)==="A";t.preventDefault!==!1&&(o.current||!h)&&x.preventDefault(),r(!0)}},c=x=>{const g=Qd(x.code,l);Gd(s,i.current,!0)?(r(!1),i.current.clear()):i.current.delete(x[g]),x.key==="Meta"&&i.current.clear(),o.current=!1},d=()=>{i.current.clear(),r(!1)};return a==null||a.addEventListener("keydown",f),a==null||a.addEventListener("keyup",c),window.addEventListener("blur",d),window.addEventListener("contextmenu",d),()=>{a==null||a.removeEventListener("keydown",f),a==null||a.removeEventListener("keyup",c),window.removeEventListener("blur",d),window.removeEventListener("contextmenu",d)}}},[e,r]),n}function Gd(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(o=>t.has(o)))}function Qd(e,t){return t.includes(e)?"code":"key"}const x2=()=>{const e=Se();return $.useMemo(()=>({zoomIn:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{const{panZoom:r}=e.getState();return r?r.scaleTo(t,{duration:n==null?void 0:n.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{const{transform:[r,o,i],panZoom:s}=e.getState();return s?(await s.setViewport({x:t.x??r,y:t.y??o,zoom:t.zoom??i},n),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,n,r]=e.getState().transform;return{x:t,y:n,zoom:r}},setCenter:async(t,n,r)=>e.getState().setCenter(t,n,r),fitBounds:async(t,n)=>{const{width:r,height:o,minZoom:i,maxZoom:s,panZoom:l}=e.getState(),a=zu(t,r,o,i,s,(n==null?void 0:n.padding)??.1);return l?(await l.setViewport(a,{duration:n==null?void 0:n.duration,ease:n==null?void 0:n.ease,interpolate:n==null?void 0:n.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,n={})=>{const{transform:r,snapGrid:o,snapToGrid:i,domNode:s}=e.getState();if(!s)return t;const{x:l,y:a}=s.getBoundingClientRect(),u={x:t.x-l,y:t.y-a},f=n.snapGrid??o,c=n.snapToGrid??i;return Bo(u,r,c,f)},flowToScreenPosition:t=>{const{transform:n,domNode:r}=e.getState();if(!r)return t;const{x:o,y:i}=r.getBoundingClientRect(),s=ps(t,n);return{x:s.x+o,y:s.y+i}}}),[])};function Um(e,t){const n=[],r=new Map,o=[];for(const i of e)if(i.type==="add"){o.push(i);continue}else if(i.type==="remove"||i.type==="replace")r.set(i.id,[i]);else{const s=r.get(i.id);s?s.push(i):r.set(i.id,[i])}for(const i of t){const s=r.get(i.id);if(!s){n.push(i);continue}if(s[0].type==="remove")continue;if(s[0].type==="replace"){n.push({...s[0].item});continue}const l={...i};for(const a of s)v2(a,l);n.push(l)}return o.length&&o.forEach(i=>{i.index!==void 0?n.splice(i.index,0,{...i.item}):n.push({...i.item})}),n}function v2(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured={...e.dimensions},e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(t.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(t.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function Wm(e,t){return Um(e,t)}function Ym(e,t){return Um(e,t)}function Nn(e,t){return{id:e,type:"select",selected:t}}function or(e,t=new Set,n=!1){const r=[];for(const[o,i]of e){const s=t.has(o);!(i.selected===void 0&&!s)&&i.selected!==s&&(n&&(i.selected=s),r.push(Nn(i.id,s)))}return r}function Kd({items:e=[],lookup:t}){var o;const n=[],r=new Map(e.map(i=>[i.id,i]));for(const[i,s]of e.entries()){const l=t.get(s.id),a=((o=l==null?void 0:l.internals)==null?void 0:o.userNode)??l;a!==void 0&&a!==s&&n.push({id:s.id,item:s,type:"replace"}),a===void 0&&n.push({item:s,type:"add",index:i})}for(const[i]of t)r.get(i)===void 0&&n.push({id:i,type:"remove"});return n}function Zd(e){return{id:e.id,type:"remove"}}const qd=e=>T_(e),w2=e=>um(e);function Xm(e){return $.forwardRef(e)}const _2=typeof window<"u"?$.useLayoutEffect:$.useEffect;function Jd(e){const[t,n]=$.useState(BigInt(0)),[r]=$.useState(()=>S2(()=>n(o=>o+BigInt(1))));return _2(()=>{const o=r.get();o.length&&(e(o),r.reset())},[t]),r}function S2(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}}const Gm=$.createContext(null);function N2({children:e}){const t=Se(),n=$.useCallback(l=>{const{nodes:a=[],setNodes:u,hasDefaultNodes:f,onNodesChange:c,nodeLookup:d,fitViewQueued:x,onNodesChangeMiddlewareMap:g}=t.getState();let w=a;for(const m of l)w=typeof m=="function"?m(w):m;let _=Kd({items:w,lookup:d});for(const m of g.values())_=m(_);f&&u(w),_.length>0?c==null||c(_):x&&window.requestAnimationFrame(()=>{const{fitViewQueued:m,nodes:y,setNodes:h}=t.getState();m&&h(y)})},[]),r=Jd(n),o=$.useCallback(l=>{const{edges:a=[],setEdges:u,hasDefaultEdges:f,onEdgesChange:c,edgeLookup:d}=t.getState();let x=a;for(const g of l)x=typeof g=="function"?g(x):g;f?u(x):c&&c(Kd({items:x,lookup:d}))},[]),i=Jd(o),s=$.useMemo(()=>({nodeQueue:r,edgeQueue:i}),[]);return p.jsx(Gm.Provider,{value:s,children:e})}function E2(){const e=$.useContext(Gm);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const C2=e=>!!e.panZoom;function Wu(){const e=x2(),t=Se(),n=E2(),r=he(C2),o=$.useMemo(()=>{const i=c=>t.getState().nodeLookup.get(c),s=c=>{n.nodeQueue.push(c)},l=c=>{n.edgeQueue.push(c)},a=c=>{var m,y;const{nodeLookup:d,nodeOrigin:x}=t.getState(),g=qd(c)?c:d.get(c.id),w=g.parentId?mm(g.position,g.measured,g.parentId,d,x):g.position,_={...g,position:w,width:((m=g.measured)==null?void 0:m.width)??g.width,height:((y=g.measured)==null?void 0:y.height)??g.height};return Er(_)},u=(c,d,x={replace:!1})=>{s(g=>g.map(w=>{if(w.id===c){const _=typeof d=="function"?d(w):d;return x.replace&&qd(_)?_:{...w,..._}}return w}))},f=(c,d,x={replace:!1})=>{l(g=>g.map(w=>{if(w.id===c){const _=typeof d=="function"?d(w):d;return x.replace&&w2(_)?_:{...w,..._}}return w}))};return{getNodes:()=>t.getState().nodes.map(c=>({...c})),getNode:c=>{var d;return(d=i(c))==null?void 0:d.internals.userNode},getInternalNode:i,getEdges:()=>{const{edges:c=[]}=t.getState();return c.map(d=>({...d}))},getEdge:c=>t.getState().edgeLookup.get(c),setNodes:s,setEdges:l,addNodes:c=>{const d=Array.isArray(c)?c:[c];n.nodeQueue.push(x=>[...x,...d])},addEdges:c=>{const d=Array.isArray(c)?c:[c];n.edgeQueue.push(x=>[...x,...d])},toObject:()=>{const{nodes:c=[],edges:d=[],transform:x}=t.getState(),[g,w,_]=x;return{nodes:c.map(m=>({...m})),edges:d.map(m=>({...m})),viewport:{x:g,y:w,zoom:_}}},deleteElements:async({nodes:c=[],edges:d=[]})=>{const{nodes:x,edges:g,onNodesDelete:w,onEdgesDelete:_,triggerNodeChanges:m,triggerEdgeChanges:y,onDelete:h,onBeforeDelete:v}=t.getState(),{nodes:S,edges:E}=await L_({nodesToRemove:c,edgesToRemove:d,nodes:x,edges:g,onBeforeDelete:v}),k=E.length>0,j=S.length>0;if(k){const A=E.map(Zd);_==null||_(E),y(A)}if(j){const A=S.map(Zd);w==null||w(S),m(A)}return(j||k)&&(h==null||h({nodes:S,edges:E})),{deletedNodes:S,deletedEdges:E}},getIntersectingNodes:(c,d=!0,x)=>{const g=jd(c),w=g?c:a(c),_=x!==void 0;return w?(x||t.getState().nodes).filter(m=>{const y=t.getState().nodeLookup.get(m.id);if(y&&!g&&(m.id===c.id||!y.internals.positionAbsolute))return!1;const h=Er(_?m:y),v=To(h,w);return d&&v>0||v>=h.width*h.height||v>=w.width*w.height}):[]},isNodeIntersecting:(c,d,x=!0)=>{const w=jd(c)?c:a(c);if(!w)return!1;const _=To(w,d);return x&&_>0||_>=d.width*d.height||_>=w.width*w.height},updateNode:u,updateNodeData:(c,d,x={replace:!1})=>{u(c,g=>{const w=typeof d=="function"?d(g):d;return x.replace?{...g,data:w}:{...g,data:{...g.data,...w}}},x)},updateEdge:f,updateEdgeData:(c,d,x={replace:!1})=>{f(c,g=>{const w=typeof d=="function"?d(g):d;return x.replace?{...g,data:w}:{...g,data:{...g.data,...w}}},x)},getNodesBounds:c=>{const{nodeLookup:d,nodeOrigin:x}=t.getState();return A_(c,{nodeLookup:d,nodeOrigin:x})},getHandleConnections:({type:c,id:d,nodeId:x})=>{var g;return Array.from(((g=t.getState().connectionLookup.get(`${x}-${c}${d?`-${d}`:""}`))==null?void 0:g.values())??[])},getNodeConnections:({type:c,handleId:d,nodeId:x})=>{var g;return Array.from(((g=t.getState().connectionLookup.get(`${x}${c?d?`-${c}-${d}`:`-${c}`:""}`))==null?void 0:g.values())??[])},fitView:async c=>{const d=t.getState().fitViewResolver??O_();return t.setState({fitViewQueued:!0,fitViewOptions:c,fitViewResolver:d}),n.nodeQueue.push(x=>[...x]),d.promise}}},[]);return $.useMemo(()=>({...o,...e,viewportInitialized:r}),[r])}const ef=e=>e.selected,k2=typeof window<"u"?window:void 0;function M2({deleteKeyCode:e,multiSelectionKeyCode:t}){const n=Se(),{deleteElements:r}=Wu(),o=Po(e,{actInsideInputWithModifier:!1}),i=Po(t,{target:k2});$.useEffect(()=>{if(o){const{edges:s,nodes:l}=n.getState();r({nodes:l.filter(ef),edges:s.filter(ef)}),n.setState({nodesSelectionActive:!1})}},[o]),$.useEffect(()=>{n.setState({multiSelectionActive:i})},[i])}function j2(e){const t=Se();$.useEffect(()=>{const n=()=>{var o,i,s,l;if(!e.current||!(((i=(o=e.current).checkVisibility)==null?void 0:i.call(o))??!0))return!1;const r=Ou(e.current);(r.height===0||r.width===0)&&((l=(s=t.getState()).onError)==null||l.call(s,"004",Rt.error004())),t.setState({width:r.width||500,height:r.height||500})};if(e.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(e.current),()=>{window.removeEventListener("resize",n),r&&e.current&&r.unobserve(e.current)}}},[])}const Vs={position:"absolute",width:"100%",height:"100%",top:0,left:0},I2=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib,connectionInProgress:e.connection.inProgress});function T2({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:o=.5,panOnScrollMode:i=An.Free,zoomOnDoubleClick:s=!0,panOnDrag:l=!0,defaultViewport:a,translateExtent:u,minZoom:f,maxZoom:c,zoomActivationKeyCode:d,preventScrolling:x=!0,children:g,noWheelClassName:w,noPanClassName:_,onViewportChange:m,isControlledViewport:y,paneClickDistance:h,selectionOnDrag:v}){const S=Se(),E=$.useRef(null),{userSelectionActive:k,lib:j,connectionInProgress:A}=he(I2,_e),z=Po(d),T=$.useRef();j2(E);const L=$.useCallback(V=>{m==null||m({x:V[0],y:V[1],zoom:V[2]}),y||S.setState({transform:V})},[m,y]);return $.useEffect(()=>{if(E.current){T.current=_S({domNode:E.current,minZoom:f,maxZoom:c,translateExtent:u,viewport:a,onDraggingChange:I=>S.setState({paneDragging:I}),onPanZoomStart:(I,D)=>{const{onViewportChangeStart:C,onMoveStart:M}=S.getState();M==null||M(I,D),C==null||C(D)},onPanZoom:(I,D)=>{const{onViewportChange:C,onMove:M}=S.getState();M==null||M(I,D),C==null||C(D)},onPanZoomEnd:(I,D)=>{const{onViewportChangeEnd:C,onMoveEnd:M}=S.getState();M==null||M(I,D),C==null||C(D)}});const{x:V,y:N,zoom:P}=T.current.getViewport();return S.setState({panZoom:T.current,transform:[V,N,P],domNode:E.current.closest(".react-flow")}),()=>{var I;(I=T.current)==null||I.destroy()}}},[]),$.useEffect(()=>{var V;(V=T.current)==null||V.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:o,panOnScrollMode:i,zoomOnDoubleClick:s,panOnDrag:l,zoomActivationKeyPressed:z,preventScrolling:x,noPanClassName:_,userSelectionActive:k,noWheelClassName:w,lib:j,onTransformChange:L,connectionInProgress:A,selectionOnDrag:v,paneClickDistance:h})},[e,t,n,r,o,i,s,l,z,x,_,k,w,j,L,A,v,h]),p.jsx("div",{className:"react-flow__renderer",ref:E,style:Vs,children:g})}const A2=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function P2(){const{userSelectionActive:e,userSelectionRect:t}=he(A2,_e);return e&&t?p.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const kl=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},b2=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function R2({isSelecting:e,selectionKeyPressed:t,selectionMode:n=Io.Full,panOnDrag:r,paneClickDistance:o,selectionOnDrag:i,onSelectionStart:s,onSelectionEnd:l,onPaneClick:a,onPaneContextMenu:u,onPaneScroll:f,onPaneMouseEnter:c,onPaneMouseMove:d,onPaneMouseLeave:x,children:g}){const w=Se(),{userSelectionActive:_,elementsSelectable:m,dragging:y,connectionInProgress:h}=he(b2,_e),v=m&&(e||_),S=$.useRef(null),E=$.useRef(),k=$.useRef(new Set),j=$.useRef(new Set),A=$.useRef(!1),z=C=>{if(A.current||h){A.current=!1;return}a==null||a(C),w.getState().resetSelectedElements(),w.setState({nodesSelectionActive:!1})},T=C=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){C.preventDefault();return}u==null||u(C)},L=f?C=>f(C):void 0,V=C=>{A.current&&(C.stopPropagation(),A.current=!1)},N=C=>{var ee,F;const{domNode:M}=w.getState();if(E.current=M==null?void 0:M.getBoundingClientRect(),!E.current)return;const R=C.target===S.current;if(!R&&!!C.target.closest(".nokey")||!e||!(i&&R||t)||C.button!==0||!C.isPrimary)return;(F=(ee=C.target)==null?void 0:ee.setPointerCapture)==null||F.call(ee,C.pointerId),A.current=!1;const{x:X,y:W}=St(C.nativeEvent,E.current);w.setState({userSelectionRect:{width:0,height:0,startX:X,startY:W,x:X,y:W}}),R||(C.stopPropagation(),C.preventDefault())},P=C=>{const{userSelectionRect:M,transform:R,nodeLookup:O,edgeLookup:H,connectionLookup:X,triggerNodeChanges:W,triggerEdgeChanges:ee,defaultEdgeOptions:F,resetSelectedElements:te}=w.getState();if(!E.current||!M)return;const{x:Y,y:re}=St(C.nativeEvent,E.current),{startX:G,startY:K}=M;if(!A.current){const ie=t?0:o;if(Math.hypot(Y-G,re-K)<=ie)return;te(),s==null||s(C)}A.current=!0;const Z={startX:G,startY:K,x:Y<G?Y:G,y:re<K?re:K,width:Math.abs(Y-G),height:Math.abs(re-K)},Q=k.current,oe=j.current;k.current=new Set(Du(O,Z,R,n===Io.Partial,!0).map(ie=>ie.id)),j.current=new Set;const ue=(F==null?void 0:F.selectable)??!0;for(const ie of k.current){const ve=X.get(ie);if(ve)for(const{edgeId:pt}of ve.values()){const lt=H.get(pt);lt&&(lt.selectable??ue)&&j.current.add(pt)}}if(!Id(Q,k.current)){const ie=or(O,k.current,!0);W(ie)}if(!Id(oe,j.current)){const ie=or(H,j.current);ee(ie)}w.setState({userSelectionRect:Z,userSelectionActive:!0,nodesSelectionActive:!1})},I=C=>{var M,R;C.button===0&&((R=(M=C.target)==null?void 0:M.releasePointerCapture)==null||R.call(M,C.pointerId),!_&&C.target===S.current&&w.getState().userSelectionRect&&(z==null||z(C)),w.setState({userSelectionActive:!1,userSelectionRect:null}),A.current&&(l==null||l(C),w.setState({nodesSelectionActive:k.current.size>0})))},D=r===!0||Array.isArray(r)&&r.includes(0);return p.jsxs("div",{className:Ie(["react-flow__pane",{draggable:D,dragging:y,selection:e}]),onClick:v?void 0:kl(z,S),onContextMenu:kl(T,S),onWheel:kl(L,S),onPointerEnter:v?void 0:c,onPointerMove:v?P:d,onPointerUp:v?I:void 0,onPointerDownCapture:v?N:void 0,onClickCapture:v?V:void 0,onPointerLeave:x,ref:S,style:Vs,children:[g,p.jsx(P2,{})]})}function Ra({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:o,unselectNodesAndEdges:i,multiSelectionActive:s,nodeLookup:l,onError:a}=t.getState(),u=l.get(e);if(!u){a==null||a("012",Rt.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&s)&&(i({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var f;return(f=r==null?void 0:r.current)==null?void 0:f.blur()})):o([e])}function Qm({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:o,isSelectable:i,nodeClickDistance:s}){const l=Se(),[a,u]=$.useState(!1),f=$.useRef();return $.useEffect(()=>{f.current=lS({getStoreItems:()=>l.getState(),onNodeMouseDown:c=>{Ra({id:c,store:l,nodeRef:e})},onDragStart:()=>{u(!0)},onDragStop:()=>{u(!1)}})},[]),$.useEffect(()=>{var c,d;if(t)(c=f.current)==null||c.destroy();else if(e.current)return(d=f.current)==null||d.update({noDragClassName:n,handleSelector:r,domNode:e.current,isSelectable:i,nodeId:o,nodeClickDistance:s}),()=>{var x;(x=f.current)==null||x.destroy()}},[n,r,t,i,e,o]),a}const L2=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function Km(){const e=Se();return $.useCallback(n=>{const{nodeExtent:r,snapToGrid:o,snapGrid:i,nodesDraggable:s,onError:l,updateNodePositions:a,nodeLookup:u,nodeOrigin:f}=e.getState(),c=new Map,d=L2(s),x=o?i[0]:5,g=o?i[1]:5,w=n.direction.x*x*n.factor,_=n.direction.y*g*n.factor;for(const[,m]of u){if(!d(m))continue;let y={x:m.internals.positionAbsolute.x+w,y:m.internals.positionAbsolute.y+_};o&&(y=Vo(y,i));const{position:h,positionAbsolute:v}=cm({nodeId:m.id,nextPosition:y,nodeLookup:u,nodeExtent:r,nodeOrigin:f,onError:l});m.position=h,m.internals.positionAbsolute=v,c.set(m.id,m)}a(c)},[])}const Yu=$.createContext(null),$2=Yu.Provider;Yu.Consumer;const Zm=()=>$.useContext(Yu),D2=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),z2=(e,t,n)=>r=>{const{connectionClickStartHandle:o,connectionMode:i,connection:s}=r,{fromHandle:l,toHandle:a,isValid:u}=s,f=(a==null?void 0:a.nodeId)===e&&(a==null?void 0:a.id)===t&&(a==null?void 0:a.type)===n;return{connectingFrom:(l==null?void 0:l.nodeId)===e&&(l==null?void 0:l.id)===t&&(l==null?void 0:l.type)===n,connectingTo:f,clickConnecting:(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.id)===t&&(o==null?void 0:o.type)===n,isPossibleEndHandle:i===Sr.Strict?(l==null?void 0:l.type)!==n:e!==(l==null?void 0:l.nodeId)||t!==(l==null?void 0:l.id),connectionInProcess:!!l,clickConnectionInProcess:!!o,valid:f&&u}};function O2({type:e="source",position:t=J.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:o=!0,isConnectableEnd:i=!0,id:s,onConnect:l,children:a,className:u,onMouseDown:f,onTouchStart:c,...d},x){var P,I;const g=s||null,w=e==="target",_=Se(),m=Zm(),{connectOnClick:y,noPanClassName:h,rfId:v}=he(D2,_e),{connectingFrom:S,connectingTo:E,clickConnecting:k,isPossibleEndHandle:j,connectionInProcess:A,clickConnectionInProcess:z,valid:T}=he(z2(m,g,e),_e);m||(I=(P=_.getState()).onError)==null||I.call(P,"010",Rt.error010());const L=D=>{const{defaultEdgeOptions:C,onConnect:M,hasDefaultEdges:R}=_.getState(),O={...C,...D};if(R){const{edges:H,setEdges:X}=_.getState();X(Sm(O,H))}M==null||M(O),l==null||l(O)},V=D=>{if(!m)return;const C=xm(D.nativeEvent);if(o&&(C&&D.button===0||!C)){const M=_.getState();ba.onPointerDown(D.nativeEvent,{handleDomNode:D.currentTarget,autoPanOnConnect:M.autoPanOnConnect,connectionMode:M.connectionMode,connectionRadius:M.connectionRadius,domNode:M.domNode,nodeLookup:M.nodeLookup,lib:M.lib,isTarget:w,handleId:g,nodeId:m,flowId:M.rfId,panBy:M.panBy,cancelConnection:M.cancelConnection,onConnectStart:M.onConnectStart,onConnectEnd:M.onConnectEnd,updateConnection:M.updateConnection,onConnect:L,isValidConnection:n||M.isValidConnection,getTransform:()=>_.getState().transform,getFromHandle:()=>_.getState().connection.fromHandle,autoPanSpeed:M.autoPanSpeed,dragThreshold:M.connectionDragThreshold})}C?f==null||f(D):c==null||c(D)},N=D=>{const{onClickConnectStart:C,onClickConnectEnd:M,connectionClickStartHandle:R,connectionMode:O,isValidConnection:H,lib:X,rfId:W,nodeLookup:ee,connection:F}=_.getState();if(!m||!R&&!o)return;if(!R){C==null||C(D.nativeEvent,{nodeId:m,handleId:g,handleType:e}),_.setState({connectionClickStartHandle:{nodeId:m,type:e,id:g}});return}const te=gm(D.target),Y=n||H,{connection:re,isValid:G}=ba.isValid(D.nativeEvent,{handle:{nodeId:m,id:g,type:e},connectionMode:O,fromNodeId:R.nodeId,fromHandleId:R.id||null,fromType:R.type,isValidConnection:Y,flowId:W,doc:te,lib:X,nodeLookup:ee});G&&re&&L(re);const K=structuredClone(F);delete K.inProgress,K.toPosition=K.toHandle?K.toHandle.position:null,M==null||M(D,K),_.setState({connectionClickStartHandle:null})};return p.jsx("div",{"data-handleid":g,"data-nodeid":m,"data-handlepos":t,"data-id":`${v}-${m}-${g}-${e}`,className:Ie(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",h,u,{source:!w,target:w,connectable:r,connectablestart:o,connectableend:i,clickconnecting:k,connectingfrom:S,connectingto:E,valid:T,connectionindicator:r&&(!A||j)&&(A||z?i:o)}]),onMouseDown:V,onTouchStart:V,onClick:y?N:void 0,ref:x,...d,children:a})}const Ve=$.memo(Xm(O2));function F2({data:e,isConnectable:t,sourcePosition:n=J.Bottom}){return p.jsxs(p.Fragment,{children:[e==null?void 0:e.label,p.jsx(Ve,{type:"source",position:n,isConnectable:t})]})}function H2({data:e,isConnectable:t,targetPosition:n=J.Top,sourcePosition:r=J.Bottom}){return p.jsxs(p.Fragment,{children:[p.jsx(Ve,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,p.jsx(Ve,{type:"source",position:r,isConnectable:t})]})}function V2(){return null}function B2({data:e,isConnectable:t,targetPosition:n=J.Top}){return p.jsxs(p.Fragment,{children:[p.jsx(Ve,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label]})}const ms={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},tf={input:F2,default:H2,output:B2,group:V2};function U2(e){var t,n,r,o;return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??((t=e.style)==null?void 0:t.width),height:e.height??e.initialHeight??((n=e.style)==null?void 0:n.height)}:{width:e.width??((r=e.style)==null?void 0:r.width),height:e.height??((o=e.style)==null?void 0:o.height)}}const W2=e=>{const{width:t,height:n,x:r,y:o}=Ho(e.nodeLookup,{filter:i=>!!i.selected});return{width:_t(t)?t:null,height:_t(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${r}px,${o}px)`}};function Y2({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=Se(),{width:o,height:i,transformString:s,userSelectionActive:l}=he(W2,_e),a=Km(),u=$.useRef(null);if($.useEffect(()=>{var d;n||(d=u.current)==null||d.focus({preventScroll:!0})},[n]),Qm({nodeRef:u}),l||!o||!i)return null;const f=e?d=>{const x=r.getState().nodes.filter(g=>g.selected);e(d,x)}:void 0,c=d=>{Object.prototype.hasOwnProperty.call(ms,d.key)&&(d.preventDefault(),a({direction:ms[d.key],factor:d.shiftKey?4:1}))};return p.jsx("div",{className:Ie(["react-flow__nodesselection","react-flow__container",t]),style:{transform:s},children:p.jsx("div",{ref:u,className:"react-flow__nodesselection-rect",onContextMenu:f,tabIndex:n?void 0:-1,onKeyDown:n?void 0:c,style:{width:o,height:i}})})}const nf=typeof window<"u"?window:void 0,X2=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function qm({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:i,onPaneScroll:s,paneClickDistance:l,deleteKeyCode:a,selectionKeyCode:u,selectionOnDrag:f,selectionMode:c,onSelectionStart:d,onSelectionEnd:x,multiSelectionKeyCode:g,panActivationKeyCode:w,zoomActivationKeyCode:_,elementsSelectable:m,zoomOnScroll:y,zoomOnPinch:h,panOnScroll:v,panOnScrollSpeed:S,panOnScrollMode:E,zoomOnDoubleClick:k,panOnDrag:j,defaultViewport:A,translateExtent:z,minZoom:T,maxZoom:L,preventScrolling:V,onSelectionContextMenu:N,noWheelClassName:P,noPanClassName:I,disableKeyboardA11y:D,onViewportChange:C,isControlledViewport:M}){const{nodesSelectionActive:R,userSelectionActive:O}=he(X2,_e),H=Po(u,{target:nf}),X=Po(w,{target:nf}),W=X||j,ee=X||v,F=f&&W!==!0,te=H||O||F;return M2({deleteKeyCode:a,multiSelectionKeyCode:g}),p.jsx(T2,{onPaneContextMenu:i,elementsSelectable:m,zoomOnScroll:y,zoomOnPinch:h,panOnScroll:ee,panOnScrollSpeed:S,panOnScrollMode:E,zoomOnDoubleClick:k,panOnDrag:!H&&W,defaultViewport:A,translateExtent:z,minZoom:T,maxZoom:L,zoomActivationKeyCode:_,preventScrolling:V,noWheelClassName:P,noPanClassName:I,onViewportChange:C,isControlledViewport:M,paneClickDistance:l,selectionOnDrag:F,children:p.jsxs(R2,{onSelectionStart:d,onSelectionEnd:x,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:i,onPaneScroll:s,panOnDrag:W,isSelecting:!!te,selectionMode:c,selectionKeyPressed:H,paneClickDistance:l,selectionOnDrag:F,children:[e,R&&p.jsx(Y2,{onSelectionContextMenu:N,noPanClassName:I,disableKeyboardA11y:D})]})})}qm.displayName="FlowRenderer";const G2=$.memo(qm),Q2=e=>t=>e?Du(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(n=>n.id):Array.from(t.nodeLookup.keys());function K2(e){return he($.useCallback(Q2(e),[e]),_e)}const Z2=e=>e.updateNodeInternals;function q2(){const e=he(Z2),[t]=$.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(o=>{const i=o.target.getAttribute("data-id");r.set(i,{id:i,nodeElement:o.target,force:!0})}),e(r)}));return $.useEffect(()=>()=>{t==null||t.disconnect()},[t]),t}function J2({node:e,nodeType:t,hasDimensions:n,resizeObserver:r}){const o=Se(),i=$.useRef(null),s=$.useRef(null),l=$.useRef(e.sourcePosition),a=$.useRef(e.targetPosition),u=$.useRef(t),f=n&&!!e.internals.handleBounds;return $.useEffect(()=>{i.current&&!e.hidden&&(!f||s.current!==i.current)&&(s.current&&(r==null||r.unobserve(s.current)),r==null||r.observe(i.current),s.current=i.current)},[f,e.hidden]),$.useEffect(()=>()=>{s.current&&(r==null||r.unobserve(s.current),s.current=null)},[]),$.useEffect(()=>{if(i.current){const c=u.current!==t,d=l.current!==e.sourcePosition,x=a.current!==e.targetPosition;(c||d||x)&&(u.current=t,l.current=e.sourcePosition,a.current=e.targetPosition,o.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:i.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),i}function eN({id:e,onClick:t,onMouseEnter:n,onMouseMove:r,onMouseLeave:o,onContextMenu:i,onDoubleClick:s,nodesDraggable:l,elementsSelectable:a,nodesConnectable:u,nodesFocusable:f,resizeObserver:c,noDragClassName:d,noPanClassName:x,disableKeyboardA11y:g,rfId:w,nodeTypes:_,nodeClickDistance:m,onError:y}){const{node:h,internals:v,isParent:S}=he(Y=>{const re=Y.nodeLookup.get(e),G=Y.parentLookup.has(e);return{node:re,internals:re.internals,isParent:G}},_e);let E=h.type||"default",k=(_==null?void 0:_[E])||tf[E];k===void 0&&(y==null||y("003",Rt.error003(E)),E="default",k=(_==null?void 0:_.default)||tf.default);const j=!!(h.draggable||l&&typeof h.draggable>"u"),A=!!(h.selectable||a&&typeof h.selectable>"u"),z=!!(h.connectable||u&&typeof h.connectable>"u"),T=!!(h.focusable||f&&typeof h.focusable>"u"),L=Se(),V=pm(h),N=J2({node:h,nodeType:E,hasDimensions:V,resizeObserver:c}),P=Qm({nodeRef:N,disabled:h.hidden||!j,noDragClassName:d,handleSelector:h.dragHandle,nodeId:e,isSelectable:A,nodeClickDistance:m}),I=Km();if(h.hidden)return null;const D=Qt(h),C=U2(h),M=A||j||t||n||r||o,R=n?Y=>n(Y,{...v.userNode}):void 0,O=r?Y=>r(Y,{...v.userNode}):void 0,H=o?Y=>o(Y,{...v.userNode}):void 0,X=i?Y=>i(Y,{...v.userNode}):void 0,W=s?Y=>s(Y,{...v.userNode}):void 0,ee=Y=>{const{selectNodesOnDrag:re,nodeDragThreshold:G}=L.getState();A&&(!re||!j||G>0)&&Ra({id:e,store:L,nodeRef:N}),t&&t(Y,{...v.userNode})},F=Y=>{if(!(ym(Y.nativeEvent)||g)){if(im.includes(Y.key)&&A){const re=Y.key==="Escape";Ra({id:e,store:L,unselect:re,nodeRef:N})}else if(j&&h.selected&&Object.prototype.hasOwnProperty.call(ms,Y.key)){Y.preventDefault();const{ariaLabelConfig:re}=L.getState();L.setState({ariaLiveMessage:re["node.a11yDescription.ariaLiveMessage"]({direction:Y.key.replace("Arrow","").toLowerCase(),x:~~v.positionAbsolute.x,y:~~v.positionAbsolute.y})}),I({direction:ms[Y.key],factor:Y.shiftKey?4:1})}}},te=()=>{var oe;if(g||!((oe=N.current)!=null&&oe.matches(":focus-visible")))return;const{transform:Y,width:re,height:G,autoPanOnNodeFocus:K,setCenter:Z}=L.getState();if(!K)return;Du(new Map([[e,h]]),{x:0,y:0,width:re,height:G},Y,!0).length>0||Z(h.position.x+D.width/2,h.position.y+D.height/2,{zoom:Y[2]})};return p.jsx("div",{className:Ie(["react-flow__node",`react-flow__node-${E}`,{[x]:j},h.className,{selected:h.selected,selectable:A,parent:S,draggable:j,dragging:P}]),ref:N,style:{zIndex:v.z,transform:`translate(${v.positionAbsolute.x}px,${v.positionAbsolute.y}px)`,pointerEvents:M?"all":"none",visibility:V?"visible":"hidden",...h.style,...C},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:R,onMouseMove:O,onMouseLeave:H,onContextMenu:X,onClick:ee,onDoubleClick:W,onKeyDown:T?F:void 0,tabIndex:T?0:void 0,onFocus:T?te:void 0,role:h.ariaRole??(T?"group":void 0),"aria-roledescription":"node","aria-describedby":g?void 0:`${Hm}-${w}`,"aria-label":h.ariaLabel,...h.domAttributes,children:p.jsx($2,{value:e,children:p.jsx(k,{id:e,data:h.data,type:E,positionAbsoluteX:v.positionAbsolute.x,positionAbsoluteY:v.positionAbsolute.y,selected:h.selected??!1,selectable:A,draggable:j,deletable:h.deletable??!0,isConnectable:z,sourcePosition:h.sourcePosition,targetPosition:h.targetPosition,dragging:P,dragHandle:h.dragHandle,zIndex:v.z,parentId:h.parentId,...D})})})}var tN=$.memo(eN);const nN=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function Jm(e){const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:o,onError:i}=he(nN,_e),s=K2(e.onlyRenderVisibleElements),l=q2();return p.jsx("div",{className:"react-flow__nodes",style:Vs,children:s.map(a=>p.jsx(tN,{id:a,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:l,nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:o,nodeClickDistance:e.nodeClickDistance,onError:i},a))})}Jm.displayName="NodeRenderer";const rN=$.memo(Jm);function oN(e){return he($.useCallback(n=>{if(!e)return n.edges.map(o=>o.id);const r=[];if(n.width&&n.height)for(const o of n.edges){const i=n.nodeLookup.get(o.source),s=n.nodeLookup.get(o.target);i&&s&&B_({sourceNode:i,targetNode:s,width:n.width,height:n.height,transform:n.transform})&&r.push(o.id)}return r},[e]),_e)}const iN=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e}};return p.jsx("polyline",{className:"arrow",style:n,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},sN=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e,fill:e}};return p.jsx("polyline",{className:"arrowclosed",style:n,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},rf={[fs.Arrow]:iN,[fs.ArrowClosed]:sN};function lN(e){const t=Se();return $.useMemo(()=>{var o,i;return Object.prototype.hasOwnProperty.call(rf,e)?rf[e]:((i=(o=t.getState()).onError)==null||i.call(o,"009",Rt.error009(e)),null)},[e])}const aN=({id:e,type:t,color:n,width:r=12.5,height:o=12.5,markerUnits:i="strokeWidth",strokeWidth:s,orient:l="auto-start-reverse"})=>{const a=lN(t);return a?p.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${o}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:l,refX:"0",refY:"0",children:p.jsx(a,{color:n,strokeWidth:s})}):null},eg=({defaultColor:e,rfId:t})=>{const n=he(i=>i.edges),r=he(i=>i.defaultEdgeOptions),o=$.useMemo(()=>K_(n,{id:t,defaultColor:e,defaultMarkerStart:r==null?void 0:r.markerStart,defaultMarkerEnd:r==null?void 0:r.markerEnd}),[n,r,t,e]);return o.length?p.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:p.jsx("defs",{children:o.map(i=>p.jsx(aN,{id:i.id,type:i.type,color:i.color,width:i.width,height:i.height,markerUnits:i.markerUnits,strokeWidth:i.strokeWidth,orient:i.orient},i.id))})}):null};eg.displayName="MarkerDefinitions";var uN=$.memo(eg);function tg({x:e,y:t,label:n,labelStyle:r,labelShowBg:o=!0,labelBgStyle:i,labelBgPadding:s=[2,4],labelBgBorderRadius:l=2,children:a,className:u,...f}){const[c,d]=$.useState({x:1,y:0,width:0,height:0}),x=Ie(["react-flow__edge-textwrapper",u]),g=$.useRef(null);return $.useEffect(()=>{if(g.current){const w=g.current.getBBox();d({x:w.x,y:w.y,width:w.width,height:w.height})}},[n]),n?p.jsxs("g",{transform:`translate(${e-c.width/2} ${t-c.height/2})`,className:x,visibility:c.width?"visible":"hidden",...f,children:[o&&p.jsx("rect",{width:c.width+2*s[0],x:-s[0],y:-s[1],height:c.height+2*s[1],className:"react-flow__edge-textbg",style:i,rx:l,ry:l}),p.jsx("text",{className:"react-flow__edge-text",y:c.height/2,dy:"0.3em",ref:g,style:r,children:n}),a]}):null}tg.displayName="EdgeText";const cN=$.memo(tg);function Bs({path:e,labelX:t,labelY:n,label:r,labelStyle:o,labelShowBg:i,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:a,interactionWidth:u=20,...f}){return p.jsxs(p.Fragment,{children:[p.jsx("path",{...f,d:e,fill:"none",className:Ie(["react-flow__edge-path",f.className])}),u?p.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:u,className:"react-flow__edge-interaction"}):null,r&&_t(t)&&_t(n)?p.jsx(cN,{x:t,y:n,label:r,labelStyle:o,labelShowBg:i,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:a}):null]})}function of({pos:e,x1:t,y1:n,x2:r,y2:o}){return e===J.Left||e===J.Right?[.5*(t+r),n]:[t,.5*(n+o)]}function ng({sourceX:e,sourceY:t,sourcePosition:n=J.Bottom,targetX:r,targetY:o,targetPosition:i=J.Top}){const[s,l]=of({pos:n,x1:e,y1:t,x2:r,y2:o}),[a,u]=of({pos:i,x1:r,y1:o,x2:e,y2:t}),[f,c,d,x]=vm({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:s,sourceControlY:l,targetControlX:a,targetControlY:u});return[`M${e},${t} C${s},${l} ${a},${u} ${r},${o}`,f,c,d,x]}function rg(e){return $.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,sourcePosition:s,targetPosition:l,label:a,labelStyle:u,labelShowBg:f,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:x,style:g,markerEnd:w,markerStart:_,interactionWidth:m})=>{const[y,h,v]=ng({sourceX:n,sourceY:r,sourcePosition:s,targetX:o,targetY:i,targetPosition:l}),S=e.isInternal?void 0:t;return p.jsx(Bs,{id:S,path:y,labelX:h,labelY:v,label:a,labelStyle:u,labelShowBg:f,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:x,style:g,markerEnd:w,markerStart:_,interactionWidth:m})})}const dN=rg({isInternal:!1}),og=rg({isInternal:!0});dN.displayName="SimpleBezierEdge";og.displayName="SimpleBezierEdgeInternal";function ig(e){return $.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,label:s,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:c,style:d,sourcePosition:x=J.Bottom,targetPosition:g=J.Top,markerEnd:w,markerStart:_,pathOptions:m,interactionWidth:y})=>{const[h,v,S]=Ta({sourceX:n,sourceY:r,sourcePosition:x,targetX:o,targetY:i,targetPosition:g,borderRadius:m==null?void 0:m.borderRadius,offset:m==null?void 0:m.offset,stepPosition:m==null?void 0:m.stepPosition}),E=e.isInternal?void 0:t;return p.jsx(Bs,{id:E,path:h,labelX:v,labelY:S,label:s,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:c,style:d,markerEnd:w,markerStart:_,interactionWidth:y})})}const sg=ig({isInternal:!1}),lg=ig({isInternal:!0});sg.displayName="SmoothStepEdge";lg.displayName="SmoothStepEdgeInternal";function ag(e){return $.memo(({id:t,...n})=>{var o;const r=e.isInternal?void 0:t;return p.jsx(sg,{...n,id:r,pathOptions:$.useMemo(()=>{var i;return{borderRadius:0,offset:(i=n.pathOptions)==null?void 0:i.offset}},[(o=n.pathOptions)==null?void 0:o.offset])})})}const fN=ag({isInternal:!1}),ug=ag({isInternal:!0});fN.displayName="StepEdge";ug.displayName="StepEdgeInternal";function cg(e){return $.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,label:s,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:c,style:d,markerEnd:x,markerStart:g,interactionWidth:w})=>{const[_,m,y]=Nm({sourceX:n,sourceY:r,targetX:o,targetY:i}),h=e.isInternal?void 0:t;return p.jsx(Bs,{id:h,path:_,labelX:m,labelY:y,label:s,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:c,style:d,markerEnd:x,markerStart:g,interactionWidth:w})})}const hN=cg({isInternal:!1}),dg=cg({isInternal:!0});hN.displayName="StraightEdge";dg.displayName="StraightEdgeInternal";function fg(e){return $.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,sourcePosition:s=J.Bottom,targetPosition:l=J.Top,label:a,labelStyle:u,labelShowBg:f,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:x,style:g,markerEnd:w,markerStart:_,pathOptions:m,interactionWidth:y})=>{const[h,v,S]=wm({sourceX:n,sourceY:r,sourcePosition:s,targetX:o,targetY:i,targetPosition:l,curvature:m==null?void 0:m.curvature}),E=e.isInternal?void 0:t;return p.jsx(Bs,{id:E,path:h,labelX:v,labelY:S,label:a,labelStyle:u,labelShowBg:f,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:x,style:g,markerEnd:w,markerStart:_,interactionWidth:y})})}const pN=fg({isInternal:!1}),hg=fg({isInternal:!0});pN.displayName="BezierEdge";hg.displayName="BezierEdgeInternal";const sf={default:hg,straight:dg,step:ug,smoothstep:lg,simplebezier:og},lf={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},mN=(e,t,n)=>n===J.Left?e-t:n===J.Right?e+t:e,gN=(e,t,n)=>n===J.Top?e-t:n===J.Bottom?e+t:e,af="react-flow__edgeupdater";function uf({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:o,onMouseEnter:i,onMouseOut:s,type:l}){return p.jsx("circle",{onMouseDown:o,onMouseEnter:i,onMouseOut:s,className:Ie([af,`${af}-${l}`]),cx:mN(t,r,e),cy:gN(n,r,e),r,stroke:"transparent",fill:"transparent"})}function yN({isReconnectable:e,reconnectRadius:t,edge:n,sourceX:r,sourceY:o,targetX:i,targetY:s,sourcePosition:l,targetPosition:a,onReconnect:u,onReconnectStart:f,onReconnectEnd:c,setReconnecting:d,setUpdateHover:x}){const g=Se(),w=(v,S)=>{if(v.button!==0)return;const{autoPanOnConnect:E,domNode:k,isValidConnection:j,connectionMode:A,connectionRadius:z,lib:T,onConnectStart:L,onConnectEnd:V,cancelConnection:N,nodeLookup:P,rfId:I,panBy:D,updateConnection:C}=g.getState(),M=S.type==="target",R=(X,W)=>{d(!1),c==null||c(X,n,S.type,W)},O=X=>u==null?void 0:u(n,X),H=(X,W)=>{d(!0),f==null||f(v,n,S.type),L==null||L(X,W)};ba.onPointerDown(v.nativeEvent,{autoPanOnConnect:E,connectionMode:A,connectionRadius:z,domNode:k,handleId:S.id,nodeId:S.nodeId,nodeLookup:P,isTarget:M,edgeUpdaterType:S.type,lib:T,flowId:I,cancelConnection:N,panBy:D,isValidConnection:j,onConnect:O,onConnectStart:H,onConnectEnd:V,onReconnectEnd:R,updateConnection:C,getTransform:()=>g.getState().transform,getFromHandle:()=>g.getState().connection.fromHandle,dragThreshold:g.getState().connectionDragThreshold,handleDomNode:v.currentTarget})},_=v=>w(v,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),m=v=>w(v,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),y=()=>x(!0),h=()=>x(!1);return p.jsxs(p.Fragment,{children:[(e===!0||e==="source")&&p.jsx(uf,{position:l,centerX:r,centerY:o,radius:t,onMouseDown:_,onMouseEnter:y,onMouseOut:h,type:"source"}),(e===!0||e==="target")&&p.jsx(uf,{position:a,centerX:i,centerY:s,radius:t,onMouseDown:m,onMouseEnter:y,onMouseOut:h,type:"target"})]})}function xN({id:e,edgesFocusable:t,edgesReconnectable:n,elementsSelectable:r,onClick:o,onDoubleClick:i,onContextMenu:s,onMouseEnter:l,onMouseMove:a,onMouseLeave:u,reconnectRadius:f,onReconnect:c,onReconnectStart:d,onReconnectEnd:x,rfId:g,edgeTypes:w,noPanClassName:_,onError:m,disableKeyboardA11y:y}){let h=he(Z=>Z.edgeLookup.get(e));const v=he(Z=>Z.defaultEdgeOptions);h=v?{...v,...h}:h;let S=h.type||"default",E=(w==null?void 0:w[S])||sf[S];E===void 0&&(m==null||m("011",Rt.error011(S)),S="default",E=(w==null?void 0:w.default)||sf.default);const k=!!(h.focusable||t&&typeof h.focusable>"u"),j=typeof c<"u"&&(h.reconnectable||n&&typeof h.reconnectable>"u"),A=!!(h.selectable||r&&typeof h.selectable>"u"),z=$.useRef(null),[T,L]=$.useState(!1),[V,N]=$.useState(!1),P=Se(),{zIndex:I,sourceX:D,sourceY:C,targetX:M,targetY:R,sourcePosition:O,targetPosition:H}=he($.useCallback(Z=>{const Q=Z.nodeLookup.get(h.source),oe=Z.nodeLookup.get(h.target);if(!Q||!oe)return{zIndex:h.zIndex,...lf};const ue=Q_({id:e,sourceNode:Q,targetNode:oe,sourceHandle:h.sourceHandle||null,targetHandle:h.targetHandle||null,connectionMode:Z.connectionMode,onError:m});return{zIndex:V_({selected:h.selected,zIndex:h.zIndex,sourceNode:Q,targetNode:oe,elevateOnSelect:Z.elevateEdgesOnSelect,zIndexMode:Z.zIndexMode}),...ue||lf}},[h.source,h.target,h.sourceHandle,h.targetHandle,h.selected,h.zIndex]),_e),X=$.useMemo(()=>h.markerStart?`url('#${Aa(h.markerStart,g)}')`:void 0,[h.markerStart,g]),W=$.useMemo(()=>h.markerEnd?`url('#${Aa(h.markerEnd,g)}')`:void 0,[h.markerEnd,g]);if(h.hidden||D===null||C===null||M===null||R===null)return null;const ee=Z=>{var ie;const{addSelectedEdges:Q,unselectNodesAndEdges:oe,multiSelectionActive:ue}=P.getState();A&&(P.setState({nodesSelectionActive:!1}),h.selected&&ue?(oe({nodes:[],edges:[h]}),(ie=z.current)==null||ie.blur()):Q([e])),o&&o(Z,h)},F=i?Z=>{i(Z,{...h})}:void 0,te=s?Z=>{s(Z,{...h})}:void 0,Y=l?Z=>{l(Z,{...h})}:void 0,re=a?Z=>{a(Z,{...h})}:void 0,G=u?Z=>{u(Z,{...h})}:void 0,K=Z=>{var Q;if(!y&&im.includes(Z.key)&&A){const{unselectNodesAndEdges:oe,addSelectedEdges:ue}=P.getState();Z.key==="Escape"?((Q=z.current)==null||Q.blur(),oe({edges:[h]})):ue([e])}};return p.jsx("svg",{style:{zIndex:I},children:p.jsxs("g",{className:Ie(["react-flow__edge",`react-flow__edge-${S}`,h.className,_,{selected:h.selected,animated:h.animated,inactive:!A&&!o,updating:T,selectable:A}]),onClick:ee,onDoubleClick:F,onContextMenu:te,onMouseEnter:Y,onMouseMove:re,onMouseLeave:G,onKeyDown:k?K:void 0,tabIndex:k?0:void 0,role:h.ariaRole??(k?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":h.ariaLabel===null?void 0:h.ariaLabel||`Edge from ${h.source} to ${h.target}`,"aria-describedby":k?`${Vm}-${g}`:void 0,ref:z,...h.domAttributes,children:[!V&&p.jsx(E,{id:e,source:h.source,target:h.target,type:h.type,selected:h.selected,animated:h.animated,selectable:A,deletable:h.deletable??!0,label:h.label,labelStyle:h.labelStyle,labelShowBg:h.labelShowBg,labelBgStyle:h.labelBgStyle,labelBgPadding:h.labelBgPadding,labelBgBorderRadius:h.labelBgBorderRadius,sourceX:D,sourceY:C,targetX:M,targetY:R,sourcePosition:O,targetPosition:H,data:h.data,style:h.style,sourceHandleId:h.sourceHandle,targetHandleId:h.targetHandle,markerStart:X,markerEnd:W,pathOptions:"pathOptions"in h?h.pathOptions:void 0,interactionWidth:h.interactionWidth}),j&&p.jsx(yN,{edge:h,isReconnectable:j,reconnectRadius:f,onReconnect:c,onReconnectStart:d,onReconnectEnd:x,sourceX:D,sourceY:C,targetX:M,targetY:R,sourcePosition:O,targetPosition:H,setUpdateHover:L,setReconnecting:N})]})})}var vN=$.memo(xN);const wN=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function pg({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:n,edgeTypes:r,noPanClassName:o,onReconnect:i,onEdgeContextMenu:s,onEdgeMouseEnter:l,onEdgeMouseMove:a,onEdgeMouseLeave:u,onEdgeClick:f,reconnectRadius:c,onEdgeDoubleClick:d,onReconnectStart:x,onReconnectEnd:g,disableKeyboardA11y:w}){const{edgesFocusable:_,edgesReconnectable:m,elementsSelectable:y,onError:h}=he(wN,_e),v=oN(t);return p.jsxs("div",{className:"react-flow__edges",children:[p.jsx(uN,{defaultColor:e,rfId:n}),v.map(S=>p.jsx(vN,{id:S,edgesFocusable:_,edgesReconnectable:m,elementsSelectable:y,noPanClassName:o,onReconnect:i,onContextMenu:s,onMouseEnter:l,onMouseMove:a,onMouseLeave:u,onClick:f,reconnectRadius:c,onDoubleClick:d,onReconnectStart:x,onReconnectEnd:g,rfId:n,onError:h,edgeTypes:r,disableKeyboardA11y:w},S))]})}pg.displayName="EdgeRenderer";const _N=$.memo(pg),SN=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function NN({children:e}){const t=he(SN);return p.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function EN(e){const t=Wu(),n=$.useRef(!1);$.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const CN=e=>{var t;return(t=e.panZoom)==null?void 0:t.syncViewport};function kN(e){const t=he(CN),n=Se();return $.useEffect(()=>{e&&(t==null||t(e),n.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function MN(e){return e.connection.inProgress?{...e.connection,to:Bo(e.connection.to,e.transform)}:{...e.connection}}function jN(e){return MN}function IN(e){const t=jN();return he(t,_e)}const TN=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function AN({containerStyle:e,style:t,type:n,component:r}){const{nodesConnectable:o,width:i,height:s,isValid:l,inProgress:a}=he(TN,_e);return!(i&&o&&a)?null:p.jsx("svg",{style:e,width:i,height:s,className:"react-flow__connectionline react-flow__container",children:p.jsx("g",{className:Ie(["react-flow__connection",am(l)]),children:p.jsx(mg,{style:t,type:n,CustomComponent:r,isValid:l})})})}const mg=({style:e,type:t=rn.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:o,from:i,fromNode:s,fromHandle:l,fromPosition:a,to:u,toNode:f,toHandle:c,toPosition:d,pointer:x}=IN();if(!o)return;if(n)return p.jsx(n,{connectionLineType:t,connectionLineStyle:e,fromNode:s,fromHandle:l,fromX:i.x,fromY:i.y,toX:u.x,toY:u.y,fromPosition:a,toPosition:d,connectionStatus:am(r),toNode:f,toHandle:c,pointer:x});let g="";const w={sourceX:i.x,sourceY:i.y,sourcePosition:a,targetX:u.x,targetY:u.y,targetPosition:d};switch(t){case rn.Bezier:[g]=wm(w);break;case rn.SimpleBezier:[g]=ng(w);break;case rn.Step:[g]=Ta({...w,borderRadius:0});break;case rn.SmoothStep:[g]=Ta(w);break;default:[g]=Nm(w)}return p.jsx("path",{d:g,fill:"none",className:"react-flow__connection-path",style:e})};mg.displayName="ConnectionLine";const PN={};function cf(e=PN){$.useRef(e),Se(),$.useEffect(()=>{},[e])}function bN(){Se(),$.useRef(!1),$.useEffect(()=>{},[])}function gg({nodeTypes:e,edgeTypes:t,onInit:n,onNodeClick:r,onEdgeClick:o,onNodeDoubleClick:i,onEdgeDoubleClick:s,onNodeMouseEnter:l,onNodeMouseMove:a,onNodeMouseLeave:u,onNodeContextMenu:f,onSelectionContextMenu:c,onSelectionStart:d,onSelectionEnd:x,connectionLineType:g,connectionLineStyle:w,connectionLineComponent:_,connectionLineContainerStyle:m,selectionKeyCode:y,selectionOnDrag:h,selectionMode:v,multiSelectionKeyCode:S,panActivationKeyCode:E,zoomActivationKeyCode:k,deleteKeyCode:j,onlyRenderVisibleElements:A,elementsSelectable:z,defaultViewport:T,translateExtent:L,minZoom:V,maxZoom:N,preventScrolling:P,defaultMarkerColor:I,zoomOnScroll:D,zoomOnPinch:C,panOnScroll:M,panOnScrollSpeed:R,panOnScrollMode:O,zoomOnDoubleClick:H,panOnDrag:X,onPaneClick:W,onPaneMouseEnter:ee,onPaneMouseMove:F,onPaneMouseLeave:te,onPaneScroll:Y,onPaneContextMenu:re,paneClickDistance:G,nodeClickDistance:K,onEdgeContextMenu:Z,onEdgeMouseEnter:Q,onEdgeMouseMove:oe,onEdgeMouseLeave:ue,reconnectRadius:ie,onReconnect:ve,onReconnectStart:pt,onReconnectEnd:lt,noDragClassName:b,noWheelClassName:U,noPanClassName:ne,disableKeyboardA11y:se,nodeExtent:ae,rfId:de,viewport:le,onViewportChange:fe}){return cf(e),cf(t),bN(),EN(n),kN(le),p.jsx(G2,{onPaneClick:W,onPaneMouseEnter:ee,onPaneMouseMove:F,onPaneMouseLeave:te,onPaneContextMenu:re,onPaneScroll:Y,paneClickDistance:G,deleteKeyCode:j,selectionKeyCode:y,selectionOnDrag:h,selectionMode:v,onSelectionStart:d,onSelectionEnd:x,multiSelectionKeyCode:S,panActivationKeyCode:E,zoomActivationKeyCode:k,elementsSelectable:z,zoomOnScroll:D,zoomOnPinch:C,zoomOnDoubleClick:H,panOnScroll:M,panOnScrollSpeed:R,panOnScrollMode:O,panOnDrag:X,defaultViewport:T,translateExtent:L,minZoom:V,maxZoom:N,onSelectionContextMenu:c,preventScrolling:P,noDragClassName:b,noWheelClassName:U,noPanClassName:ne,disableKeyboardA11y:se,onViewportChange:fe,isControlledViewport:!!le,children:p.jsxs(NN,{children:[p.jsx(_N,{edgeTypes:t,onEdgeClick:o,onEdgeDoubleClick:s,onReconnect:ve,onReconnectStart:pt,onReconnectEnd:lt,onlyRenderVisibleElements:A,onEdgeContextMenu:Z,onEdgeMouseEnter:Q,onEdgeMouseMove:oe,onEdgeMouseLeave:ue,reconnectRadius:ie,defaultMarkerColor:I,noPanClassName:ne,disableKeyboardA11y:se,rfId:de}),p.jsx(AN,{style:w,type:g,component:_,containerStyle:m}),p.jsx("div",{className:"react-flow__edgelabel-renderer"}),p.jsx(rN,{nodeTypes:e,onNodeClick:r,onNodeDoubleClick:i,onNodeMouseEnter:l,onNodeMouseMove:a,onNodeMouseLeave:u,onNodeContextMenu:f,nodeClickDistance:K,onlyRenderVisibleElements:A,noPanClassName:ne,noDragClassName:b,disableKeyboardA11y:se,nodeExtent:ae,rfId:de}),p.jsx("div",{className:"react-flow__viewport-portal"})]})})}gg.displayName="GraphView";const RN=$.memo(gg),df=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:o,height:i,fitView:s,fitViewOptions:l,minZoom:a=.5,maxZoom:u=2,nodeOrigin:f,nodeExtent:c,zIndexMode:d="basic"}={})=>{const x=new Map,g=new Map,w=new Map,_=new Map,m=r??t??[],y=n??e??[],h=f??[0,0],v=c??jo;km(w,_,m);const S=Pa(y,x,g,{nodeOrigin:h,nodeExtent:v,zIndexMode:d});let E=[0,0,1];if(s&&o&&i){const k=Ho(x,{filter:T=>!!((T.width||T.initialWidth)&&(T.height||T.initialHeight))}),{x:j,y:A,zoom:z}=zu(k,o,i,a,u,(l==null?void 0:l.padding)??.1);E=[j,A,z]}return{rfId:"1",width:o??0,height:i??0,transform:E,nodes:y,nodesInitialized:S,nodeLookup:x,parentLookup:g,edges:m,edgeLookup:_,connectionLookup:w,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:a,maxZoom:u,translateExtent:jo,nodeExtent:v,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:Sr.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:h,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:s??!1,fitViewOptions:l,fitViewResolver:null,connection:{...lm},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:$_,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:sm,zIndexMode:d,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}},LN=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:o,height:i,fitView:s,fitViewOptions:l,minZoom:a,maxZoom:u,nodeOrigin:f,nodeExtent:c,zIndexMode:d})=>JS((x,g)=>{async function w(){const{nodeLookup:_,panZoom:m,fitViewOptions:y,fitViewResolver:h,width:v,height:S,minZoom:E,maxZoom:k}=g();m&&(await R_({nodes:_,width:v,height:S,panZoom:m,minZoom:E,maxZoom:k},y),h==null||h.resolve(!0),x({fitViewResolver:null}))}return{...df({nodes:e,edges:t,width:o,height:i,fitView:s,fitViewOptions:l,minZoom:a,maxZoom:u,nodeOrigin:f,nodeExtent:c,defaultNodes:n,defaultEdges:r,zIndexMode:d}),setNodes:_=>{const{nodeLookup:m,parentLookup:y,nodeOrigin:h,elevateNodesOnSelect:v,fitViewQueued:S,zIndexMode:E}=g(),k=Pa(_,m,y,{nodeOrigin:h,nodeExtent:c,elevateNodesOnSelect:v,checkEquality:!0,zIndexMode:E});S&&k?(w(),x({nodes:_,nodesInitialized:k,fitViewQueued:!1,fitViewOptions:void 0})):x({nodes:_,nodesInitialized:k})},setEdges:_=>{const{connectionLookup:m,edgeLookup:y}=g();km(m,y,_),x({edges:_})},setDefaultNodesAndEdges:(_,m)=>{if(_){const{setNodes:y}=g();y(_),x({hasDefaultNodes:!0})}if(m){const{setEdges:y}=g();y(m),x({hasDefaultEdges:!0})}},updateNodeInternals:_=>{const{triggerNodeChanges:m,nodeLookup:y,parentLookup:h,domNode:v,nodeOrigin:S,nodeExtent:E,debug:k,fitViewQueued:j,zIndexMode:A}=g(),{changes:z,updatedInternals:T}=rS(_,y,h,v,S,E,A);T&&(J_(y,h,{nodeOrigin:S,nodeExtent:E,zIndexMode:A}),j?(w(),x({fitViewQueued:!1,fitViewOptions:void 0})):x({}),(z==null?void 0:z.length)>0&&(k&&console.log("React Flow: trigger node changes",z),m==null||m(z)))},updateNodePositions:(_,m=!1)=>{const y=[];let h=[];const{nodeLookup:v,triggerNodeChanges:S,connection:E,updateConnection:k,onNodesChangeMiddlewareMap:j}=g();for(const[A,z]of _){const T=v.get(A),L=!!(T!=null&&T.expandParent&&(T!=null&&T.parentId)&&(z!=null&&z.position)),V={id:A,type:"position",position:L?{x:Math.max(0,z.position.x),y:Math.max(0,z.position.y)}:z.position,dragging:m};if(T&&E.inProgress&&E.fromNode.id===T.id){const N=Fn(T,E.fromHandle,J.Left,!0);k({...E,from:N})}L&&T.parentId&&y.push({id:A,parentId:T.parentId,rect:{...z.internals.positionAbsolute,width:z.measured.width??0,height:z.measured.height??0}}),h.push(V)}if(y.length>0){const{parentLookup:A,nodeOrigin:z}=g(),T=Uu(y,v,A,z);h.push(...T)}for(const A of j.values())h=A(h);S(h)},triggerNodeChanges:_=>{const{onNodesChange:m,setNodes:y,nodes:h,hasDefaultNodes:v,debug:S}=g();if(_!=null&&_.length){if(v){const E=Wm(_,h);y(E)}S&&console.log("React Flow: trigger node changes",_),m==null||m(_)}},triggerEdgeChanges:_=>{const{onEdgesChange:m,setEdges:y,edges:h,hasDefaultEdges:v,debug:S}=g();if(_!=null&&_.length){if(v){const E=Ym(_,h);y(E)}S&&console.log("React Flow: trigger edge changes",_),m==null||m(_)}},addSelectedNodes:_=>{const{multiSelectionActive:m,edgeLookup:y,nodeLookup:h,triggerNodeChanges:v,triggerEdgeChanges:S}=g();if(m){const E=_.map(k=>Nn(k,!0));v(E);return}v(or(h,new Set([..._]),!0)),S(or(y))},addSelectedEdges:_=>{const{multiSelectionActive:m,edgeLookup:y,nodeLookup:h,triggerNodeChanges:v,triggerEdgeChanges:S}=g();if(m){const E=_.map(k=>Nn(k,!0));S(E);return}S(or(y,new Set([..._]))),v(or(h,new Set,!0))},unselectNodesAndEdges:({nodes:_,edges:m}={})=>{const{edges:y,nodes:h,nodeLookup:v,triggerNodeChanges:S,triggerEdgeChanges:E}=g(),k=_||h,j=m||y,A=k.map(T=>{const L=v.get(T.id);return L&&(L.selected=!1),Nn(T.id,!1)}),z=j.map(T=>Nn(T.id,!1));S(A),E(z)},setMinZoom:_=>{const{panZoom:m,maxZoom:y}=g();m==null||m.setScaleExtent([_,y]),x({minZoom:_})},setMaxZoom:_=>{const{panZoom:m,minZoom:y}=g();m==null||m.setScaleExtent([y,_]),x({maxZoom:_})},setTranslateExtent:_=>{var m;(m=g().panZoom)==null||m.setTranslateExtent(_),x({translateExtent:_})},resetSelectedElements:()=>{const{edges:_,nodes:m,triggerNodeChanges:y,triggerEdgeChanges:h,elementsSelectable:v}=g();if(!v)return;const S=m.reduce((k,j)=>j.selected?[...k,Nn(j.id,!1)]:k,[]),E=_.reduce((k,j)=>j.selected?[...k,Nn(j.id,!1)]:k,[]);y(S),h(E)},setNodeExtent:_=>{const{nodes:m,nodeLookup:y,parentLookup:h,nodeOrigin:v,elevateNodesOnSelect:S,nodeExtent:E,zIndexMode:k}=g();_[0][0]===E[0][0]&&_[0][1]===E[0][1]&&_[1][0]===E[1][0]&&_[1][1]===E[1][1]||(Pa(m,y,h,{nodeOrigin:v,nodeExtent:_,elevateNodesOnSelect:S,checkEquality:!1,zIndexMode:k}),x({nodeExtent:_}))},panBy:_=>{const{transform:m,width:y,height:h,panZoom:v,translateExtent:S}=g();return oS({delta:_,panZoom:v,transform:m,translateExtent:S,width:y,height:h})},setCenter:async(_,m,y)=>{const{width:h,height:v,maxZoom:S,panZoom:E}=g();if(!E)return Promise.resolve(!1);const k=typeof(y==null?void 0:y.zoom)<"u"?y.zoom:S;return await E.setViewport({x:h/2-_*k,y:v/2-m*k,zoom:k},{duration:y==null?void 0:y.duration,ease:y==null?void 0:y.ease,interpolate:y==null?void 0:y.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{x({connection:{...lm}})},updateConnection:_=>{x({connection:_})},reset:()=>x({...df()})}},Object.is);function yg({initialNodes:e,initialEdges:t,defaultNodes:n,defaultEdges:r,initialWidth:o,initialHeight:i,initialMinZoom:s,initialMaxZoom:l,initialFitViewOptions:a,fitView:u,nodeOrigin:f,nodeExtent:c,zIndexMode:d,children:x}){const[g]=$.useState(()=>LN({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:o,height:i,fitView:u,minZoom:s,maxZoom:l,fitViewOptions:a,nodeOrigin:f,nodeExtent:c,zIndexMode:d}));return p.jsx(e2,{value:g,children:p.jsx(N2,{children:x})})}function $N({children:e,nodes:t,edges:n,defaultNodes:r,defaultEdges:o,width:i,height:s,fitView:l,fitViewOptions:a,minZoom:u,maxZoom:f,nodeOrigin:c,nodeExtent:d,zIndexMode:x}){return $.useContext(Hs)?p.jsx(p.Fragment,{children:e}):p.jsx(yg,{initialNodes:t,initialEdges:n,defaultNodes:r,defaultEdges:o,initialWidth:i,initialHeight:s,fitView:l,initialFitViewOptions:a,initialMinZoom:u,initialMaxZoom:f,nodeOrigin:c,nodeExtent:d,zIndexMode:x,children:e})}const DN={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function zN({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:o,nodeTypes:i,edgeTypes:s,onNodeClick:l,onEdgeClick:a,onInit:u,onMove:f,onMoveStart:c,onMoveEnd:d,onConnect:x,onConnectStart:g,onConnectEnd:w,onClickConnectStart:_,onClickConnectEnd:m,onNodeMouseEnter:y,onNodeMouseMove:h,onNodeMouseLeave:v,onNodeContextMenu:S,onNodeDoubleClick:E,onNodeDragStart:k,onNodeDrag:j,onNodeDragStop:A,onNodesDelete:z,onEdgesDelete:T,onDelete:L,onSelectionChange:V,onSelectionDragStart:N,onSelectionDrag:P,onSelectionDragStop:I,onSelectionContextMenu:D,onSelectionStart:C,onSelectionEnd:M,onBeforeDelete:R,connectionMode:O,connectionLineType:H=rn.Bezier,connectionLineStyle:X,connectionLineComponent:W,connectionLineContainerStyle:ee,deleteKeyCode:F="Backspace",selectionKeyCode:te="Shift",selectionOnDrag:Y=!1,selectionMode:re=Io.Full,panActivationKeyCode:G="Space",multiSelectionKeyCode:K=Ao()?"Meta":"Control",zoomActivationKeyCode:Z=Ao()?"Meta":"Control",snapToGrid:Q,snapGrid:oe,onlyRenderVisibleElements:ue=!1,selectNodesOnDrag:ie,nodesDraggable:ve,autoPanOnNodeFocus:pt,nodesConnectable:lt,nodesFocusable:b,nodeOrigin:U=Bm,edgesFocusable:ne,edgesReconnectable:se,elementsSelectable:ae=!0,defaultViewport:de=h2,minZoom:le=.5,maxZoom:fe=2,translateExtent:Uo=jo,preventScrolling:Sg=!0,nodeExtent:Us,defaultMarkerColor:Ng="#b1b1b7",zoomOnScroll:Eg=!0,zoomOnPinch:Cg=!0,panOnScroll:kg=!1,panOnScrollSpeed:Mg=.5,panOnScrollMode:jg=An.Free,zoomOnDoubleClick:Ig=!0,panOnDrag:Tg=!0,onPaneClick:Ag,onPaneMouseEnter:Pg,onPaneMouseMove:bg,onPaneMouseLeave:Rg,onPaneScroll:Lg,onPaneContextMenu:$g,paneClickDistance:Dg=1,nodeClickDistance:zg=0,children:Og,onReconnect:Fg,onReconnectStart:Hg,onReconnectEnd:Vg,onEdgeContextMenu:Bg,onEdgeDoubleClick:Ug,onEdgeMouseEnter:Wg,onEdgeMouseMove:Yg,onEdgeMouseLeave:Xg,reconnectRadius:Gg=10,onNodesChange:Qg,onEdgesChange:Kg,noDragClassName:Zg="nodrag",noWheelClassName:qg="nowheel",noPanClassName:Xu="nopan",fitView:Gu,fitViewOptions:Qu,connectOnClick:Jg,attributionPosition:e0,proOptions:t0,defaultEdgeOptions:n0,elevateNodesOnSelect:r0=!0,elevateEdgesOnSelect:o0=!1,disableKeyboardA11y:Ku=!1,autoPanOnConnect:i0,autoPanOnNodeDrag:s0,autoPanSpeed:l0,connectionRadius:a0,isValidConnection:u0,onError:c0,style:d0,id:Zu,nodeDragThreshold:f0,connectionDragThreshold:h0,viewport:p0,onViewportChange:m0,width:g0,height:y0,colorMode:x0="light",debug:v0,onScroll:Wo,ariaLabelConfig:w0,zIndexMode:qu="basic",..._0},S0){const Ws=Zu||"1",N0=y2(x0),E0=$.useCallback(Ju=>{Ju.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),Wo==null||Wo(Ju)},[Wo]);return p.jsx("div",{"data-testid":"rf__wrapper",..._0,onScroll:E0,style:{...d0,...DN},ref:S0,className:Ie(["react-flow",o,N0]),id:Zu,role:"application",children:p.jsxs($N,{nodes:e,edges:t,width:g0,height:y0,fitView:Gu,fitViewOptions:Qu,minZoom:le,maxZoom:fe,nodeOrigin:U,nodeExtent:Us,zIndexMode:qu,children:[p.jsx(RN,{onInit:u,onNodeClick:l,onEdgeClick:a,onNodeMouseEnter:y,onNodeMouseMove:h,onNodeMouseLeave:v,onNodeContextMenu:S,onNodeDoubleClick:E,nodeTypes:i,edgeTypes:s,connectionLineType:H,connectionLineStyle:X,connectionLineComponent:W,connectionLineContainerStyle:ee,selectionKeyCode:te,selectionOnDrag:Y,selectionMode:re,deleteKeyCode:F,multiSelectionKeyCode:K,panActivationKeyCode:G,zoomActivationKeyCode:Z,onlyRenderVisibleElements:ue,defaultViewport:de,translateExtent:Uo,minZoom:le,maxZoom:fe,preventScrolling:Sg,zoomOnScroll:Eg,zoomOnPinch:Cg,zoomOnDoubleClick:Ig,panOnScroll:kg,panOnScrollSpeed:Mg,panOnScrollMode:jg,panOnDrag:Tg,onPaneClick:Ag,onPaneMouseEnter:Pg,onPaneMouseMove:bg,onPaneMouseLeave:Rg,onPaneScroll:Lg,onPaneContextMenu:$g,paneClickDistance:Dg,nodeClickDistance:zg,onSelectionContextMenu:D,onSelectionStart:C,onSelectionEnd:M,onReconnect:Fg,onReconnectStart:Hg,onReconnectEnd:Vg,onEdgeContextMenu:Bg,onEdgeDoubleClick:Ug,onEdgeMouseEnter:Wg,onEdgeMouseMove:Yg,onEdgeMouseLeave:Xg,reconnectRadius:Gg,defaultMarkerColor:Ng,noDragClassName:Zg,noWheelClassName:qg,noPanClassName:Xu,rfId:Ws,disableKeyboardA11y:Ku,nodeExtent:Us,viewport:p0,onViewportChange:m0}),p.jsx(g2,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:x,onConnectStart:g,onConnectEnd:w,onClickConnectStart:_,onClickConnectEnd:m,nodesDraggable:ve,autoPanOnNodeFocus:pt,nodesConnectable:lt,nodesFocusable:b,edgesFocusable:ne,edgesReconnectable:se,elementsSelectable:ae,elevateNodesOnSelect:r0,elevateEdgesOnSelect:o0,minZoom:le,maxZoom:fe,nodeExtent:Us,onNodesChange:Qg,onEdgesChange:Kg,snapToGrid:Q,snapGrid:oe,connectionMode:O,translateExtent:Uo,connectOnClick:Jg,defaultEdgeOptions:n0,fitView:Gu,fitViewOptions:Qu,onNodesDelete:z,onEdgesDelete:T,onDelete:L,onNodeDragStart:k,onNodeDrag:j,onNodeDragStop:A,onSelectionDrag:P,onSelectionDragStart:N,onSelectionDragStop:I,onMove:f,onMoveStart:c,onMoveEnd:d,noPanClassName:Xu,nodeOrigin:U,rfId:Ws,autoPanOnConnect:i0,autoPanOnNodeDrag:s0,autoPanSpeed:l0,onError:c0,connectionRadius:a0,isValidConnection:u0,selectNodesOnDrag:ie,nodeDragThreshold:f0,connectionDragThreshold:h0,onBeforeDelete:R,debug:v0,ariaLabelConfig:w0,zIndexMode:qu}),p.jsx(f2,{onSelectionChange:V}),Og,p.jsx(l2,{proOptions:t0,position:e0}),p.jsx(s2,{rfId:Ws,disableKeyboardA11y:Ku})]})})}var ON=Xm(zN);function FN(e){const[t,n]=$.useState(e),r=$.useCallback(o=>n(i=>Wm(o,i)),[]);return[t,n,r]}function HN(e){const[t,n]=$.useState(e),r=$.useCallback(o=>n(i=>Ym(o,i)),[]);return[t,n,r]}function VN({dimensions:e,lineWidth:t,variant:n,className:r}){return p.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:Ie(["react-flow__background-pattern",n,r])})}function BN({radius:e,className:t}){return p.jsx("circle",{cx:e,cy:e,r:e,className:Ie(["react-flow__background-pattern","dots",t])})}var mn;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(mn||(mn={}));const UN={[mn.Dots]:1,[mn.Lines]:1,[mn.Cross]:6},WN=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function xg({id:e,variant:t=mn.Dots,gap:n=20,size:r,lineWidth:o=1,offset:i=0,color:s,bgColor:l,style:a,className:u,patternClassName:f}){const c=$.useRef(null),{transform:d,patternId:x}=he(WN,_e),g=r||UN[t],w=t===mn.Dots,_=t===mn.Cross,m=Array.isArray(n)?n:[n,n],y=[m[0]*d[2]||1,m[1]*d[2]||1],h=g*d[2],v=Array.isArray(i)?i:[i,i],S=_?[h,h]:y,E=[v[0]*d[2]||1+S[0]/2,v[1]*d[2]||1+S[1]/2],k=`${x}${e||""}`;return p.jsxs("svg",{className:Ie(["react-flow__background",u]),style:{...a,...Vs,"--xy-background-color-props":l,"--xy-background-pattern-color-props":s},ref:c,"data-testid":"rf__background",children:[p.jsx("pattern",{id:k,x:d[0]%y[0],y:d[1]%y[1],width:y[0],height:y[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${E[0]},-${E[1]})`,children:w?p.jsx(BN,{radius:h/2,className:f}):p.jsx(VN,{dimensions:S,lineWidth:o,variant:t,className:f})}),p.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${k})`})]})}xg.displayName="Background";const YN=$.memo(xg);function XN(){return p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:p.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function GN(){return p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:p.jsx("path",{d:"M0 0h32v4.2H0z"})})}function QN(){return p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:p.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function KN(){return p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:p.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function ZN(){return p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:p.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function yi({children:e,className:t,...n}){return p.jsx("button",{type:"button",className:Ie(["react-flow__controls-button",t]),...n,children:e})}const qN=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function vg({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:o,onZoomIn:i,onZoomOut:s,onFitView:l,onInteractiveChange:a,className:u,children:f,position:c="bottom-left",orientation:d="vertical","aria-label":x}){const g=Se(),{isInteractive:w,minZoomReached:_,maxZoomReached:m,ariaLabelConfig:y}=he(qN,_e),{zoomIn:h,zoomOut:v,fitView:S}=Wu(),E=()=>{h(),i==null||i()},k=()=>{v(),s==null||s()},j=()=>{S(o),l==null||l()},A=()=>{g.setState({nodesDraggable:!w,nodesConnectable:!w,elementsSelectable:!w}),a==null||a(!w)},z=d==="horizontal"?"horizontal":"vertical";return p.jsxs(jr,{className:Ie(["react-flow__controls",z,u]),position:c,style:e,"data-testid":"rf__controls","aria-label":x??y["controls.ariaLabel"],children:[t&&p.jsxs(p.Fragment,{children:[p.jsx(yi,{onClick:E,className:"react-flow__controls-zoomin",title:y["controls.zoomIn.ariaLabel"],"aria-label":y["controls.zoomIn.ariaLabel"],disabled:m,children:p.jsx(XN,{})}),p.jsx(yi,{onClick:k,className:"react-flow__controls-zoomout",title:y["controls.zoomOut.ariaLabel"],"aria-label":y["controls.zoomOut.ariaLabel"],disabled:_,children:p.jsx(GN,{})})]}),n&&p.jsx(yi,{className:"react-flow__controls-fitview",onClick:j,title:y["controls.fitView.ariaLabel"],"aria-label":y["controls.fitView.ariaLabel"],children:p.jsx(QN,{})}),r&&p.jsx(yi,{className:"react-flow__controls-interactive",onClick:A,title:y["controls.interactive.ariaLabel"],"aria-label":y["controls.interactive.ariaLabel"],children:w?p.jsx(ZN,{}):p.jsx(KN,{})}),f]})}vg.displayName="Controls";const JN=$.memo(vg);function eE({id:e,x:t,y:n,width:r,height:o,style:i,color:s,strokeColor:l,strokeWidth:a,className:u,borderRadius:f,shapeRendering:c,selected:d,onClick:x}){const{background:g,backgroundColor:w}=i||{},_=s||g||w;return p.jsx("rect",{className:Ie(["react-flow__minimap-node",{selected:d},u]),x:t,y:n,rx:f,ry:f,width:r,height:o,style:{fill:_,stroke:l,strokeWidth:a},shapeRendering:c,onClick:x?m=>x(m,e):void 0})}const tE=$.memo(eE),nE=e=>e.nodes.map(t=>t.id),Ml=e=>e instanceof Function?e:()=>e;function rE({nodeStrokeColor:e,nodeColor:t,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:o,nodeComponent:i=tE,onClick:s}){const l=he(nE,_e),a=Ml(t),u=Ml(e),f=Ml(n),c=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return p.jsx(p.Fragment,{children:l.map(d=>p.jsx(iE,{id:d,nodeColorFunc:a,nodeStrokeColorFunc:u,nodeClassNameFunc:f,nodeBorderRadius:r,nodeStrokeWidth:o,NodeComponent:i,onClick:s,shapeRendering:c},d))})}function oE({id:e,nodeColorFunc:t,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:o,nodeStrokeWidth:i,shapeRendering:s,NodeComponent:l,onClick:a}){const{node:u,x:f,y:c,width:d,height:x}=he(g=>{const{internals:w}=g.nodeLookup.get(e),_=w.userNode,{x:m,y}=w.positionAbsolute,{width:h,height:v}=Qt(_);return{node:_,x:m,y,width:h,height:v}},_e);return!u||u.hidden||!pm(u)?null:p.jsx(l,{x:f,y:c,width:d,height:x,style:u.style,selected:!!u.selected,className:r(u),color:t(u),borderRadius:o,strokeColor:n(u),strokeWidth:i,shapeRendering:s,onClick:a,id:u.id})}const iE=$.memo(oE);var sE=$.memo(rE);const lE=200,aE=150,uE=e=>!e.hidden,cE=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?hm(Ho(e.nodeLookup,{filter:uE}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},dE="react-flow__minimap-desc";function wg({style:e,className:t,nodeStrokeColor:n,nodeColor:r,nodeClassName:o="",nodeBorderRadius:i=5,nodeStrokeWidth:s,nodeComponent:l,bgColor:a,maskColor:u,maskStrokeColor:f,maskStrokeWidth:c,position:d="bottom-right",onClick:x,onNodeClick:g,pannable:w=!1,zoomable:_=!1,ariaLabel:m,inversePan:y,zoomStep:h=1,offsetScale:v=5}){const S=Se(),E=$.useRef(null),{boundingRect:k,viewBB:j,rfId:A,panZoom:z,translateExtent:T,flowWidth:L,flowHeight:V,ariaLabelConfig:N}=he(cE,_e),P=(e==null?void 0:e.width)??lE,I=(e==null?void 0:e.height)??aE,D=k.width/P,C=k.height/I,M=Math.max(D,C),R=M*P,O=M*I,H=v*M,X=k.x-(R-k.width)/2-H,W=k.y-(O-k.height)/2-H,ee=R+H*2,F=O+H*2,te=`${dE}-${A}`,Y=$.useRef(0),re=$.useRef();Y.current=M,$.useEffect(()=>{if(E.current&&z)return re.current=hS({domNode:E.current,panZoom:z,getTransform:()=>S.getState().transform,getViewScale:()=>Y.current}),()=>{var Q;(Q=re.current)==null||Q.destroy()}},[z]),$.useEffect(()=>{var Q;(Q=re.current)==null||Q.update({translateExtent:T,width:L,height:V,inversePan:y,pannable:w,zoomStep:h,zoomable:_})},[w,_,y,h,T,L,V]);const G=x?Q=>{var ie;const[oe,ue]=((ie=re.current)==null?void 0:ie.pointer(Q))||[0,0];x(Q,{x:oe,y:ue})}:void 0,K=g?$.useCallback((Q,oe)=>{const ue=S.getState().nodeLookup.get(oe).internals.userNode;g(Q,ue)},[]):void 0,Z=m??N["minimap.ariaLabel"];return p.jsx(jr,{position:d,style:{...e,"--xy-minimap-background-color-props":typeof a=="string"?a:void 0,"--xy-minimap-mask-background-color-props":typeof u=="string"?u:void 0,"--xy-minimap-mask-stroke-color-props":typeof f=="string"?f:void 0,"--xy-minimap-mask-stroke-width-props":typeof c=="number"?c*M:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof s=="number"?s:void 0},className:Ie(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:p.jsxs("svg",{width:P,height:I,viewBox:`${X} ${W} ${ee} ${F}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":te,ref:E,onClick:G,children:[Z&&p.jsx("title",{id:te,children:Z}),p.jsx(sE,{onClick:K,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:i,nodeClassName:o,nodeStrokeWidth:s,nodeComponent:l}),p.jsx("path",{className:"react-flow__minimap-mask",d:`M${X-H},${W-H}h${ee+H*2}v${F+H*2}h${-ee-H*2}z
        M${j.x},${j.y}h${j.width}v${j.height}h${-j.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}wg.displayName="MiniMap";const fE=$.memo(wg),hE=e=>t=>e?`${Math.max(1/t.transform[2],1)}`:void 0,pE={[kr.Line]:"right",[kr.Handle]:"bottom-right"};function mE({nodeId:e,position:t,variant:n=kr.Handle,className:r,style:o=void 0,children:i,color:s,minWidth:l=10,minHeight:a=10,maxWidth:u=Number.MAX_VALUE,maxHeight:f=Number.MAX_VALUE,keepAspectRatio:c=!1,resizeDirection:d,autoScale:x=!0,shouldResize:g,onResizeStart:w,onResize:_,onResizeEnd:m}){const y=Zm(),h=typeof e=="string"?e:y,v=Se(),S=$.useRef(null),E=n===kr.Handle,k=he($.useCallback(hE(E&&x),[E,x]),_e),j=$.useRef(null),A=t??pE[n];$.useEffect(()=>{if(!(!S.current||!h))return j.current||(j.current=MS({domNode:S.current,nodeId:h,getStoreItems:()=>{const{nodeLookup:T,transform:L,snapGrid:V,snapToGrid:N,nodeOrigin:P,domNode:I}=v.getState();return{nodeLookup:T,transform:L,snapGrid:V,snapToGrid:N,nodeOrigin:P,paneDomNode:I}},onChange:(T,L)=>{const{triggerNodeChanges:V,nodeLookup:N,parentLookup:P,nodeOrigin:I}=v.getState(),D=[],C={x:T.x,y:T.y},M=N.get(h);if(M&&M.expandParent&&M.parentId){const R=M.origin??I,O=T.width??M.measured.width??0,H=T.height??M.measured.height??0,X={id:M.id,parentId:M.parentId,rect:{width:O,height:H,...mm({x:T.x??M.position.x,y:T.y??M.position.y},{width:O,height:H},M.parentId,N,R)}},W=Uu([X],N,P,I);D.push(...W),C.x=T.x?Math.max(R[0]*O,T.x):void 0,C.y=T.y?Math.max(R[1]*H,T.y):void 0}if(C.x!==void 0&&C.y!==void 0){const R={id:h,type:"position",position:{...C}};D.push(R)}if(T.width!==void 0&&T.height!==void 0){const O={id:h,type:"dimensions",resizing:!0,setAttributes:d?d==="horizontal"?"width":"height":!0,dimensions:{width:T.width,height:T.height}};D.push(O)}for(const R of L){const O={...R,type:"position"};D.push(O)}V(D)},onEnd:({width:T,height:L})=>{const V={id:h,type:"dimensions",resizing:!1,dimensions:{width:T,height:L}};v.getState().triggerNodeChanges([V])}})),j.current.update({controlPosition:A,boundaries:{minWidth:l,minHeight:a,maxWidth:u,maxHeight:f},keepAspectRatio:c,resizeDirection:d,onResizeStart:w,onResize:_,onResizeEnd:m,shouldResize:g}),()=>{var T;(T=j.current)==null||T.destroy()}},[A,l,a,u,f,c,w,_,m,g]);const z=A.split("-");return p.jsx("div",{className:Ie(["react-flow__resize-control","nodrag",...z,n,r]),ref:S,style:{...o,scale:k,...s&&{[E?"backgroundColor":"borderColor"]:s}},children:i})}$.memo(mE);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var gE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=(e,t)=>{const n=$.forwardRef(({color:r="currentColor",size:o=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:l="",children:a,...u},f)=>$.createElement("svg",{ref:f,...gE,width:o,height:o,stroke:r,strokeWidth:s?Number(i)*24/Number(o):i,className:["lucide",`lucide-${yE(e)}`,l].join(" "),...u},[...t.map(([c,d])=>$.createElement(c,d)),...Array.isArray(a)?a:[a]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=st("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vE=st("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wE=st("Dices",[["rect",{width:"12",height:"12",x:"2",y:"10",rx:"2",ry:"2",key:"6agr2n"}],["path",{d:"m17.92 14 3.5-3.5a2.24 2.24 0 0 0 0-3l-5-4.92a2.24 2.24 0 0 0-3 0L10 6",key:"1o487t"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M10 14h.01",key:"ssrbsk"}],["path",{d:"M15 6h.01",key:"cblpky"}],["path",{d:"M18 9h.01",key:"2061c0"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _E=st("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SE=st("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NE=st("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ff=st("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EE=st("Redo",[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CE=st("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kE=st("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ME=st("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jE=st("Undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hf=st("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),IE=e=>{if(e.type==="item")return e.operation==="+"?`: ${e.target}`:`: ${e.target}`;const t={"+=":"+","-=":"-","=":"=","+":"+","-":"-"};return`${e.target} ${t[e.operation]||e.operation} ${e.value}`},TE=({data:e,isConnectable:t})=>{var o;const n=e,r=n.actions&&n.actions.length>0;return p.jsxs("div",{className:`bg-white border-2 rounded-md p-4 min-w-[200px] shadow-sm ${n.isStart?"border-green-400 ring-2 ring-green-100":"border-gray-200"}`,children:[p.jsx(Ve,{type:"target",position:J.Top,isConnectable:t,className:"w-3 h-3 bg-blue-500"}),p.jsxs("div",{className:"flex flex-col gap-2",children:[p.jsxs("div",{className:"font-bold text-sm text-gray-700 border-b pb-1 mb-1 flex justify-between",children:[p.jsx("span",{children:n.label}),n.isStart&&p.jsx("span",{className:"text-[10px] bg-green-100 text-green-800 px-1 rounded",children:""})]}),p.jsx("div",{className:"text-xs text-gray-500 max-h-20 overflow-hidden text-ellipsis whitespace-pre-wrap",children:n.text||"..."}),r&&p.jsxs("div",{className:"mt-1 pt-1 border-t border-gray-100 flex flex-col gap-1",children:[p.jsx("div",{className:"text-[10px] text-gray-400 font-bold",children:":"}),(o=n.actions)==null?void 0:o.map((i,s)=>p.jsx("div",{className:"text-[10px] font-mono bg-blue-50 text-blue-700 px-1 rounded truncate",children:IE(i)},s))]})]}),p.jsx(Ve,{type:"source",position:J.Bottom,isConnectable:t,className:"w-3 h-3 bg-blue-500"})]})},AE=$.memo(TE),PE=({data:e,isConnectable:t})=>{var r;const n=e;return p.jsxs("div",{className:"bg-white border-2 border-purple-200 rounded-md p-4 min-w-[250px] shadow-sm",children:[p.jsx(Ve,{type:"target",position:J.Top,isConnectable:t,className:"w-3 h-3 bg-purple-500"}),p.jsxs("div",{className:"flex flex-col gap-2",children:[p.jsxs("div",{className:"font-bold text-sm text-purple-700 border-b pb-1 mb-1",children:[n.label," ()"]}),p.jsx("div",{className:"text-xs text-gray-500 max-h-20 overflow-hidden text-ellipsis mb-2 whitespace-pre-wrap",children:n.text||"..."}),p.jsx("div",{className:"flex flex-col gap-2 mt-1",children:(r=n.choices)==null?void 0:r.map(o=>p.jsxs("div",{className:"relative bg-purple-50 p-2 rounded text-xs border border-purple-100 text-right pr-6",children:[o.text,p.jsx(Ve,{type:"source",position:J.Right,id:o.id,isConnectable:t,className:"w-2 h-2 bg-purple-500 !right-[-5px]",style:{top:"50%"}})]},o.id))})]})]})},bE=$.memo(PE),RE=e=>{if(e.type==="has_item")return`: ${e.target}`;const t={">=":"","<=":"",">":">","<":"<","=":"=","==":"="};return`${e.target} ${t[e.operation]||e.operation} ${e.value}`},LE=({data:e,isConnectable:t})=>{var i;const n=e,r=n.conditionMode==="check",o=n.conditions&&n.conditions.length>0;return p.jsxs("div",{className:"bg-white border-2 border-orange-200 rounded-md p-4 min-w-[200px] shadow-sm",children:[p.jsx(Ve,{type:"target",position:J.Top,isConnectable:t,className:"w-3 h-3 bg-orange-500"}),p.jsxs("div",{className:"flex flex-col gap-2",children:[p.jsxs("div",{className:"font-bold text-sm text-orange-700 border-b pb-1 mb-1",children:[n.label," ",r?"()":"()"]}),!r&&p.jsx("div",{className:"text-xs bg-orange-50 p-2 rounded text-gray-700 min-h-[20px] mb-2 border border-orange-100",children:o?p.jsx("div",{className:"flex flex-col gap-1",children:(i=n.conditions)==null?void 0:i.map((s,l)=>p.jsxs("div",{className:"truncate",children:[l>0&&p.jsx("span",{className:"text-orange-400 font-bold mr-1",children:n.conditionLogic||"AND"}),RE(s)]},l))}):p.jsx("div",{className:"text-gray-400 italic",children:" ()"})}),r&&p.jsxs("div",{className:"text-xs bg-purple-50 p-2 rounded text-gray-700 min-h-[20px] mb-2 border border-purple-100 flex items-center gap-1",children:[p.jsx(wE,{size:12,className:"text-purple-600"}),p.jsxs("div",{children:[p.jsx("div",{children:n.checkDice||"1d100"}),p.jsxs("div",{className:"text-[10px] text-gray-500",children:["vs ",n.checkTarget||"50"]})]})]}),r?p.jsxs("div",{className:"flex justify-between items-center text-[10px] font-bold relative h-4 w-full",children:[p.jsxs("div",{className:"absolute left-0 -ml-1 text-center",children:[p.jsx("div",{className:"text-yellow-600 scale-75 whitespace-nowrap",children:""}),p.jsx(Ve,{type:"source",position:J.Bottom,id:"great_success",isConnectable:t,className:"w-2 h-2 bg-yellow-500",style:{bottom:"-10px"}})]}),p.jsxs("div",{className:"absolute left-[30%] text-center",children:[p.jsx("div",{className:"text-green-600 scale-75",children:""}),p.jsx(Ve,{type:"source",position:J.Bottom,id:"success",isConnectable:t,className:"w-2 h-2 bg-green-500",style:{bottom:"-10px"}})]}),p.jsxs("div",{className:"absolute right-[30%] text-center",children:[p.jsx("div",{className:"text-red-600 scale-75",children:""}),p.jsx(Ve,{type:"source",position:J.Bottom,id:"failure",isConnectable:t,className:"w-2 h-2 bg-red-500",style:{bottom:"-10px"}})]}),p.jsxs("div",{className:"absolute right-0 -mr-1 text-center",children:[p.jsx("div",{className:"text-purple-600 scale-75 whitespace-nowrap",children:""}),p.jsx(Ve,{type:"source",position:J.Bottom,id:"great_failure",isConnectable:t,className:"w-2 h-2 bg-purple-500",style:{bottom:"-10px"}})]})]}):p.jsxs("div",{className:"flex justify-between items-center text-xs font-bold relative h-4",children:[p.jsxs("div",{className:"absolute left-0",children:[p.jsx("span",{className:"text-green-600",children:""}),p.jsx(Ve,{type:"source",position:J.Bottom,id:"true",isConnectable:t,className:"w-3 h-3 bg-green-500",style:{bottom:"-10px"}})]}),p.jsxs("div",{className:"absolute right-0",children:[p.jsx("span",{className:"text-red-600",children:""}),p.jsx(Ve,{type:"source",position:J.Bottom,id:"false",isConnectable:t,className:"w-3 h-3 bg-red-500",style:{bottom:"-10px"}})]})]})]})]})},$E=$.memo(LE);var _g={exports:{}};(function(e,t){(function(n,r){r()})(Pr,function(){function n(u,f){return typeof f>"u"?f={autoBom:!1}:typeof f!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),f={autoBom:!f}),f.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\uFEFF",u],{type:u.type}):u}function r(u,f,c){var d=new XMLHttpRequest;d.open("GET",u),d.responseType="blob",d.onload=function(){a(d.response,f,c)},d.onerror=function(){console.error("could not download file")},d.send()}function o(u){var f=new XMLHttpRequest;f.open("HEAD",u,!1);try{f.send()}catch{}return 200<=f.status&&299>=f.status}function i(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var f=document.createEvent("MouseEvents");f.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(f)}}var s=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Pr=="object"&&Pr.global===Pr?Pr:void 0,l=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),a=s.saveAs||(typeof window!="object"||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!l?function(u,f,c){var d=s.URL||s.webkitURL,x=document.createElement("a");f=f||u.name||"download",x.download=f,x.rel="noopener",typeof u=="string"?(x.href=u,x.origin===location.origin?i(x):o(x.href)?r(u,f,c):i(x,x.target="_blank")):(x.href=d.createObjectURL(u),setTimeout(function(){d.revokeObjectURL(x.href)},4e4),setTimeout(function(){i(x)},0))}:"msSaveOrOpenBlob"in navigator?function(u,f,c){if(f=f||u.name||"download",typeof u!="string")navigator.msSaveOrOpenBlob(n(u,c),f);else if(o(u))r(u,f,c);else{var d=document.createElement("a");d.href=u,d.target="_blank",setTimeout(function(){i(d)})}}:function(u,f,c,d){if(d=d||open("","_blank"),d&&(d.document.title=d.document.body.innerText="downloading..."),typeof u=="string")return r(u,f,c);var x=u.type==="application/octet-stream",g=/constructor/i.test(s.HTMLElement)||s.safari,w=/CriOS\/[\d]+/.test(navigator.userAgent);if((w||x&&g||l)&&typeof FileReader<"u"){var _=new FileReader;_.onloadend=function(){var h=_.result;h=w?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),d?d.location.href=h:location=h,d=null},_.readAsDataURL(u)}else{var m=s.URL||s.webkitURL,y=m.createObjectURL(u);d?d.location=y:location.href=y,d=null,setTimeout(function(){m.revokeObjectURL(y)},4e4)}});s.saveAs=a.saveAs=a,e.exports=a})})(_g);var DE=_g.exports;const pf=e=>!e||e.length===0?"":e.map(t=>{const n=r=>{if(typeof r=="number")return r;const o=String(r).trim();return o?/^-?\d+(\.\d+)?$/.test(o)?Number(o):`rollDice(${JSON.stringify(o)})`:0};if(t.type==="item"){const r=JSON.stringify(t.target??""),o=n(t.value||1);return t.operation==="+"||t.operation==="+="?`state.inventory = state.inventory || {}; 
                        if(Array.isArray(state.inventory)) state.inventory = {};
                        state.inventory[${r}] = (state.inventory[${r}] || 0) + ${o};`:`state.inventory = state.inventory || {};
                        if(Array.isArray(state.inventory)) state.inventory = {};
                        state.inventory[${r}] = Math.max(0, (state.inventory[${r}] || 0) - ${o});
                        if(state.inventory[${r}] <= 0) delete state.inventory[${r}];`}else{let r="state.stats = state.stats || {};";const o=n(t.value||0),i=JSON.stringify(t.target??"");return t.operation==="="?r+=`state.stats[${i}] = ${o};`:t.operation==="+"||t.operation==="+="?r+=`state.stats[${i}] = (state.stats[${i}] || 0) + ${o};`:(t.operation==="-"||t.operation==="-=")&&(r+=`state.stats[${i}] = (state.stats[${i}] || 0) - ${o};`),r}}).join(`
`),zE=(e,t="AND")=>{if(!e||e.length===0)return"true";const n=e.map(r=>{if(r.type==="has_item"){const o=JSON.stringify(r.target??""),i=typeof r.value=="number"?r.value:parseInt(r.value)||1;return`((Array.isArray(state.inventory) ? state.inventory.includes(${o}) : (state.inventory && state.inventory[${o}] >= ${i})))`}else{const o=r.value??0,i=typeof o=="number"?o:Number(o),s=Number.isFinite(i)?i:JSON.stringify(String(o)),a=`(state.stats && state.stats[${JSON.stringify(r.target??"")}] || 0)`;switch(r.operation){case">":return`${a} > ${s}`;case"<":return`${a} < ${s}`;case">=":return`${a} >= ${s}`;case"<=":return`${a} <= ${s}`;case"=":case"==":return`${a} == ${s}`;default:return"true"}}});return t==="OR"?`(${n.join(" || ")})`:`(${n.join(" && ")})`},OE=`// ==UserScript==
// @name         __PLUGIN_NAME__
// @author       __AUTHOR__
// @version      __VERSION__
// @description  __DESCRIPTION__
// @timestamp    __TIMESTAMP__
// @license      MIT
// @homepageURL  __HOMEPAGE__
// ==/UserScript==
`,FE=`// Blackfish Editor Generated Plugin
// Auto-generated by 

function main() {
  // Register Extension
  let ext = seal.ext.find('__PLUGIN_NAME__');
  if (!ext) {
    ext = seal.ext.new('__PLUGIN_NAME__', '__AUTHOR__', '__VERSION__');
    seal.ext.register(ext);
  }

  // Story Data
  const STORY_DATA = __STORY_DATA_PLACEHOLDER__;
  const CMD_NAME = '__COMMAND_NAME__';
  
  // Subcommands
  const SC_START = '__SC_START__';
  const SC_NEXT = '__SC_NEXT__';
  const SC_CHOOSE = '__SC_CHOOSE__';
  const SC_STAT = '__SC_STAT__';
  const SC_LOAD = '__SC_LOAD__';
  const SC_RESET = '__SC_RESET__';
  const SC_CLEAR = '__SC_CLEAR__';

  const CRITICAL_SUCCESS = __CRITICAL_SUCCESS__;
  const CRITICAL_FAILURE = __CRITICAL_FAILURE__;
  const SUCCESS_MODE = '__SUCCESS_MODE__';
  const CRITICAL_SUCCESS_MODE = '__CRITICAL_SUCCESS_MODE__';
  const CRITICAL_FAILURE_MODE = '__CRITICAL_FAILURE_MODE__';
  const DEFAULT_DICE = '__DEFAULT_DICE__';

  // Helper: Roll Dice
  const rollDice = (expr) => {
      if (typeof expr === 'number') return expr;
      let str = String(expr).toLowerCase().replace(/\\s/g, '');
      try {
          // Replace XdY with result
          str = str.replace(/(\\d*)d(\\d+)/g, (match, count, sides) => {
              let n = count === '' ? 1 : parseInt(count);
              let s = parseInt(sides);
              let total = 0;
              for(let i=0; i<n; i++) total += Math.floor(Math.random() * s) + 1;
              return total;
          });
          // Safe eval for math
          return new Function('return ' + str)();
      } catch(e) { return 0; }
  };

  // State Management
  const loadState = (userId) => {
    try {
      const data = ext.storageGet(\`user_\${userId}\`);
      return data ? JSON.parse(data) : null;
    } catch (e) { return null; }
  };

  const saveState = (userId, state) => {
    ext.storageSet(\`user_\${userId}\`, JSON.stringify(state));
  };

  const resetState = (userId) => {
    const initialState = {
      currentNodeId: STORY_DATA.startNodeId,
      stats: {},
      inventory: {},
      history: [],
      savePoints: {}
    };
    saveState(userId, initialState);
    return initialState;
  };

  // Command Handler
  const cmd = seal.ext.newCmdItemInfo();
  cmd.name = CMD_NAME;
  cmd.help = \`__COMMAND_HELP__\`;
  
  cmd.solve = (ctx, msg, cmdArgs) => {
    const userId = ctx.player.userId;
    let state = loadState(userId);
    const subCmd = cmdArgs.getArgN(1);

    if (subCmd === SC_CLEAR || subCmd === 'clr') {
        ext.storageSet(\`user_\${userId}\`, '');
        seal.replyToSender(ctx, msg, '');
        return seal.ext.newCmdExecuteResult(true);
    }

    if (subCmd === SC_START || !state) {
      state = resetState(userId);
      // Fall through to process start node
    } else if (subCmd === SC_RESET) {
        state = resetState(userId);
        seal.replyToSender(ctx, msg, '');
        return seal.ext.newCmdExecuteResult(true);
    } else if (subCmd === SC_STAT) {
        // Debug command to show stats
        const stats = state.stats || {};
        const inv = state.inventory || {};
        let output = ':\\n';
        
        const hasStats = Object.keys(stats).length > 0;
        const hasInv = Array.isArray(inv) ? inv.length > 0 : Object.keys(inv).length > 0;

        if (!hasStats && !hasInv) {
            output += '';
        } else {
            for (let k in stats) output += \`\${k}: \${stats[k]}\\n\`;
            if (hasInv) {
                if (Array.isArray(inv)) {
                     output += \`: \${inv.join(', ')}\`;
                } else {
                     const items = [];
                     for(let k in inv) items.push(\`\${k} x\${inv[k]}\`);
                     output += \`: \${items.join(', ')}\`;
                }
            }
        }
        seal.replyToSender(ctx, msg, output);
        return seal.ext.newCmdExecuteResult(true);
    } else if (subCmd === SC_LOAD) {
        const pointId = cmdArgs.getArgN(2);
        if (!pointId) {
             seal.replyToSender(ctx, msg, \`ID: .\${CMD_NAME} \${SC_LOAD} <id>\`);
             return seal.ext.newCmdExecuteResult(true);
        }
        if (state.savePoints && state.savePoints[pointId]) {
             // Restore state but keep savePoints
             const saved = state.savePoints[pointId];
             const currentSavePoints = state.savePoints;
             state = JSON.parse(JSON.stringify(saved));
             state.savePoints = currentSavePoints;
             saveState(userId, state);
             seal.replyToSender(ctx, msg, \`: \${pointId}\`);
             processNode(ctx, msg, state);
        } else {
             seal.replyToSender(ctx, msg, \`: \${pointId}\`);
        }
        return seal.ext.newCmdExecuteResult(true);
    }

    // Safety check
    if (!STORY_DATA.nodes[state.currentNodeId]) {
      seal.replyToSender(ctx, msg, 'Error: ');
      return seal.ext.newCmdExecuteResult(true);
    }

    // Handle "choose" command
      if (subCmd === SC_CHOOSE) {
        if (state.isEnded) {
             seal.replyToSender(ctx, msg, \` .\${CMD_NAME} \${SC_START} \`);
             return seal.ext.newCmdExecuteResult(true);
        }
        const currentNode = STORY_DATA.nodes[state.currentNodeId];
      if (!currentNode.choices) {
        seal.replyToSender(ctx, msg, \` .\${CMD_NAME} \${SC_NEXT} \\n( .\${CMD_NAME} help )\`);
        return seal.ext.newCmdExecuteResult(true);
      }
        const choiceIdx = parseInt(cmdArgs.getArgN(2)) - 1;
        const choice = currentNode.choices[choiceIdx];
        if (!choice) {
          seal.replyToSender(ctx, msg, '');
          return seal.ext.newCmdExecuteResult(true);
        }
        
        // Execute choice specific script/actions if any
        if (choice.script) {
            try {
                new Function('state', 'seal', 'ctx', choice.script)(state, seal, ctx);
            } catch (e) {
                console.error('Choice Script error:', e);
                seal.replyToSender(ctx, msg, \`Choice Error: \${e.message}\`);
            }
        }

        // Transition
        state.currentNodeId = choice.next;
        saveState(userId, state);
        
        // Execute next node logic immediately
        processNode(ctx, msg, state);
        return seal.ext.newCmdExecuteResult(true);
      }

    // Handle "next" command
    if (subCmd === SC_NEXT || subCmd === SC_START) {
        if (state.isEnded && subCmd !== SC_START) {
             seal.replyToSender(ctx, msg, \` .\${CMD_NAME} \${SC_START} \`);
             return seal.ext.newCmdExecuteResult(true);
        }
        const currentNode = STORY_DATA.nodes[state.currentNodeId];
        
        // If current node is choice node, prevent next
        if (currentNode.choices) {
             seal.replyToSender(ctx, msg, \`: .\${CMD_NAME} \${SC_CHOOSE} <>\\n( .\${CMD_NAME} help )\`);
             return seal.ext.newCmdExecuteResult(true);
        }
        
        // If we have a next node, move to it. 
        if (currentNode.next) {
            state.currentNodeId = currentNode.next;
            saveState(userId, state);
            processNode(ctx, msg, state);
        } else {
            // Re-show current text if no next (end of line)
            seal.replyToSender(ctx, msg, currentNode.text + '\\n()');
        }
        return seal.ext.newCmdExecuteResult(true);
    }
    
    // Help
    seal.replyToSender(ctx, msg, cmd.help);
    return seal.ext.newCmdExecuteResult(true);
  };

  function processNode(ctx, msg, state) {
    let nodeId = state.currentNodeId;
    let node = STORY_DATA.nodes[nodeId];
    if (!node) return;

    // Handle Save Point
    if (node.savePointId) {
        state.savePoints = state.savePoints || {};
        const { savePoints, ...rest } = state;
        state.savePoints[node.savePointId] = rest;
        saveState(ctx.player.userId, state);
    }

    // 1. Execute Script (Enter Node)
    if (node.script) {
        try {
            // Basic sandbox eval
            new Function('state', 'seal', 'ctx', node.script)(state, seal, ctx);
            saveState(ctx.player.userId, state); // Save state if script modified it
        } catch (e) {
            console.error('Script error:', e);
            seal.replyToSender(ctx, msg, \`Script Error: \${e.message}\`);
        }
    }

    // Handle Check Node (Dice Roll)
    if (node.type === 'check') {
        const targetVal = parseInt(node.checkTarget) || (state.stats[node.checkTarget] || 50);
        const dice = node.checkDice || DEFAULT_DICE;
        
        let roll = rollDice(dice);

        let result = '';
        let nextId = null;

        const isSuccess = SUCCESS_MODE === 'gte' ? roll >= targetVal : roll <= targetVal;
        const isCriticalSuccess = CRITICAL_SUCCESS_MODE === 'gte' ? roll >= CRITICAL_SUCCESS : roll <= CRITICAL_SUCCESS;
        const isCriticalFailure = CRITICAL_FAILURE_MODE === 'gte' ? roll >= CRITICAL_FAILURE : roll <= CRITICAL_FAILURE;

        if (isCriticalSuccess && node.nextGreatSuccess) {
            result = \` (Ref: \${CRITICAL_SUCCESS})\`;
            nextId = node.nextGreatSuccess;
        } else if (isCriticalFailure && node.nextGreatFailure) {
            result = \` (Ref: \${CRITICAL_FAILURE})\`;
            nextId = node.nextGreatFailure;
        } else if (isSuccess) {
            result = '';
            nextId = node.nextSuccess || node.nextGreatSuccess; // Fallback
        } else {
            result = '';
            nextId = node.nextFailure || node.nextGreatFailure; // Fallback
        }
        
        // Fallback if specific edge not connected
        if (!nextId) {
             // Try generic success/fail fallback
             if (isSuccess) nextId = node.nextSuccess;
             else nextId = node.nextFailure;
        }

        const output = \` \${node.checkTarget} (\${targetVal})\\n: \${roll} / \${dice} -> \${result}\`;
        seal.replyToSender(ctx, msg, output);

        if (nextId) {
            state.currentNodeId = nextId;
            saveState(ctx.player.userId, state);
            // Continue to next node
            setTimeout(() => processNode(ctx, msg, state), 500); // Small delay for dramatic effect
        } else {
            seal.replyToSender(ctx, msg, '(: )');
        }
        return;
    }

    // 2. Handle Condition Node (Auto-transition)
    if (node.type === 'condition') {
        let conditionResult = false;
        try {
             conditionResult = new Function('state', 'return ' + node.condition)(state);
        } catch (e) {
             console.error('Condition error:', e);
        }

        const nextId = conditionResult ? node.nextTrue : node.nextFalse;
        if (nextId) {
            state.currentNodeId = nextId;
            saveState(ctx.player.userId, state);
            // Recursively process next node immediately
            processNode(ctx, msg, state);
            return;
        } else {
             // If no edge connected for result, treat as end or fallback?
             // For logic condition, usually should have at least one path or it's an end.
             seal.replyToSender(ctx, msg, \`(: \${conditionResult ? 'True' : 'False'} - )\`);
             return;
        }
    }

    // 3. Display Text
    let output = node.text || '';
    
    // 4. Append Choices
    if (node.choices) {
        output += '\\n\\n:';
        node.choices.forEach((c, i) => {
            output += \`\\n\${i + 1}. \${c.text}\`;
        });
        output += \`\\n( .\${CMD_NAME} \${SC_CHOOSE} <>)\`;
    } else if (node.randomNext) {
        // Handle random next node
        const r = Math.random() * node.totalWeight;
        let acc = 0;
        let nextId = null;
        for (const item of node.randomNext) {
            acc += item.weight;
            if (r <= acc) {
                nextId = item.next;
                break;
            }
        }
        
        if (nextId) {
             state.currentNodeId = nextId;
             saveState(ctx.player.userId, state);
             // Recursively process next node immediately
             // Use setTimeout to avoid stack overflow in deep recursion (optional, but good practice in JS envs)
             // But for SealDice simple plugin, direct call is usually fine.
             processNode(ctx, msg, state); 
        } else {
             seal.replyToSender(ctx, msg, '(: )');
        }
        return; // Important: Stop current processing as we moved to next node
    } else if (node.next) {
        // If it's a normal story node with a next link
        output += \`\\n( .\${CMD_NAME} \${SC_NEXT} )\`;
    } else {
        output += '\\n()';
        state.isEnded = true;
        saveState(ctx.player.userId, state);
    }

    if (output.trim()) {
        seal.replyToSender(ctx, msg, output);
    }
  }

  ext.cmdMap[CMD_NAME] = cmd;
}

main();
`,HE=(e,t,n)=>{var z,T,L,V,N,P,I,D,C,M,R,O,H,X,W,ee,F,te,Y,re;const r={};let o=null;e.forEach(G=>{G.data.isStart&&(o=G.id);const K={type:G.type,text:G.data.text};if(G.data.savePointId&&(K.savePointId=G.data.savePointId),G.data.actions?K.script=pf(G.data.actions):G.data.script&&(K.script=G.data.script),G.type==="choice"){const Z=[],Q=t.filter(ue=>ue.source===G.id),oe=G.data.choices;oe&&oe.forEach(ue=>{const ie=Q.find(ve=>ve.sourceHandle===ue.id);if(ie){const ve={text:ue.text,next:ie.target};ue.actions&&ue.actions.length>0&&(ve.script=pf(ue.actions)),Z.push(ve)}}),K.choices=Z}else if(G.type==="condition")if(G.data.conditionMode==="check"){K.type="check",K.checkTarget=G.data.checkTarget,K.checkDice=G.data.checkDice;const Z=t.find(ie=>ie.source===G.id&&ie.sourceHandle==="success"),Q=t.find(ie=>ie.source===G.id&&ie.sourceHandle==="failure"),oe=t.find(ie=>ie.source===G.id&&ie.sourceHandle==="great_success"),ue=t.find(ie=>ie.source===G.id&&ie.sourceHandle==="great_failure");K.nextSuccess=Z==null?void 0:Z.target,K.nextFailure=Q==null?void 0:Q.target,K.nextGreatSuccess=oe==null?void 0:oe.target,K.nextGreatFailure=ue==null?void 0:ue.target}else{G.data.conditions?K.condition=zE(G.data.conditions,G.data.conditionLogic||"AND"):K.condition=G.data.condition||"true";const Z=t.find(oe=>oe.source===G.id&&oe.sourceHandle==="true"),Q=t.find(oe=>oe.source===G.id&&oe.sourceHandle==="false");K.nextTrue=Z==null?void 0:Z.target,K.nextFalse=Q==null?void 0:Q.target}else{const Z=t.filter(Q=>Q.source===G.id);Z.length>1?(K.randomNext=Z.map(Q=>{var oe;return{next:Q.target,weight:Number((oe=Q.data)==null?void 0:oe.weight)||1}}),K.totalWeight=K.randomNext.reduce((Q,oe)=>Q+oe.weight,0)):Z.length===1?K.next=Z[0].target:K.isEnd=!0}r[G.id]=K}),!o&&e.length>0&&(o=e[0].id);const i={startNodeId:o,nodes:r},s=OE.replace(/__PLUGIN_NAME__/g,n.pluginName).replace(/__AUTHOR__/g,n.author).replace(/__VERSION__/g,n.version).replace(/__DESCRIPTION__/g,n.description||"").replace(/__HOMEPAGE__/g,n.homepage||"").replace(/__TIMESTAMP__/g,Math.floor(Date.now()/1e3).toString()),l=n.subCommands||{},a=((z=l.start)==null?void 0:z.name)||"start",u=((T=l.next)==null?void 0:T.name)||"next",f=((L=l.choose)==null?void 0:L.name)||"choose",c=((V=l.stat)==null?void 0:V.name)||"stat",d=((N=l.load)==null?void 0:N.name)||"load",x=((P=l.reset)==null?void 0:P.name)||"reset",g=((I=l.clear)==null?void 0:I.name)||"clear",w=((D=l.start)==null?void 0:D.help)||"",_=((C=l.next)==null?void 0:C.help)||"",m=((M=l.choose)==null?void 0:M.help)||"",y=((R=l.stat)==null?void 0:R.help)||"",h=((O=l.load)==null?void 0:O.help)||"",v=((H=l.reset)==null?void 0:H.help)||"",S=((X=l.clear)==null?void 0:X.help)||"",E=`\${ext.name} Story:\\n.\${CMD_NAME} ${a} - ${w}\\n.\${CMD_NAME} ${u} - ${_}\\n.\${CMD_NAME} ${f} <index> - ${m}\\n.\${CMD_NAME} ${c} - ${y}\\n.\${CMD_NAME} ${d} <id> - ${h}\\n.\${CMD_NAME} ${x} - ${v}\\n.\${CMD_NAME} ${g} - ${S}`,k=s+FE.replace(/__PLUGIN_NAME__/g,n.pluginName).replace(/__COMMAND_NAME__/g,n.commandName).replace("__COMMAND_HELP__",n.commandHelp||E).replace(/__SC_START__/g,a).replace(/__SC_NEXT__/g,u).replace(/__SC_CHOOSE__/g,f).replace(/__SC_STAT__/g,c).replace(/__SC_LOAD__/g,d).replace(/__SC_RESET__/g,x).replace(/__SC_CLEAR__/g,g).replace(/__VERSION__/g,n.version).replace(/__AUTHOR__/g,n.author).replace("__STORY_DATA_PLACEHOLDER__",JSON.stringify(i,null,2)).replace("__CRITICAL_SUCCESS__",(((W=n.diceRules)==null?void 0:W.criticalSuccess)??5).toString()).replace("__CRITICAL_FAILURE__",(((ee=n.diceRules)==null?void 0:ee.criticalFailure)??96).toString()).replace("__SUCCESS_MODE__",((F=n.diceRules)==null?void 0:F.successMode)||"lte").replace("__CRITICAL_SUCCESS_MODE__",((te=n.diceRules)==null?void 0:te.criticalSuccessMode)||"lte").replace("__CRITICAL_FAILURE_MODE__",((Y=n.diceRules)==null?void 0:Y.criticalFailureMode)||"gte").replace("__DEFAULT_DICE__",((re=n.diceRules)==null?void 0:re.defaultDice)||"1d100"),j=n.filename?n.filename.endsWith(".js")?n.filename:`${n.filename}.js`:`${n.pluginName.toLowerCase()}.js`,A=new Blob([k],{type:"text/javascript;charset=utf-8"});DE.saveAs(A,j)},VE=["start","next","choose","stat","load","reset","clear"],BE={story:AE,choice:bE,condition:$E},UE=[{id:"start",type:"story",position:{x:250,y:100},data:{label:"",text:"...",isStart:!0}}],WE={pluginName:"MyStory",commandName:"story",version:"1.0.0",author:"Author"};function YE(){var te,Y,re,G,K,Z,Q,oe,ue,ie,ve,pt,lt;const[e,t,n]=FN(UE),[r,o,i]=HN([]),[s,l]=$.useState(null),[a,u]=$.useState(null),[f,c]=$.useState(!1),[d,x]=$.useState(!1),[g,w]=$.useState(WE),[_,m]=$.useState([]),[y,h]=$.useState(-1),v=$.useRef(!1);$.useEffect(()=>{if(v.current){v.current=!1;return}},[e,r]);const S=$.useCallback(()=>{m(b=>{const U=b.slice(0,y+1);return U.push({nodes:JSON.parse(JSON.stringify(e)),edges:JSON.parse(JSON.stringify(r))}),U}),h(b=>b+1)},[e,r,y]);$.useEffect(()=>{_.length===0&&e.length>0&&(m([{nodes:e,edges:r}]),h(0))},[]);const E=()=>{if(y>0){v.current=!0;const b=_[y-1];t(b.nodes),o(b.edges),h(y-1)}},k=()=>{if(y<_.length-1){v.current=!0;const b=_[y+1];t(b.nodes),o(b.edges),h(y+1)}},j=()=>{x(!1),localStorage.setItem("blackfish_has_seen_guide","true")},A=$.useCallback(b=>{S(),o(U=>Sm(b,U))},[o,S]),z=$.useCallback((b,U)=>{l(U.id),u(null)},[]),T=$.useCallback((b,U)=>{u(U.id),l(null)},[]),L=$.useCallback(()=>{l(null),u(null)},[]),V=b=>{S();const U=`${b}_${Date.now()}`;let ne={};b==="story"?ne={label:"",text:"..."}:b==="choice"?ne={label:"",text:"...",choices:[{id:"opt1",text:" 1"}]}:ne={label:"",condition:"state.stats.affection >= 10"};const se={id:U,type:b,position:{x:Math.random()*400+100,y:Math.random()*400+100},data:ne};t(ae=>ae.concat(se))},N=(b,U)=>{t(ne=>ne.map(se=>se.id===b?{...se,data:{...se.data,...U}}:se))},P=(b,U)=>{S(),N(b,U)},I=()=>{HE(e,r,g)},D=()=>{const b={nodes:e,edges:r,settings:g},U=new Blob([JSON.stringify(b,null,2)],{type:"application/json"}),ne=document.createElement("a");ne.href=URL.createObjectURL(U),ne.download=`${g.pluginName.toLowerCase()}-project.json`,ne.click()},C=$.useRef(null),M=b=>{var se;const U=(se=b.target.files)==null?void 0:se[0];if(!U)return;const ne=new FileReader;ne.onload=ae=>{var de;try{const le=(de=ae.target)==null?void 0:de.result,fe=JSON.parse(le);fe.nodes&&fe.edges?(t(fe.nodes),o(fe.edges),fe.settings&&w(fe.settings)):alert("")}catch{alert("")}},ne.readAsText(U),C.current&&(C.current.value="")},R=b=>{S();const U=e.find(se=>se.id===b);if(!U)return;const ne=[...U.data.actions||[]];ne.push({type:"stat",target:"money",operation:"+",value:0}),N(b,{actions:ne})},O=(b,U,ne,se)=>{const ae=e.find(le=>le.id===b);if(!ae)return;const de=[...ae.data.actions||[]];de[U]={...de[U],[ne]:se},N(b,{actions:de})},H=(b,U)=>{S();const ne=e.find(ae=>ae.id===b);if(!ne)return;const se=(ne.data.actions||[]).filter((ae,de)=>de!==U);N(b,{actions:se})},X=b=>{S();const U=e.find(se=>se.id===b);if(!U)return;const ne=[...U.data.conditions||[]];ne.push({type:"stat",target:"money",operation:">=",value:0}),N(b,{conditions:ne})},W=(b,U,ne,se)=>{const ae=e.find(le=>le.id===b);if(!ae)return;const de=[...ae.data.conditions||[]];de[U]={...de[U],[ne]:se},N(b,{conditions:de})},ee=(b,U)=>{S();const ne=e.find(ae=>ae.id===b);if(!ne)return;const se=(ne.data.conditions||[]).filter((ae,de)=>de!==U);N(b,{conditions:se})},F=e.find(b=>b.id===s);return p.jsxs("div",{className:"flex w-full h-full",children:[p.jsxs("div",{className:"flex-1 h-full relative",children:[p.jsxs(ON,{nodes:e,edges:r,onNodesChange:n,onEdgesChange:i,onConnect:A,onNodeClick:z,onEdgeClick:T,onPaneClick:L,nodeTypes:BE,fitView:!0,panOnScroll:!1,panOnDrag:!0,zoomOnPinch:!0,proOptions:{hideAttribution:!0},defaultEdgeOptions:{markerEnd:{type:"arrowclosed"}},children:[p.jsx(JN,{}),p.jsx(fE,{}),p.jsx(YN,{gap:12,size:1}),p.jsxs(jr,{position:"top-left",className:"bg-white p-1 md:p-2 rounded shadow flex gap-1 md:gap-2 flex-wrap max-w-[calc(100vw-20px)] md:max-w-[500px] overflow-x-auto no-scrollbar items-center",children:[p.jsxs("button",{className:"flex items-center gap-1 px-2 py-1 bg-blue-600 text-white rounded hover:bg-blue-700 text-xs md:text-sm whitespace-nowrap",onClick:()=>V("story"),children:[p.jsx(ff,{size:14,className:"md:w-4 md:h-4"})," "]}),p.jsxs("button",{className:"flex items-center gap-1 px-2 py-1 bg-purple-600 text-white rounded hover:bg-purple-700 text-xs md:text-sm whitespace-nowrap",onClick:()=>V("choice"),children:[p.jsx(ff,{size:14,className:"md:w-4 md:h-4"})," "]}),p.jsxs("button",{className:"flex items-center gap-1 px-2 py-1 bg-orange-600 text-white rounded hover:bg-orange-700 text-xs md:text-sm whitespace-nowrap",onClick:()=>V("condition"),children:[p.jsx(xE,{size:14,className:"md:w-4 md:h-4"})," "]}),p.jsx("div",{className:"w-px h-6 bg-gray-300 mx-1 flex-shrink-0"}),!e.find(b=>b.data.isStart)&&p.jsxs("button",{className:"flex items-center gap-1 px-2 py-1 bg-green-600 text-white rounded hover:bg-green-700 text-xs md:text-sm whitespace-nowrap",onClick:()=>{S(),t(b=>b.concat({id:`start_${Date.now()}`,type:"story",position:{x:250,y:100},data:{label:"",text:"...",isStart:!0}}))},children:[p.jsx(NE,{size:14,className:"md:w-4 md:h-4"})," "]}),p.jsxs("button",{className:"flex items-center gap-1 px-2 py-1 bg-red-100 text-red-600 rounded hover:bg-red-200 text-xs md:text-sm whitespace-nowrap",onClick:()=>{confirm("")&&(S(),t([]),o([]))},children:[p.jsx(ME,{size:14,className:"md:w-4 md:h-4"})," ",p.jsx("span",{className:"hidden md:inline",children:""})]}),p.jsx("div",{className:"w-px h-6 bg-gray-300 mx-1 flex-shrink-0"}),p.jsxs("button",{className:"flex items-center gap-1 px-2 py-1 bg-gray-700 text-white rounded hover:bg-gray-800 text-xs md:text-sm whitespace-nowrap",onClick:()=>c(!0),children:[p.jsx(kE,{size:14,className:"md:w-4 md:h-4"})," "]})]}),p.jsxs(jr,{position:"top-right",className:"bg-white p-1 md:p-2 rounded shadow flex gap-1 md:gap-2 flex-wrap justify-end max-w-[calc(100vw-20px)] md:max-w-none overflow-x-auto no-scrollbar items-center",children:[p.jsx("button",{className:`flex items-center gap-1 px-2 py-1 rounded text-xs md:text-sm flex-shrink-0 ${y>0?"bg-gray-600 text-white hover:bg-gray-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,onClick:E,disabled:y<=0,children:p.jsx(jE,{size:14,className:"md:w-4 md:h-4"})}),p.jsx("button",{className:`flex items-center gap-1 px-2 py-1 rounded text-xs md:text-sm flex-shrink-0 ${y<_.length-1?"bg-gray-600 text-white hover:bg-gray-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,onClick:k,disabled:y>=_.length-1,children:p.jsx(EE,{size:14,className:"md:w-4 md:h-4"})}),p.jsx("div",{className:"w-px h-6 bg-gray-300 mx-1 flex-shrink-0"}),p.jsxs("button",{className:"flex items-center gap-1 px-2 py-1 bg-gray-500 text-white rounded hover:bg-gray-600 text-xs md:text-sm whitespace-nowrap",onClick:()=>x(!0),children:[p.jsx(vE,{size:14,className:"md:w-4 md:h-4"})," ",p.jsx("span",{className:"hidden md:inline",children:""})]}),p.jsx("div",{className:"w-px h-6 bg-gray-300 mx-1 flex-shrink-0"}),p.jsxs("button",{className:"flex items-center gap-1 px-2 py-1 bg-gray-600 text-white rounded hover:bg-gray-700 text-xs md:text-sm whitespace-nowrap",onClick:D,children:[p.jsx(CE,{size:14,className:"md:w-4 md:h-4"})," ",p.jsx("span",{className:"hidden md:inline",children:""})]}),p.jsxs("button",{className:"flex items-center gap-1 px-2 py-1 bg-gray-600 text-white rounded hover:bg-gray-700 text-xs md:text-sm whitespace-nowrap",onClick:()=>{var b;return(b=C.current)==null?void 0:b.click()},children:[p.jsx(hf,{size:14,className:"md:w-4 md:h-4"})," ",p.jsx("span",{className:"hidden md:inline",children:""})]}),p.jsxs("button",{className:"flex items-center gap-1 px-2 py-1 bg-indigo-600 text-white rounded hover:bg-indigo-700 text-xs md:text-sm whitespace-nowrap",onClick:()=>{fetch("/example_complex.json").then(b=>b.json()).then(b=>{S(),t(b.nodes),o(b.edges),w(b.settings)}).catch(b=>alert(": "+b))},children:[p.jsx(hf,{size:14,className:"md:w-4 md:h-4"})," ",p.jsx("span",{className:"hidden md:inline",children:""})]}),p.jsx("input",{type:"file",ref:C,className:"hidden",accept:".json",onChange:M}),p.jsx("div",{className:"w-px h-6 bg-gray-300 mx-1 flex-shrink-0"}),p.jsxs("button",{className:"flex items-center gap-1 px-2 py-1 bg-green-600 text-white rounded hover:bg-green-700 text-xs md:text-sm whitespace-nowrap",onClick:I,children:[p.jsx(_E,{size:14,className:"md:w-4 md:h-4"})," "]})]})]}),d&&p.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-[60] p-4",children:p.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[p.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-800",children:" "}),p.jsxs("div",{className:"space-y-4 text-sm text-gray-600",children:[p.jsx("p",{children:" SealDice "}),p.jsx("h3",{className:"font-bold text-gray-800 mt-4",children:""}),p.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[p.jsxs("li",{children:[p.jsx("strong",{children:""}),"/"]}),p.jsxs("li",{children:[p.jsx("strong",{children:""}),""]}),p.jsxs("li",{children:[p.jsx("strong",{children:""}),"/"]}),p.jsxs("li",{children:[p.jsx("strong",{children:""}),"Handle"]})]}),p.jsx("h3",{className:"font-bold text-gray-800 mt-4",children:""}),p.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[p.jsx("li",{children:""}),p.jsx("li",{children:""}),p.jsx("li",{children:"/"})]})]}),p.jsx("div",{className:"mt-8 flex justify-end",children:p.jsx("button",{className:"px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 shadow-md",onClick:j,children:""})})]})}),f&&p.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:p.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[p.jsxs("div",{className:"flex justify-between items-center mb-6 border-b pb-2",children:[p.jsx("h2",{className:"text-xl font-bold text-gray-800",children:""}),p.jsx("button",{onClick:()=>c(!1),className:"text-gray-500 hover:text-gray-700",children:""})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),p.jsx("input",{type:"text",className:"w-full border rounded p-2 focus:ring-2 focus:ring-blue-500 outline-none transition-all",value:g.pluginName,onChange:b=>w({...g,pluginName:b.target.value})})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),p.jsxs("div",{className:"relative",children:[p.jsx("span",{className:"absolute left-2 top-2 text-gray-400",children:"."}),p.jsx("input",{type:"text",className:"w-full border rounded p-2 pl-4 focus:ring-2 focus:ring-blue-500 outline-none transition-all",placeholder:": story",value:g.commandName,onChange:b=>w({...g,commandName:b.target.value})})]})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" (Help)"}),p.jsx("textarea",{className:"w-full border rounded p-2 focus:ring-2 focus:ring-blue-500 outline-none transition-all h-20 text-xs font-mono",placeholder:" .help ...",value:g.commandHelp||"",onChange:b=>w({...g,commandHelp:b.target.value})})]}),p.jsxs("div",{className:"bg-gray-50 p-3 rounded border border-gray-100",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" (Subcommands)"}),p.jsx("div",{className:"grid grid-cols-1 gap-2",children:VE.map(b=>{var U,ne,se,ae;return p.jsxs("div",{className:"flex gap-2 items-center text-xs",children:[p.jsx("span",{className:"w-12 font-mono font-bold text-gray-600",children:b}),p.jsx("input",{type:"text",className:"border rounded p-1 w-20",placeholder:"",value:((ne=(U=g.subCommands)==null?void 0:U[b])==null?void 0:ne.name)??"",onChange:de=>{w(le=>{var fe;return{...le,subCommands:{...le.subCommands??{},[b]:{...((fe=le.subCommands)==null?void 0:fe[b])??{},name:de.target.value}}}})}}),p.jsx("input",{type:"text",className:"border rounded p-1 flex-1",placeholder:" (Help)",value:((ae=(se=g.subCommands)==null?void 0:se[b])==null?void 0:ae.help)??"",onChange:de=>{w(le=>{var fe;return{...le,subCommands:{...le.subCommands??{},[b]:{...((fe=le.subCommands)==null?void 0:fe[b])??{},help:de.target.value}}}})}})]},b)})})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),p.jsx("input",{type:"text",className:"w-full border rounded p-2 focus:ring-2 focus:ring-blue-500 outline-none transition-all",value:g.version,onChange:b=>w({...g,version:b.target.value})})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),p.jsx("input",{type:"text",className:"w-full border rounded p-2 focus:ring-2 focus:ring-blue-500 outline-none transition-all",value:g.author,onChange:b=>w({...g,author:b.target.value})})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" (Description)"}),p.jsx("textarea",{className:"w-full border rounded p-2 focus:ring-2 focus:ring-blue-500 outline-none transition-all h-20",placeholder:"...",value:g.description||"",onChange:b=>w({...g,description:b.target.value})})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" URL (Homepage)"}),p.jsx("input",{type:"text",className:"w-full border rounded p-2 focus:ring-2 focus:ring-blue-500 outline-none transition-all",placeholder:"https://github.com/...",value:g.homepage||"",onChange:b=>w({...g,homepage:b.target.value})})]}),p.jsxs("div",{className:"bg-gray-50 p-3 rounded border border-gray-100",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" (Dice Rules)"}),p.jsxs("div",{className:"mb-2",children:[p.jsx("label",{className:"text-xs text-gray-600 block mb-1",children:" (Default Dice)"}),p.jsx("input",{type:"text",className:"w-full border rounded p-1 text-sm",placeholder:"1d100",value:((te=g.diceRules)==null?void 0:te.defaultDice)||"1d100",onChange:b=>w({...g,diceRules:{...g.diceRules,defaultDice:b.target.value}})})]}),p.jsxs("div",{className:"mb-2",children:[p.jsx("label",{className:"text-xs text-gray-600 block mb-1",children:""}),p.jsxs("select",{className:"w-full border rounded p-1 text-sm",value:((Y=g.diceRules)==null?void 0:Y.successMode)||"lte",onChange:b=>w({...g,diceRules:{...g.diceRules,successMode:b.target.value}}),children:[p.jsx("option",{value:"lte",children:"   (CoC Like)"}),p.jsx("option",{value:"gte",children:"   (D&D Like)"})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[p.jsxs("div",{children:[p.jsx("span",{className:"text-xs text-green-600 block",children:""}),p.jsxs("div",{className:"flex gap-1",children:[p.jsxs("select",{className:"border rounded text-xs w-10",value:((re=g.diceRules)==null?void 0:re.criticalSuccessMode)||(((G=g.diceRules)==null?void 0:G.successMode)==="gte"?"gte":"lte"),onChange:b=>w({...g,diceRules:{...g.diceRules,criticalSuccessMode:b.target.value}}),children:[p.jsx("option",{value:"lte",children:""}),p.jsx("option",{value:"gte",children:""})]}),p.jsx("input",{type:"number",className:"w-full border rounded p-1 text-sm",value:((K=g.diceRules)==null?void 0:K.criticalSuccess)??5,onChange:b=>w({...g,diceRules:{...g.diceRules,criticalSuccess:parseInt(b.target.value)||1}})})]})]}),p.jsxs("div",{children:[p.jsx("span",{className:"text-xs text-red-600 block",children:""}),p.jsxs("div",{className:"flex gap-1",children:[p.jsxs("select",{className:"border rounded text-xs w-10",value:((Z=g.diceRules)==null?void 0:Z.criticalFailureMode)||(((Q=g.diceRules)==null?void 0:Q.successMode)==="gte"?"lte":"gte"),onChange:b=>w({...g,diceRules:{...g.diceRules,criticalFailureMode:b.target.value}}),children:[p.jsx("option",{value:"lte",children:""}),p.jsx("option",{value:"gte",children:""})]}),p.jsx("input",{type:"number",className:"w-full border rounded p-1 text-sm",value:((oe=g.diceRules)==null?void 0:oe.criticalFailure)??96,onChange:b=>w({...g,diceRules:{...g.diceRules,criticalFailure:parseInt(b.target.value)||100}})})]})]})]})]}),p.jsxs("div",{className:"bg-gray-50 p-3 rounded border border-gray-100",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"text-sm text-gray-500",children:":"}),p.jsx("input",{type:"text",className:"flex-1 border rounded p-2 text-sm focus:ring-2 focus:ring-blue-500 outline-none",placeholder:g.pluginName,value:g.filename||"",onChange:b=>w({...g,filename:b.target.value})}),p.jsx("span",{className:"text-gray-400 text-sm font-mono",children:".js"})]})]})]}),p.jsxs("div",{className:"mt-8 flex justify-end gap-3",children:[p.jsx("button",{className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded transition-colors",onClick:()=>c(!1),children:""}),p.jsx("button",{className:"px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 shadow-md transition-all transform active:scale-95",onClick:()=>c(!1),children:""})]})]})})]}),a&&!s&&p.jsxs("div",{className:"absolute top-20 left-1/2 transform -translate-x-1/2 bg-white p-2 rounded shadow border border-red-200 z-10 flex flex-col gap-2 min-w-[200px]",children:[p.jsx("div",{className:"flex justify-between items-center border-b pb-1",children:p.jsx("span",{className:"text-xs text-gray-600 font-bold",children:""})}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("label",{className:"text-xs text-gray-600 whitespace-nowrap",children:" (Weight):"}),p.jsx("input",{type:"number",className:"border rounded text-xs p-1 w-16",min:"1",value:((ie=(ue=r.find(b=>b.id===a))==null?void 0:ue.data)==null?void 0:ie.weight)||1,onChange:b=>{const U=parseInt(b.target.value)||1;o(ne=>ne.map(se=>se.id===a?{...se,data:{...se.data,weight:U}}:se))}})]}),p.jsx("div",{className:"text-[10px] text-gray-400",children:""}),p.jsx("button",{className:"px-2 py-1 bg-red-500 text-white rounded text-xs hover:bg-red-600 w-full mt-1",onClick:()=>{o(b=>b.filter(U=>U.id!==a)),u(null)},children:""})]}),F&&p.jsxs("div",{className:"fixed inset-0 md:static md:w-80 md:inset-auto z-50 md:z-auto bg-white md:bg-gray-50 border-t md:border-l md:border-t-0 border-gray-200 p-4 overflow-y-auto h-[60vh] md:h-full mt-auto md:mt-0 shadow-2xl md:shadow-none rounded-t-2xl md:rounded-none transition-transform duration-300 ease-in-out transform translate-y-0",children:[p.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p.jsx("h2",{className:"font-bold text-lg",children:""}),p.jsx("button",{className:"md:hidden p-2 text-gray-500 hover:text-gray-700 bg-gray-100 rounded-full",onClick:()=>l(null),children:""})]}),p.jsxs("div",{className:"mb-4",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" ()"}),p.jsx("input",{type:"text",className:"w-full border rounded p-2 text-sm",value:F.data.label,onChange:b=>N(F.id,{label:b.target.value})})]}),p.jsxs("div",{className:"mb-4",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" ID (Save Point)"}),p.jsx("input",{type:"text",className:"w-full border rounded p-2 text-sm",placeholder:": chapter1_end",value:F.data.savePointId||"",onChange:b=>N(F.id,{savePointId:b.target.value})}),p.jsx("p",{className:"text-xs text-gray-500 mt-1",children:" load "})]}),F.type!=="condition"&&p.jsxs("div",{className:"mb-4",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),p.jsx("textarea",{className:"w-full border rounded p-2 text-sm h-32 font-sans",value:F.data.text,onChange:b=>N(F.id,{text:b.target.value}),placeholder:"..."})]}),p.jsxs("div",{className:"mb-4",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" ()"}),p.jsxs("div",{className:"flex flex-col gap-2",children:[(ve=F.data.actions)==null?void 0:ve.map((b,U)=>p.jsxs("div",{className:"bg-blue-50 p-2 rounded border border-blue-100 flex flex-col gap-1",children:[p.jsxs("div",{className:"flex gap-2",children:[p.jsxs("select",{className:"border rounded text-xs p-1",value:b.type,onChange:ne=>O(F.id,U,"type",ne.target.value),children:[p.jsx("option",{value:"stat",children:"(Stat)"}),p.jsx("option",{value:"item",children:"(Item)"})]}),p.jsx("input",{type:"text",className:"border rounded text-xs p-1 flex-1",placeholder:b.type==="stat"?" ( hp)":"",value:b.target,onChange:ne=>O(F.id,U,"target",ne.target.value)}),p.jsx("button",{className:"text-red-500 font-bold",onClick:()=>H(F.id,U),children:""})]}),p.jsxs("div",{className:"flex gap-2 items-center",children:[p.jsx("select",{className:"border rounded text-xs p-1",value:b.operation,onChange:ne=>O(F.id,U,"operation",ne.target.value),children:b.type==="stat"?p.jsxs(p.Fragment,{children:[p.jsx("option",{value:"+",children:" (+)"}),p.jsx("option",{value:"-",children:" (-)"}),p.jsx("option",{value:"=",children:" (=)"})]}):p.jsxs(p.Fragment,{children:[p.jsx("option",{value:"+",children:""}),p.jsx("option",{value:"-",children:""})]})}),b.type==="stat"?p.jsx("input",{type:"text",className:"border rounded text-xs p-1 w-20",placeholder:"",value:b.value,onChange:ne=>O(F.id,U,"value",ne.target.value)}):p.jsx("input",{type:"text",className:"border rounded text-xs p-1 w-12",placeholder:"",value:b.value||1,onChange:ne=>O(F.id,U,"value",ne.target.value)})]})]},U)),p.jsx("button",{className:"mt-1 text-sm text-blue-600 hover:underline text-left",onClick:()=>R(F.id),children:"+ "})]}),p.jsxs("details",{className:"mt-2",children:[p.jsx("summary",{className:"text-xs text-gray-500 cursor-pointer",children:""}),p.jsx("textarea",{className:"w-full border rounded p-2 text-sm font-mono h-20 bg-gray-900 text-green-400 mt-1",placeholder:"state.stats.affection += 1;",value:F.data.script||"",onChange:b=>P(F.id,{script:b.target.value})})]})]}),F.type==="condition"&&p.jsxs("div",{className:"mb-4",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),p.jsxs("div",{className:"flex gap-2 mb-2 bg-gray-100 p-1 rounded",children:[p.jsx("button",{className:`flex-1 text-xs py-1 rounded ${!F.data.conditionMode||F.data.conditionMode==="logic"?"bg-white shadow":"text-gray-500"}`,onClick:()=>P(F.id,{conditionMode:"logic"}),children:""}),p.jsx("button",{className:`flex-1 text-xs py-1 rounded ${F.data.conditionMode==="check"?"bg-white shadow":"text-gray-500"}`,onClick:()=>P(F.id,{conditionMode:"check"}),children:""})]}),F.data.conditionMode==="check"?p.jsxs("div",{className:"space-y-3 bg-purple-50 p-3 rounded border border-purple-100",children:[p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-bold text-purple-700 block mb-1",children:" (Target)"}),p.jsx("input",{type:"text",className:"w-full border rounded text-sm p-1",placeholder:" ( str)   (50)",value:F.data.checkTarget||"",onChange:b=>P(F.id,{checkTarget:b.target.value})})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-bold text-purple-700 block mb-1",children:" (Dice)"}),p.jsx("input",{type:"text",className:"w-full border rounded text-sm p-1",placeholder:" 1d100",value:F.data.checkDice||"",onChange:b=>P(F.id,{checkDice:b.target.value})})]}),p.jsx("div",{className:"text-[10px] text-gray-500",children:"/"})]}):p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"mb-2",children:[p.jsx("span",{className:"text-xs text-gray-600 mr-2",children:":"}),p.jsxs("select",{className:"border rounded text-xs p-1",value:F.data.conditionLogic||"AND",onChange:b=>P(F.id,{conditionLogic:b.target.value}),children:[p.jsx("option",{value:"AND",children:" (AND) - "}),p.jsx("option",{value:"OR",children:" (OR) - "})]})]}),p.jsxs("div",{className:"flex flex-col gap-2",children:[(pt=F.data.conditions)==null?void 0:pt.map((b,U)=>p.jsxs("div",{className:"bg-orange-50 p-2 rounded border border-orange-100 flex flex-col gap-1",children:[p.jsxs("div",{className:"flex gap-2",children:[p.jsxs("select",{className:"border rounded text-xs p-1",value:b.type,onChange:ne=>W(F.id,U,"type",ne.target.value),children:[p.jsx("option",{value:"stat",children:""}),p.jsx("option",{value:"has_item",children:""})]}),p.jsx("input",{type:"text",className:"border rounded text-xs p-1 flex-1",placeholder:b.type==="has_item"?"":" ( hp)",value:b.target,onChange:ne=>W(F.id,U,"target",ne.target.value)}),p.jsx("button",{className:"text-red-500 font-bold",onClick:()=>ee(F.id,U),children:""})]}),b.type!=="has_item"&&p.jsxs("div",{className:"flex gap-2 items-center",children:[p.jsxs("select",{className:"border rounded text-xs p-1",value:b.operation,onChange:ne=>W(F.id,U,"operation",ne.target.value),children:[p.jsx("option",{value:">=",children:" ()"}),p.jsx("option",{value:"<=",children:" ()"}),p.jsx("option",{value:">",children:" (>)"}),p.jsx("option",{value:"<",children:" (<)"}),p.jsx("option",{value:"=",children:" (=)"})]}),p.jsx("input",{type:"text",className:"border rounded text-xs p-1 w-20",placeholder:"",value:b.value,onChange:ne=>W(F.id,U,"value",ne.target.value)})]})]},U)),p.jsx("button",{className:"mt-1 text-sm text-orange-600 hover:underline text-left",onClick:()=>X(F.id),children:"+ "})]})]}),p.jsxs("details",{className:"mt-2",children:[p.jsx("summary",{className:"text-xs text-gray-500 cursor-pointer",children:""}),p.jsx("textarea",{className:"w-full border rounded p-2 text-sm font-mono h-20 bg-orange-50 text-gray-800 border-orange-200 mt-1",placeholder:"state.stats.affection >= 10",value:F.data.condition||"",onChange:b=>P(F.id,{condition:b.target.value})})]})]}),F.type==="choice"&&p.jsxs("div",{className:"mb-4",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),p.jsxs("div",{className:"flex flex-col gap-2",children:[(lt=F.data.choices)==null?void 0:lt.map((b,U)=>{var ne;return p.jsxs("div",{className:"flex flex-col gap-1 p-2 border rounded bg-white",children:[p.jsxs("div",{className:"flex gap-2 items-center",children:[p.jsxs("span",{className:"text-xs text-gray-400 font-mono",children:["#",U+1]}),p.jsx("input",{type:"text",className:"flex-1 border rounded p-1 text-sm",value:b.text,onChange:se=>{const ae=[...F.data.choices];ae[U]={...b,text:se.target.value},N(F.id,{choices:ae})}}),p.jsx("button",{className:"text-red-500 hover:text-red-700 font-bold px-2",onClick:()=>{S();const se=F.data.choices.filter(ae=>ae.id!==b.id);N(F.id,{choices:se})},children:""})]}),p.jsxs("div",{className:"pl-4 border-l-2 border-purple-100 mt-1",children:[p.jsx("label",{className:"text-[10px] text-gray-500 block mb-1",children:":"}),(ne=b.actions)==null?void 0:ne.map((se,ae)=>p.jsxs("div",{className:"flex gap-1 items-center mb-1 text-xs",children:[p.jsxs("select",{className:"border rounded p-0.5 text-[10px] w-14",value:se.type,onChange:de=>{const le=[...F.data.choices],fe=[...le[U].actions||[]];fe[ae]={...fe[ae],type:de.target.value},le[U]={...le[U],actions:fe},N(F.id,{choices:le})},children:[p.jsx("option",{value:"stat",children:""}),p.jsx("option",{value:"item",children:""})]}),p.jsx("input",{className:"border rounded p-0.5 w-16",placeholder:"",value:se.target,onChange:de=>{const le=[...F.data.choices],fe=[...le[U].actions||[]];fe[ae]={...fe[ae],target:de.target.value},le[U]={...le[U],actions:fe},N(F.id,{choices:le})}}),p.jsxs("select",{className:"border rounded p-0.5 w-10",value:se.operation,onChange:de=>{const le=[...F.data.choices],fe=[...le[U].actions||[]];fe[ae]={...fe[ae],operation:de.target.value},le[U]={...le[U],actions:fe},N(F.id,{choices:le})},children:[p.jsx("option",{value:"+",children:"+"}),p.jsx("option",{value:"-",children:"-"}),p.jsx("option",{value:"=",children:"="})]}),se.type==="stat"&&p.jsx("input",{className:"border rounded p-0.5 w-10",placeholder:"",value:se.value,onChange:de=>{const le=[...F.data.choices],fe=[...le[U].actions||[]];fe[ae]={...fe[ae],value:de.target.value},le[U]={...le[U],actions:fe},N(F.id,{choices:le})}}),p.jsx("button",{className:"text-red-400 hover:text-red-600 px-1",onClick:()=>{S();const de=[...F.data.choices],le=(de[U].actions||[]).filter((fe,Uo)=>Uo!==ae);de[U]={...de[U],actions:le},N(F.id,{choices:de})},children:""})]},ae)),p.jsx("button",{className:"text-[10px] text-purple-600 hover:underline",onClick:()=>{S();const se=[...F.data.choices],ae=[...se[U].actions||[]];ae.push({type:"stat",target:"money",operation:"+",value:10}),se[U]={...se[U],actions:ae},N(F.id,{choices:se})},children:"+ "})]})]},b.id)}),p.jsx("button",{className:"mt-1 text-sm text-blue-600 hover:underline text-left",onClick:()=>{S();const b=[...F.data.choices||[],{id:`opt_${Date.now()}`,text:""}];N(F.id,{choices:b})},children:"+ "})]})]}),p.jsx("div",{className:"pt-4 border-t mt-4",children:p.jsx("button",{className:"w-full py-2 bg-red-100 text-red-600 rounded hover:bg-red-200 text-sm",onClick:()=>{t(b=>b.filter(U=>U.id!==F.id)),l(null)},children:""})})]})]})}function XE(){return p.jsx(yg,{children:p.jsxs("div",{className:"w-full h-full flex flex-col",children:[p.jsxs("header",{className:"h-14 bg-gray-900 text-white flex items-center px-4 justify-between border-b border-gray-700",children:[p.jsx("h1",{className:"text-lg font-bold flex items-center gap-2 text-sm md:text-lg",children:""}),p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"text-sm text-gray-400 hidden md:block",children:""}),p.jsx("a",{href:"https://github.com/baiyu-yu/story-sealdicejs-editer",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white transition-colors",title:"GitHub Repository",children:p.jsx(SE,{size:24})})]})]}),p.jsx("div",{className:"flex-1 overflow-hidden",children:p.jsx(YE,{})})]})})}jl.createRoot(document.getElementById("root")).render(p.jsx(kf.StrictMode,{children:p.jsx(XE,{})}));
