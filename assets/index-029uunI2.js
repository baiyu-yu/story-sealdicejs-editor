(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();var Lr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Rf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Df={exports:{}},As={},zf={exports:{}},de={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ro=Symbol.for("react.element"),C0=Symbol.for("react.portal"),k0=Symbol.for("react.fragment"),M0=Symbol.for("react.strict_mode"),j0=Symbol.for("react.profiler"),I0=Symbol.for("react.provider"),T0=Symbol.for("react.context"),P0=Symbol.for("react.forward_ref"),A0=Symbol.for("react.suspense"),$0=Symbol.for("react.memo"),b0=Symbol.for("react.lazy"),_c=Symbol.iterator;function L0(e){return e===null||typeof e!="object"?null:(e=_c&&e[_c]||e["@@iterator"],typeof e=="function"?e:null)}var Of={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ff=Object.assign,Hf={};function Ar(e,t,n){this.props=e,this.context=t,this.refs=Hf,this.updater=n||Of}Ar.prototype.isReactComponent={};Ar.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ar.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Vf(){}Vf.prototype=Ar.prototype;function nu(e,t,n){this.props=e,this.context=t,this.refs=Hf,this.updater=n||Of}var ru=nu.prototype=new Vf;ru.constructor=nu;Ff(ru,Ar.prototype);ru.isPureReactComponent=!0;var Sc=Array.isArray,Bf=Object.prototype.hasOwnProperty,ou={current:null},Uf={key:!0,ref:!0,__self:!0,__source:!0};function Wf(e,t,n){var r,o={},i=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)Bf.call(t,r)&&!Uf.hasOwnProperty(r)&&(o[r]=t[r]);var l=arguments.length-2;if(l===1)o.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];o.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)o[r]===void 0&&(o[r]=l[r]);return{$$typeof:Ro,type:e,key:i,ref:s,props:o,_owner:ou.current}}function R0(e,t){return{$$typeof:Ro,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function iu(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ro}function D0(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Nc=/\/+/g;function hl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?D0(""+e.key):t.toString(36)}function bi(e,t,n,r,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Ro:case C0:s=!0}}if(s)return s=e,o=o(s),e=r===""?"."+hl(s,0):r,Sc(o)?(n="",e!=null&&(n=e.replace(Nc,"$&/")+"/"),bi(o,t,n,"",function(u){return u})):o!=null&&(iu(o)&&(o=R0(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(Nc,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=r===""?".":r+":",Sc(e))for(var l=0;l<e.length;l++){i=e[l];var a=r+hl(i,l);s+=bi(i,t,n,a,o)}else if(a=L0(e),typeof a=="function")for(e=a.call(e),l=0;!(i=e.next()).done;)i=i.value,a=r+hl(i,l++),s+=bi(i,t,n,a,o);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function ai(e,t,n){if(e==null)return e;var r=[],o=0;return bi(e,r,"","",function(i){return t.call(n,i,o++)}),r}function z0(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ue={current:null},Li={transition:null},O0={ReactCurrentDispatcher:Ue,ReactCurrentBatchConfig:Li,ReactCurrentOwner:ou};function Yf(){throw Error("act(...) is not supported in production builds of React.")}de.Children={map:ai,forEach:function(e,t,n){ai(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ai(e,function(){t++}),t},toArray:function(e){return ai(e,function(t){return t})||[]},only:function(e){if(!iu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};de.Component=Ar;de.Fragment=k0;de.Profiler=j0;de.PureComponent=nu;de.StrictMode=M0;de.Suspense=A0;de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O0;de.act=Yf;de.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Ff({},e.props),o=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=ou.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)Bf.call(t,a)&&!Uf.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Ro,type:e.type,key:o,ref:i,props:r,_owner:s}};de.createContext=function(e){return e={$$typeof:T0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:I0,_context:e},e.Consumer=e};de.createElement=Wf;de.createFactory=function(e){var t=Wf.bind(null,e);return t.type=e,t};de.createRef=function(){return{current:null}};de.forwardRef=function(e){return{$$typeof:P0,render:e}};de.isValidElement=iu;de.lazy=function(e){return{$$typeof:b0,_payload:{_status:-1,_result:e},_init:z0}};de.memo=function(e,t){return{$$typeof:$0,type:e,compare:t===void 0?null:t}};de.startTransition=function(e){var t=Li.transition;Li.transition={};try{e()}finally{Li.transition=t}};de.unstable_act=Yf;de.useCallback=function(e,t){return Ue.current.useCallback(e,t)};de.useContext=function(e){return Ue.current.useContext(e)};de.useDebugValue=function(){};de.useDeferredValue=function(e){return Ue.current.useDeferredValue(e)};de.useEffect=function(e,t){return Ue.current.useEffect(e,t)};de.useId=function(){return Ue.current.useId()};de.useImperativeHandle=function(e,t,n){return Ue.current.useImperativeHandle(e,t,n)};de.useInsertionEffect=function(e,t){return Ue.current.useInsertionEffect(e,t)};de.useLayoutEffect=function(e,t){return Ue.current.useLayoutEffect(e,t)};de.useMemo=function(e,t){return Ue.current.useMemo(e,t)};de.useReducer=function(e,t,n){return Ue.current.useReducer(e,t,n)};de.useRef=function(e){return Ue.current.useRef(e)};de.useState=function(e){return Ue.current.useState(e)};de.useSyncExternalStore=function(e,t,n){return Ue.current.useSyncExternalStore(e,t,n)};de.useTransition=function(){return Ue.current.useTransition()};de.version="18.3.1";zf.exports=de;var R=zf.exports;const Xf=Rf(R);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F0=R,H0=Symbol.for("react.element"),V0=Symbol.for("react.fragment"),B0=Object.prototype.hasOwnProperty,U0=F0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,W0={key:!0,ref:!0,__self:!0,__source:!0};function Gf(e,t,n){var r,o={},i=null,s=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)B0.call(t,r)&&!W0.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:H0,type:e,key:i,ref:s,props:o,_owner:U0.current}}As.Fragment=V0;As.jsx=Gf;As.jsxs=Gf;Df.exports=As;var p=Df.exports,Ql={},Qf={exports:{}},ot={},Kf={exports:{}},Zf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(E,k){var b=E.length;E.push(k);e:for(;0<b;){var H=b-1>>>1,F=E[H];if(0<o(F,k))E[H]=k,E[b]=F,b=H;else break e}}function n(E){return E.length===0?null:E[0]}function r(E){if(E.length===0)return null;var k=E[0],b=E.pop();if(b!==k){E[0]=b;e:for(var H=0,F=E.length,Y=F>>>1;H<Y;){var W=2*(H+1)-1,te=E[W],J=W+1,ne=E[J];if(0>o(te,b))J<F&&0>o(ne,te)?(E[H]=ne,E[J]=b,H=J):(E[H]=te,E[W]=b,H=W);else if(J<F&&0>o(ne,b))E[H]=ne,E[J]=b,H=J;else break e}}return k}function o(E,k){var b=E.sortIndex-k.sortIndex;return b!==0?b:E.id-k.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var a=[],u=[],f=1,c=null,d=3,x=!1,g=!1,w=!1,_=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function h(E){for(var k=n(u);k!==null;){if(k.callback===null)r(u);else if(k.startTime<=E)r(u),k.sortIndex=k.expirationTime,t(a,k);else break;k=n(u)}}function v(E){if(w=!1,h(E),!g)if(n(a)!==null)g=!0,I(N);else{var k=n(u);k!==null&&D(v,k.startTime-E)}}function N(E,k){g=!1,w&&(w=!1,m(j),j=-1),x=!0;var b=d;try{for(h(k),c=n(a);c!==null&&(!(c.expirationTime>k)||E&&!A());){var H=c.callback;if(typeof H=="function"){c.callback=null,d=c.priorityLevel;var F=H(c.expirationTime<=k);k=e.unstable_now(),typeof F=="function"?c.callback=F:c===n(a)&&r(a),h(k)}else r(a);c=n(a)}if(c!==null)var Y=!0;else{var W=n(u);W!==null&&D(v,W.startTime-k),Y=!1}return Y}finally{c=null,d=b,x=!1}}var S=!1,M=null,j=-1,$=5,O=-1;function A(){return!(e.unstable_now()-O<$)}function L(){if(M!==null){var E=e.unstable_now();O=E;var k=!0;try{k=M(!0,E)}finally{k?V():(S=!1,M=null)}}else S=!1}var V;if(typeof y=="function")V=function(){y(L)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,T=C.port2;C.port1.onmessage=L,V=function(){T.postMessage(null)}}else V=function(){_(L,0)};function I(E){M=E,S||(S=!0,V())}function D(E,k){j=_(function(){E(e.unstable_now())},k)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(E){E.callback=null},e.unstable_continueExecution=function(){g||x||(g=!0,I(N))},e.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<E?Math.floor(1e3/E):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(E){switch(d){case 1:case 2:case 3:var k=3;break;default:k=d}var b=d;d=k;try{return E()}finally{d=b}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(E,k){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var b=d;d=E;try{return k()}finally{d=b}},e.unstable_scheduleCallback=function(E,k,b){var H=e.unstable_now();switch(typeof b=="object"&&b!==null?(b=b.delay,b=typeof b=="number"&&0<b?H+b:H):b=H,E){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=b+F,E={id:f++,callback:k,priorityLevel:E,startTime:b,expirationTime:F,sortIndex:-1},b>H?(E.sortIndex=b,t(u,E),n(a)===null&&E===n(u)&&(w?(m(j),j=-1):w=!0,D(v,b-H))):(E.sortIndex=F,t(a,E),g||x||(g=!0,I(N))),E},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(E){var k=d;return function(){var b=d;d=k;try{return E.apply(this,arguments)}finally{d=b}}}})(Zf);Kf.exports=Zf;var Y0=Kf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X0=R,nt=Y0;function U(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var qf=new Set,uo={};function Un(e,t){gr(e,t),gr(e+"Capture",t)}function gr(e,t){for(uo[e]=t,e=0;e<t.length;e++)qf.add(t[e])}var Ut=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Kl=Object.prototype.hasOwnProperty,G0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ec={},Cc={};function Q0(e){return Kl.call(Cc,e)?!0:Kl.call(Ec,e)?!1:G0.test(e)?Cc[e]=!0:(Ec[e]=!0,!1)}function K0(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Z0(e,t,n,r){if(t===null||typeof t>"u"||K0(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function We(e,t,n,r,o,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var Re={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Re[e]=new We(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Re[t]=new We(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Re[e]=new We(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Re[e]=new We(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Re[e]=new We(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Re[e]=new We(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Re[e]=new We(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Re[e]=new We(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Re[e]=new We(e,5,!1,e.toLowerCase(),null,!1,!1)});var su=/[\-:]([a-z])/g;function lu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(su,lu);Re[t]=new We(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(su,lu);Re[t]=new We(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(su,lu);Re[t]=new We(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Re[e]=new We(e,1,!1,e.toLowerCase(),null,!1,!1)});Re.xlinkHref=new We("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Re[e]=new We(e,1,!1,e.toLowerCase(),null,!0,!0)});function au(e,t,n,r){var o=Re.hasOwnProperty(t)?Re[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Z0(t,n,o,r)&&(n=null),r||o===null?Q0(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Qt=X0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ui=Symbol.for("react.element"),Gn=Symbol.for("react.portal"),Qn=Symbol.for("react.fragment"),uu=Symbol.for("react.strict_mode"),Zl=Symbol.for("react.profiler"),Jf=Symbol.for("react.provider"),eh=Symbol.for("react.context"),cu=Symbol.for("react.forward_ref"),ql=Symbol.for("react.suspense"),Jl=Symbol.for("react.suspense_list"),du=Symbol.for("react.memo"),tn=Symbol.for("react.lazy"),th=Symbol.for("react.offscreen"),kc=Symbol.iterator;function Rr(e){return e===null||typeof e!="object"?null:(e=kc&&e[kc]||e["@@iterator"],typeof e=="function"?e:null)}var Ce=Object.assign,pl;function Yr(e){if(pl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);pl=t&&t[1]||""}return`
`+pl+e}var ml=!1;function gl(e,t){if(!e||ml)return"";ml=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),i=r.stack.split(`
`),s=o.length-1,l=i.length-1;1<=s&&0<=l&&o[s]!==i[l];)l--;for(;1<=s&&0<=l;s--,l--)if(o[s]!==i[l]){if(s!==1||l!==1)do if(s--,l--,0>l||o[s]!==i[l]){var a=`
`+o[s].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=s&&0<=l);break}}}finally{ml=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Yr(e):""}function q0(e){switch(e.tag){case 5:return Yr(e.type);case 16:return Yr("Lazy");case 13:return Yr("Suspense");case 19:return Yr("SuspenseList");case 0:case 2:case 15:return e=gl(e.type,!1),e;case 11:return e=gl(e.type.render,!1),e;case 1:return e=gl(e.type,!0),e;default:return""}}function ea(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Qn:return"Fragment";case Gn:return"Portal";case Zl:return"Profiler";case uu:return"StrictMode";case ql:return"Suspense";case Jl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case eh:return(e.displayName||"Context")+".Consumer";case Jf:return(e._context.displayName||"Context")+".Provider";case cu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case du:return t=e.displayName||null,t!==null?t:ea(e.type)||"Memo";case tn:t=e._payload,e=e._init;try{return ea(e(t))}catch{}}return null}function J0(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ea(t);case 8:return t===uu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function xn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function nh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ey(e){var t=nh(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(s){r=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ci(e){e._valueTracker||(e._valueTracker=ey(e))}function rh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=nh(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Zi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ta(e,t){var n=t.checked;return Ce({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Mc(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=xn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function oh(e,t){t=t.checked,t!=null&&au(e,"checked",t,!1)}function na(e,t){oh(e,t);var n=xn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ra(e,t.type,n):t.hasOwnProperty("defaultValue")&&ra(e,t.type,xn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function jc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ra(e,t,n){(t!=="number"||Zi(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Xr=Array.isArray;function ar(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+xn(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function oa(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(U(91));return Ce({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ic(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(U(92));if(Xr(n)){if(1<n.length)throw Error(U(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:xn(n)}}function ih(e,t){var n=xn(t.value),r=xn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Tc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function sh(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ia(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?sh(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var di,lh=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(di=di||document.createElement("div"),di.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=di.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function co(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var qr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ty=["Webkit","ms","Moz","O"];Object.keys(qr).forEach(function(e){ty.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),qr[t]=qr[e]})});function ah(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||qr.hasOwnProperty(e)&&qr[e]?(""+t).trim():t+"px"}function uh(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=ah(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var ny=Ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sa(e,t){if(t){if(ny[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(U(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(U(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(U(61))}if(t.style!=null&&typeof t.style!="object")throw Error(U(62))}}function la(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var aa=null;function fu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ua=null,ur=null,cr=null;function Pc(e){if(e=Oo(e)){if(typeof ua!="function")throw Error(U(280));var t=e.stateNode;t&&(t=Ds(t),ua(e.stateNode,e.type,t))}}function ch(e){ur?cr?cr.push(e):cr=[e]:ur=e}function dh(){if(ur){var e=ur,t=cr;if(cr=ur=null,Pc(e),t)for(e=0;e<t.length;e++)Pc(t[e])}}function fh(e,t){return e(t)}function hh(){}var yl=!1;function ph(e,t,n){if(yl)return e(t,n);yl=!0;try{return fh(e,t,n)}finally{yl=!1,(ur!==null||cr!==null)&&(hh(),dh())}}function fo(e,t){var n=e.stateNode;if(n===null)return null;var r=Ds(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(U(231,t,typeof n));return n}var ca=!1;if(Ut)try{var Dr={};Object.defineProperty(Dr,"passive",{get:function(){ca=!0}}),window.addEventListener("test",Dr,Dr),window.removeEventListener("test",Dr,Dr)}catch{ca=!1}function ry(e,t,n,r,o,i,s,l,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(f){this.onError(f)}}var Jr=!1,qi=null,Ji=!1,da=null,oy={onError:function(e){Jr=!0,qi=e}};function iy(e,t,n,r,o,i,s,l,a){Jr=!1,qi=null,ry.apply(oy,arguments)}function sy(e,t,n,r,o,i,s,l,a){if(iy.apply(this,arguments),Jr){if(Jr){var u=qi;Jr=!1,qi=null}else throw Error(U(198));Ji||(Ji=!0,da=u)}}function Wn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function mh(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ac(e){if(Wn(e)!==e)throw Error(U(188))}function ly(e){var t=e.alternate;if(!t){if(t=Wn(e),t===null)throw Error(U(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return Ac(o),e;if(i===r)return Ac(o),t;i=i.sibling}throw Error(U(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s){for(l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?e:t}function gh(e){return e=ly(e),e!==null?yh(e):null}function yh(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=yh(e);if(t!==null)return t;e=e.sibling}return null}var xh=nt.unstable_scheduleCallback,$c=nt.unstable_cancelCallback,ay=nt.unstable_shouldYield,uy=nt.unstable_requestPaint,Me=nt.unstable_now,cy=nt.unstable_getCurrentPriorityLevel,hu=nt.unstable_ImmediatePriority,vh=nt.unstable_UserBlockingPriority,es=nt.unstable_NormalPriority,dy=nt.unstable_LowPriority,wh=nt.unstable_IdlePriority,$s=null,At=null;function fy(e){if(At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot($s,e,void 0,(e.current.flags&128)===128)}catch{}}var Nt=Math.clz32?Math.clz32:my,hy=Math.log,py=Math.LN2;function my(e){return e>>>=0,e===0?32:31-(hy(e)/py|0)|0}var fi=64,hi=4194304;function Gr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ts(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,s=n&268435455;if(s!==0){var l=s&~o;l!==0?r=Gr(l):(i&=s,i!==0&&(r=Gr(i)))}else s=n&~o,s!==0?r=Gr(s):i!==0&&(r=Gr(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,i=t&-t,o>=i||o===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Nt(t),o=1<<n,r|=e[n],t&=~o;return r}function gy(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yy(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-Nt(i),l=1<<s,a=o[s];a===-1?(!(l&n)||l&r)&&(o[s]=gy(l,t)):a<=t&&(e.expiredLanes|=l),i&=~l}}function fa(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function _h(){var e=fi;return fi<<=1,!(fi&4194240)&&(fi=64),e}function xl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Do(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Nt(t),e[t]=n}function xy(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-Nt(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}function pu(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Nt(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var me=0;function Sh(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Nh,mu,Eh,Ch,kh,ha=!1,pi=[],un=null,cn=null,dn=null,ho=new Map,po=new Map,rn=[],vy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bc(e,t){switch(e){case"focusin":case"focusout":un=null;break;case"dragenter":case"dragleave":cn=null;break;case"mouseover":case"mouseout":dn=null;break;case"pointerover":case"pointerout":ho.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":po.delete(t.pointerId)}}function zr(e,t,n,r,o,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},t!==null&&(t=Oo(t),t!==null&&mu(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function wy(e,t,n,r,o){switch(t){case"focusin":return un=zr(un,e,t,n,r,o),!0;case"dragenter":return cn=zr(cn,e,t,n,r,o),!0;case"mouseover":return dn=zr(dn,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return ho.set(i,zr(ho.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,po.set(i,zr(po.get(i)||null,e,t,n,r,o)),!0}return!1}function Mh(e){var t=Mn(e.target);if(t!==null){var n=Wn(t);if(n!==null){if(t=n.tag,t===13){if(t=mh(n),t!==null){e.blockedOn=t,kh(e.priority,function(){Eh(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ri(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=pa(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);aa=r,n.target.dispatchEvent(r),aa=null}else return t=Oo(n),t!==null&&mu(t),e.blockedOn=n,!1;t.shift()}return!0}function Lc(e,t,n){Ri(e)&&n.delete(t)}function _y(){ha=!1,un!==null&&Ri(un)&&(un=null),cn!==null&&Ri(cn)&&(cn=null),dn!==null&&Ri(dn)&&(dn=null),ho.forEach(Lc),po.forEach(Lc)}function Or(e,t){e.blockedOn===t&&(e.blockedOn=null,ha||(ha=!0,nt.unstable_scheduleCallback(nt.unstable_NormalPriority,_y)))}function mo(e){function t(o){return Or(o,e)}if(0<pi.length){Or(pi[0],e);for(var n=1;n<pi.length;n++){var r=pi[n];r.blockedOn===e&&(r.blockedOn=null)}}for(un!==null&&Or(un,e),cn!==null&&Or(cn,e),dn!==null&&Or(dn,e),ho.forEach(t),po.forEach(t),n=0;n<rn.length;n++)r=rn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<rn.length&&(n=rn[0],n.blockedOn===null);)Mh(n),n.blockedOn===null&&rn.shift()}var dr=Qt.ReactCurrentBatchConfig,ns=!0;function Sy(e,t,n,r){var o=me,i=dr.transition;dr.transition=null;try{me=1,gu(e,t,n,r)}finally{me=o,dr.transition=i}}function Ny(e,t,n,r){var o=me,i=dr.transition;dr.transition=null;try{me=4,gu(e,t,n,r)}finally{me=o,dr.transition=i}}function gu(e,t,n,r){if(ns){var o=pa(e,t,n,r);if(o===null)jl(e,t,r,rs,n),bc(e,r);else if(wy(o,e,t,n,r))r.stopPropagation();else if(bc(e,r),t&4&&-1<vy.indexOf(e)){for(;o!==null;){var i=Oo(o);if(i!==null&&Nh(i),i=pa(e,t,n,r),i===null&&jl(e,t,r,rs,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else jl(e,t,r,null,n)}}var rs=null;function pa(e,t,n,r){if(rs=null,e=fu(r),e=Mn(e),e!==null)if(t=Wn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=mh(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return rs=e,null}function jh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cy()){case hu:return 1;case vh:return 4;case es:case dy:return 16;case wh:return 536870912;default:return 16}default:return 16}}var ln=null,yu=null,Di=null;function Ih(){if(Di)return Di;var e,t=yu,n=t.length,r,o="value"in ln?ln.value:ln.textContent,i=o.length;for(e=0;e<n&&t[e]===o[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===o[i-r];r++);return Di=o.slice(e,1<r?1-r:void 0)}function zi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function mi(){return!0}function Rc(){return!1}function it(e){function t(n,r,o,i,s){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?mi:Rc,this.isPropagationStopped=Rc,this}return Ce(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=mi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=mi)},persist:function(){},isPersistent:mi}),t}var $r={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xu=it($r),zo=Ce({},$r,{view:0,detail:0}),Ey=it(zo),vl,wl,Fr,bs=Ce({},zo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fr&&(Fr&&e.type==="mousemove"?(vl=e.screenX-Fr.screenX,wl=e.screenY-Fr.screenY):wl=vl=0,Fr=e),vl)},movementY:function(e){return"movementY"in e?e.movementY:wl}}),Dc=it(bs),Cy=Ce({},bs,{dataTransfer:0}),ky=it(Cy),My=Ce({},zo,{relatedTarget:0}),_l=it(My),jy=Ce({},$r,{animationName:0,elapsedTime:0,pseudoElement:0}),Iy=it(jy),Ty=Ce({},$r,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Py=it(Ty),Ay=Ce({},$r,{data:0}),zc=it(Ay),$y={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},by={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ly={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ry(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ly[e])?!!t[e]:!1}function vu(){return Ry}var Dy=Ce({},zo,{key:function(e){if(e.key){var t=$y[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=zi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?by[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vu,charCode:function(e){return e.type==="keypress"?zi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?zi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),zy=it(Dy),Oy=Ce({},bs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oc=it(Oy),Fy=Ce({},zo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vu}),Hy=it(Fy),Vy=Ce({},$r,{propertyName:0,elapsedTime:0,pseudoElement:0}),By=it(Vy),Uy=Ce({},bs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Wy=it(Uy),Yy=[9,13,27,32],wu=Ut&&"CompositionEvent"in window,eo=null;Ut&&"documentMode"in document&&(eo=document.documentMode);var Xy=Ut&&"TextEvent"in window&&!eo,Th=Ut&&(!wu||eo&&8<eo&&11>=eo),Fc=" ",Hc=!1;function Ph(e,t){switch(e){case"keyup":return Yy.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ah(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Kn=!1;function Gy(e,t){switch(e){case"compositionend":return Ah(t);case"keypress":return t.which!==32?null:(Hc=!0,Fc);case"textInput":return e=t.data,e===Fc&&Hc?null:e;default:return null}}function Qy(e,t){if(Kn)return e==="compositionend"||!wu&&Ph(e,t)?(e=Ih(),Di=yu=ln=null,Kn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Th&&t.locale!=="ko"?null:t.data;default:return null}}var Ky={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ky[e.type]:t==="textarea"}function $h(e,t,n,r){ch(r),t=os(t,"onChange"),0<t.length&&(n=new xu("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var to=null,go=null;function Zy(e){Uh(e,0)}function Ls(e){var t=Jn(e);if(rh(t))return e}function qy(e,t){if(e==="change")return t}var bh=!1;if(Ut){var Sl;if(Ut){var Nl="oninput"in document;if(!Nl){var Bc=document.createElement("div");Bc.setAttribute("oninput","return;"),Nl=typeof Bc.oninput=="function"}Sl=Nl}else Sl=!1;bh=Sl&&(!document.documentMode||9<document.documentMode)}function Uc(){to&&(to.detachEvent("onpropertychange",Lh),go=to=null)}function Lh(e){if(e.propertyName==="value"&&Ls(go)){var t=[];$h(t,go,e,fu(e)),ph(Zy,t)}}function Jy(e,t,n){e==="focusin"?(Uc(),to=t,go=n,to.attachEvent("onpropertychange",Lh)):e==="focusout"&&Uc()}function ex(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ls(go)}function tx(e,t){if(e==="click")return Ls(t)}function nx(e,t){if(e==="input"||e==="change")return Ls(t)}function rx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ct=typeof Object.is=="function"?Object.is:rx;function yo(e,t){if(Ct(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Kl.call(t,o)||!Ct(e[o],t[o]))return!1}return!0}function Wc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Yc(e,t){var n=Wc(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Wc(n)}}function Rh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Rh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Dh(){for(var e=window,t=Zi();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Zi(e.document)}return t}function _u(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ox(e){var t=Dh(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Rh(n.ownerDocument.documentElement,n)){if(r!==null&&_u(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=Yc(n,i);var s=Yc(n,r);o&&s&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ix=Ut&&"documentMode"in document&&11>=document.documentMode,Zn=null,ma=null,no=null,ga=!1;function Xc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ga||Zn==null||Zn!==Zi(r)||(r=Zn,"selectionStart"in r&&_u(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),no&&yo(no,r)||(no=r,r=os(ma,"onSelect"),0<r.length&&(t=new xu("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Zn)))}function gi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var qn={animationend:gi("Animation","AnimationEnd"),animationiteration:gi("Animation","AnimationIteration"),animationstart:gi("Animation","AnimationStart"),transitionend:gi("Transition","TransitionEnd")},El={},zh={};Ut&&(zh=document.createElement("div").style,"AnimationEvent"in window||(delete qn.animationend.animation,delete qn.animationiteration.animation,delete qn.animationstart.animation),"TransitionEvent"in window||delete qn.transitionend.transition);function Rs(e){if(El[e])return El[e];if(!qn[e])return e;var t=qn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in zh)return El[e]=t[n];return e}var Oh=Rs("animationend"),Fh=Rs("animationiteration"),Hh=Rs("animationstart"),Vh=Rs("transitionend"),Bh=new Map,Gc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wn(e,t){Bh.set(e,t),Un(t,[e])}for(var Cl=0;Cl<Gc.length;Cl++){var kl=Gc[Cl],sx=kl.toLowerCase(),lx=kl[0].toUpperCase()+kl.slice(1);wn(sx,"on"+lx)}wn(Oh,"onAnimationEnd");wn(Fh,"onAnimationIteration");wn(Hh,"onAnimationStart");wn("dblclick","onDoubleClick");wn("focusin","onFocus");wn("focusout","onBlur");wn(Vh,"onTransitionEnd");gr("onMouseEnter",["mouseout","mouseover"]);gr("onMouseLeave",["mouseout","mouseover"]);gr("onPointerEnter",["pointerout","pointerover"]);gr("onPointerLeave",["pointerout","pointerover"]);Un("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Un("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Un("onBeforeInput",["compositionend","keypress","textInput","paste"]);Un("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Un("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Un("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ax=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qr));function Qc(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,sy(r,t,void 0,e),e.currentTarget=null}function Uh(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var l=r[s],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==i&&o.isPropagationStopped())break e;Qc(o,l,u),i=a}else for(s=0;s<r.length;s++){if(l=r[s],a=l.instance,u=l.currentTarget,l=l.listener,a!==i&&o.isPropagationStopped())break e;Qc(o,l,u),i=a}}}if(Ji)throw e=da,Ji=!1,da=null,e}function ye(e,t){var n=t[_a];n===void 0&&(n=t[_a]=new Set);var r=e+"__bubble";n.has(r)||(Wh(t,e,2,!1),n.add(r))}function Ml(e,t,n){var r=0;t&&(r|=4),Wh(n,e,r,t)}var yi="_reactListening"+Math.random().toString(36).slice(2);function xo(e){if(!e[yi]){e[yi]=!0,qf.forEach(function(n){n!=="selectionchange"&&(ax.has(n)||Ml(n,!1,e),Ml(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[yi]||(t[yi]=!0,Ml("selectionchange",!1,t))}}function Wh(e,t,n,r){switch(jh(t)){case 1:var o=Sy;break;case 4:o=Ny;break;default:o=gu}n=o.bind(null,t,n,e),o=void 0,!ca||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function jl(e,t,n,r,o){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===o||l.nodeType===8&&l.parentNode===o)break;if(s===4)for(s=r.return;s!==null;){var a=s.tag;if((a===3||a===4)&&(a=s.stateNode.containerInfo,a===o||a.nodeType===8&&a.parentNode===o))return;s=s.return}for(;l!==null;){if(s=Mn(l),s===null)return;if(a=s.tag,a===5||a===6){r=i=s;continue e}l=l.parentNode}}r=r.return}ph(function(){var u=i,f=fu(n),c=[];e:{var d=Bh.get(e);if(d!==void 0){var x=xu,g=e;switch(e){case"keypress":if(zi(n)===0)break e;case"keydown":case"keyup":x=zy;break;case"focusin":g="focus",x=_l;break;case"focusout":g="blur",x=_l;break;case"beforeblur":case"afterblur":x=_l;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=Dc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=ky;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=Hy;break;case Oh:case Fh:case Hh:x=Iy;break;case Vh:x=By;break;case"scroll":x=Ey;break;case"wheel":x=Wy;break;case"copy":case"cut":case"paste":x=Py;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=Oc}var w=(t&4)!==0,_=!w&&e==="scroll",m=w?d!==null?d+"Capture":null:d;w=[];for(var y=u,h;y!==null;){h=y;var v=h.stateNode;if(h.tag===5&&v!==null&&(h=v,m!==null&&(v=fo(y,m),v!=null&&w.push(vo(y,v,h)))),_)break;y=y.return}0<w.length&&(d=new x(d,g,null,n,f),c.push({event:d,listeners:w}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",d&&n!==aa&&(g=n.relatedTarget||n.fromElement)&&(Mn(g)||g[Wt]))break e;if((x||d)&&(d=f.window===f?f:(d=f.ownerDocument)?d.defaultView||d.parentWindow:window,x?(g=n.relatedTarget||n.toElement,x=u,g=g?Mn(g):null,g!==null&&(_=Wn(g),g!==_||g.tag!==5&&g.tag!==6)&&(g=null)):(x=null,g=u),x!==g)){if(w=Dc,v="onMouseLeave",m="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(w=Oc,v="onPointerLeave",m="onPointerEnter",y="pointer"),_=x==null?d:Jn(x),h=g==null?d:Jn(g),d=new w(v,y+"leave",x,n,f),d.target=_,d.relatedTarget=h,v=null,Mn(f)===u&&(w=new w(m,y+"enter",g,n,f),w.target=h,w.relatedTarget=_,v=w),_=v,x&&g)t:{for(w=x,m=g,y=0,h=w;h;h=Yn(h))y++;for(h=0,v=m;v;v=Yn(v))h++;for(;0<y-h;)w=Yn(w),y--;for(;0<h-y;)m=Yn(m),h--;for(;y--;){if(w===m||m!==null&&w===m.alternate)break t;w=Yn(w),m=Yn(m)}w=null}else w=null;x!==null&&Kc(c,d,x,w,!1),g!==null&&_!==null&&Kc(c,_,g,w,!0)}}e:{if(d=u?Jn(u):window,x=d.nodeName&&d.nodeName.toLowerCase(),x==="select"||x==="input"&&d.type==="file")var N=qy;else if(Vc(d))if(bh)N=nx;else{N=ex;var S=Jy}else(x=d.nodeName)&&x.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(N=tx);if(N&&(N=N(e,u))){$h(c,N,n,f);break e}S&&S(e,d,u),e==="focusout"&&(S=d._wrapperState)&&S.controlled&&d.type==="number"&&ra(d,"number",d.value)}switch(S=u?Jn(u):window,e){case"focusin":(Vc(S)||S.contentEditable==="true")&&(Zn=S,ma=u,no=null);break;case"focusout":no=ma=Zn=null;break;case"mousedown":ga=!0;break;case"contextmenu":case"mouseup":case"dragend":ga=!1,Xc(c,n,f);break;case"selectionchange":if(ix)break;case"keydown":case"keyup":Xc(c,n,f)}var M;if(wu)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Kn?Ph(e,n)&&(j="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(Th&&n.locale!=="ko"&&(Kn||j!=="onCompositionStart"?j==="onCompositionEnd"&&Kn&&(M=Ih()):(ln=f,yu="value"in ln?ln.value:ln.textContent,Kn=!0)),S=os(u,j),0<S.length&&(j=new zc(j,e,null,n,f),c.push({event:j,listeners:S}),M?j.data=M:(M=Ah(n),M!==null&&(j.data=M)))),(M=Xy?Gy(e,n):Qy(e,n))&&(u=os(u,"onBeforeInput"),0<u.length&&(f=new zc("onBeforeInput","beforeinput",null,n,f),c.push({event:f,listeners:u}),f.data=M))}Uh(c,t)})}function vo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function os(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=fo(e,n),i!=null&&r.unshift(vo(e,i,o)),i=fo(e,t),i!=null&&r.push(vo(e,i,o))),e=e.return}return r}function Yn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Kc(e,t,n,r,o){for(var i=t._reactName,s=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,o?(a=fo(n,i),a!=null&&s.unshift(vo(n,a,l))):o||(a=fo(n,i),a!=null&&s.push(vo(n,a,l)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var ux=/\r\n?/g,cx=/\u0000|\uFFFD/g;function Zc(e){return(typeof e=="string"?e:""+e).replace(ux,`
`).replace(cx,"")}function xi(e,t,n){if(t=Zc(t),Zc(e)!==t&&n)throw Error(U(425))}function is(){}var ya=null,xa=null;function va(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var wa=typeof setTimeout=="function"?setTimeout:void 0,dx=typeof clearTimeout=="function"?clearTimeout:void 0,qc=typeof Promise=="function"?Promise:void 0,fx=typeof queueMicrotask=="function"?queueMicrotask:typeof qc<"u"?function(e){return qc.resolve(null).then(e).catch(hx)}:wa;function hx(e){setTimeout(function(){throw e})}function Il(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),mo(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);mo(t)}function fn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Jc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var br=Math.random().toString(36).slice(2),Pt="__reactFiber$"+br,wo="__reactProps$"+br,Wt="__reactContainer$"+br,_a="__reactEvents$"+br,px="__reactListeners$"+br,mx="__reactHandles$"+br;function Mn(e){var t=e[Pt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Wt]||n[Pt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Jc(e);e!==null;){if(n=e[Pt])return n;e=Jc(e)}return t}e=n,n=e.parentNode}return null}function Oo(e){return e=e[Pt]||e[Wt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Jn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(U(33))}function Ds(e){return e[wo]||null}var Sa=[],er=-1;function _n(e){return{current:e}}function xe(e){0>er||(e.current=Sa[er],Sa[er]=null,er--)}function ge(e,t){er++,Sa[er]=e.current,e.current=t}var vn={},Fe=_n(vn),Qe=_n(!1),Ln=vn;function yr(e,t){var n=e.type.contextTypes;if(!n)return vn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ke(e){return e=e.childContextTypes,e!=null}function ss(){xe(Qe),xe(Fe)}function ed(e,t,n){if(Fe.current!==vn)throw Error(U(168));ge(Fe,t),ge(Qe,n)}function Yh(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(U(108,J0(e)||"Unknown",o));return Ce({},n,r)}function ls(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||vn,Ln=Fe.current,ge(Fe,e),ge(Qe,Qe.current),!0}function td(e,t,n){var r=e.stateNode;if(!r)throw Error(U(169));n?(e=Yh(e,t,Ln),r.__reactInternalMemoizedMergedChildContext=e,xe(Qe),xe(Fe),ge(Fe,e)):xe(Qe),ge(Qe,n)}var Ot=null,zs=!1,Tl=!1;function Xh(e){Ot===null?Ot=[e]:Ot.push(e)}function gx(e){zs=!0,Xh(e)}function Sn(){if(!Tl&&Ot!==null){Tl=!0;var e=0,t=me;try{var n=Ot;for(me=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Ot=null,zs=!1}catch(o){throw Ot!==null&&(Ot=Ot.slice(e+1)),xh(hu,Sn),o}finally{me=t,Tl=!1}}return null}var tr=[],nr=0,as=null,us=0,at=[],ut=0,Rn=null,Ft=1,Ht="";function En(e,t){tr[nr++]=us,tr[nr++]=as,as=e,us=t}function Gh(e,t,n){at[ut++]=Ft,at[ut++]=Ht,at[ut++]=Rn,Rn=e;var r=Ft;e=Ht;var o=32-Nt(r)-1;r&=~(1<<o),n+=1;var i=32-Nt(t)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,Ft=1<<32-Nt(t)+o|n<<o|r,Ht=i+e}else Ft=1<<i|n<<o|r,Ht=e}function Su(e){e.return!==null&&(En(e,1),Gh(e,1,0))}function Nu(e){for(;e===as;)as=tr[--nr],tr[nr]=null,us=tr[--nr],tr[nr]=null;for(;e===Rn;)Rn=at[--ut],at[ut]=null,Ht=at[--ut],at[ut]=null,Ft=at[--ut],at[ut]=null}var tt=null,et=null,we=!1,vt=null;function Qh(e,t){var n=ct(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function nd(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,tt=e,et=fn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,tt=e,et=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Rn!==null?{id:Ft,overflow:Ht}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ct(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,tt=e,et=null,!0):!1;default:return!1}}function Na(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ea(e){if(we){var t=et;if(t){var n=t;if(!nd(e,t)){if(Na(e))throw Error(U(418));t=fn(n.nextSibling);var r=tt;t&&nd(e,t)?Qh(r,n):(e.flags=e.flags&-4097|2,we=!1,tt=e)}}else{if(Na(e))throw Error(U(418));e.flags=e.flags&-4097|2,we=!1,tt=e}}}function rd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;tt=e}function vi(e){if(e!==tt)return!1;if(!we)return rd(e),we=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!va(e.type,e.memoizedProps)),t&&(t=et)){if(Na(e))throw Kh(),Error(U(418));for(;t;)Qh(e,t),t=fn(t.nextSibling)}if(rd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(U(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){et=fn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}et=null}}else et=tt?fn(e.stateNode.nextSibling):null;return!0}function Kh(){for(var e=et;e;)e=fn(e.nextSibling)}function xr(){et=tt=null,we=!1}function Eu(e){vt===null?vt=[e]:vt.push(e)}var yx=Qt.ReactCurrentBatchConfig;function Hr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,e));var o=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var l=o.refs;s===null?delete l[i]:l[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,e))}return e}function wi(e,t){throw e=Object.prototype.toString.call(t),Error(U(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function od(e){var t=e._init;return t(e._payload)}function Zh(e){function t(m,y){if(e){var h=m.deletions;h===null?(m.deletions=[y],m.flags|=16):h.push(y)}}function n(m,y){if(!e)return null;for(;y!==null;)t(m,y),y=y.sibling;return null}function r(m,y){for(m=new Map;y!==null;)y.key!==null?m.set(y.key,y):m.set(y.index,y),y=y.sibling;return m}function o(m,y){return m=gn(m,y),m.index=0,m.sibling=null,m}function i(m,y,h){return m.index=h,e?(h=m.alternate,h!==null?(h=h.index,h<y?(m.flags|=2,y):h):(m.flags|=2,y)):(m.flags|=1048576,y)}function s(m){return e&&m.alternate===null&&(m.flags|=2),m}function l(m,y,h,v){return y===null||y.tag!==6?(y=Dl(h,m.mode,v),y.return=m,y):(y=o(y,h),y.return=m,y)}function a(m,y,h,v){var N=h.type;return N===Qn?f(m,y,h.props.children,v,h.key):y!==null&&(y.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===tn&&od(N)===y.type)?(v=o(y,h.props),v.ref=Hr(m,y,h),v.return=m,v):(v=Wi(h.type,h.key,h.props,null,m.mode,v),v.ref=Hr(m,y,h),v.return=m,v)}function u(m,y,h,v){return y===null||y.tag!==4||y.stateNode.containerInfo!==h.containerInfo||y.stateNode.implementation!==h.implementation?(y=zl(h,m.mode,v),y.return=m,y):(y=o(y,h.children||[]),y.return=m,y)}function f(m,y,h,v,N){return y===null||y.tag!==7?(y=An(h,m.mode,v,N),y.return=m,y):(y=o(y,h),y.return=m,y)}function c(m,y,h){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Dl(""+y,m.mode,h),y.return=m,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ui:return h=Wi(y.type,y.key,y.props,null,m.mode,h),h.ref=Hr(m,null,y),h.return=m,h;case Gn:return y=zl(y,m.mode,h),y.return=m,y;case tn:var v=y._init;return c(m,v(y._payload),h)}if(Xr(y)||Rr(y))return y=An(y,m.mode,h,null),y.return=m,y;wi(m,y)}return null}function d(m,y,h,v){var N=y!==null?y.key:null;if(typeof h=="string"&&h!==""||typeof h=="number")return N!==null?null:l(m,y,""+h,v);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case ui:return h.key===N?a(m,y,h,v):null;case Gn:return h.key===N?u(m,y,h,v):null;case tn:return N=h._init,d(m,y,N(h._payload),v)}if(Xr(h)||Rr(h))return N!==null?null:f(m,y,h,v,null);wi(m,h)}return null}function x(m,y,h,v,N){if(typeof v=="string"&&v!==""||typeof v=="number")return m=m.get(h)||null,l(y,m,""+v,N);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ui:return m=m.get(v.key===null?h:v.key)||null,a(y,m,v,N);case Gn:return m=m.get(v.key===null?h:v.key)||null,u(y,m,v,N);case tn:var S=v._init;return x(m,y,h,S(v._payload),N)}if(Xr(v)||Rr(v))return m=m.get(h)||null,f(y,m,v,N,null);wi(y,v)}return null}function g(m,y,h,v){for(var N=null,S=null,M=y,j=y=0,$=null;M!==null&&j<h.length;j++){M.index>j?($=M,M=null):$=M.sibling;var O=d(m,M,h[j],v);if(O===null){M===null&&(M=$);break}e&&M&&O.alternate===null&&t(m,M),y=i(O,y,j),S===null?N=O:S.sibling=O,S=O,M=$}if(j===h.length)return n(m,M),we&&En(m,j),N;if(M===null){for(;j<h.length;j++)M=c(m,h[j],v),M!==null&&(y=i(M,y,j),S===null?N=M:S.sibling=M,S=M);return we&&En(m,j),N}for(M=r(m,M);j<h.length;j++)$=x(M,m,j,h[j],v),$!==null&&(e&&$.alternate!==null&&M.delete($.key===null?j:$.key),y=i($,y,j),S===null?N=$:S.sibling=$,S=$);return e&&M.forEach(function(A){return t(m,A)}),we&&En(m,j),N}function w(m,y,h,v){var N=Rr(h);if(typeof N!="function")throw Error(U(150));if(h=N.call(h),h==null)throw Error(U(151));for(var S=N=null,M=y,j=y=0,$=null,O=h.next();M!==null&&!O.done;j++,O=h.next()){M.index>j?($=M,M=null):$=M.sibling;var A=d(m,M,O.value,v);if(A===null){M===null&&(M=$);break}e&&M&&A.alternate===null&&t(m,M),y=i(A,y,j),S===null?N=A:S.sibling=A,S=A,M=$}if(O.done)return n(m,M),we&&En(m,j),N;if(M===null){for(;!O.done;j++,O=h.next())O=c(m,O.value,v),O!==null&&(y=i(O,y,j),S===null?N=O:S.sibling=O,S=O);return we&&En(m,j),N}for(M=r(m,M);!O.done;j++,O=h.next())O=x(M,m,j,O.value,v),O!==null&&(e&&O.alternate!==null&&M.delete(O.key===null?j:O.key),y=i(O,y,j),S===null?N=O:S.sibling=O,S=O);return e&&M.forEach(function(L){return t(m,L)}),we&&En(m,j),N}function _(m,y,h,v){if(typeof h=="object"&&h!==null&&h.type===Qn&&h.key===null&&(h=h.props.children),typeof h=="object"&&h!==null){switch(h.$$typeof){case ui:e:{for(var N=h.key,S=y;S!==null;){if(S.key===N){if(N=h.type,N===Qn){if(S.tag===7){n(m,S.sibling),y=o(S,h.props.children),y.return=m,m=y;break e}}else if(S.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===tn&&od(N)===S.type){n(m,S.sibling),y=o(S,h.props),y.ref=Hr(m,S,h),y.return=m,m=y;break e}n(m,S);break}else t(m,S);S=S.sibling}h.type===Qn?(y=An(h.props.children,m.mode,v,h.key),y.return=m,m=y):(v=Wi(h.type,h.key,h.props,null,m.mode,v),v.ref=Hr(m,y,h),v.return=m,m=v)}return s(m);case Gn:e:{for(S=h.key;y!==null;){if(y.key===S)if(y.tag===4&&y.stateNode.containerInfo===h.containerInfo&&y.stateNode.implementation===h.implementation){n(m,y.sibling),y=o(y,h.children||[]),y.return=m,m=y;break e}else{n(m,y);break}else t(m,y);y=y.sibling}y=zl(h,m.mode,v),y.return=m,m=y}return s(m);case tn:return S=h._init,_(m,y,S(h._payload),v)}if(Xr(h))return g(m,y,h,v);if(Rr(h))return w(m,y,h,v);wi(m,h)}return typeof h=="string"&&h!==""||typeof h=="number"?(h=""+h,y!==null&&y.tag===6?(n(m,y.sibling),y=o(y,h),y.return=m,m=y):(n(m,y),y=Dl(h,m.mode,v),y.return=m,m=y),s(m)):n(m,y)}return _}var vr=Zh(!0),qh=Zh(!1),cs=_n(null),ds=null,rr=null,Cu=null;function ku(){Cu=rr=ds=null}function Mu(e){var t=cs.current;xe(cs),e._currentValue=t}function Ca(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function fr(e,t){ds=e,Cu=rr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Xe=!0),e.firstContext=null)}function ft(e){var t=e._currentValue;if(Cu!==e)if(e={context:e,memoizedValue:t,next:null},rr===null){if(ds===null)throw Error(U(308));rr=e,ds.dependencies={lanes:0,firstContext:e}}else rr=rr.next=e;return t}var jn=null;function ju(e){jn===null?jn=[e]:jn.push(e)}function Jh(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,ju(t)):(n.next=o.next,o.next=n),t.interleaved=n,Yt(e,r)}function Yt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var nn=!1;function Iu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ep(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Bt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function hn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,pe&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Yt(e,n)}return o=r.interleaved,o===null?(t.next=t,ju(r)):(t.next=o.next,o.next=t),r.interleaved=t,Yt(e,n)}function Oi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,pu(e,n)}}function id(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?o=i=t:i=i.next=t}else o=i=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function fs(e,t,n,r){var o=e.updateQueue;nn=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,l=o.shared.pending;if(l!==null){o.shared.pending=null;var a=l,u=a.next;a.next=null,s===null?i=u:s.next=u,s=a;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==s&&(l===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=a))}if(i!==null){var c=o.baseState;s=0,f=u=a=null,l=i;do{var d=l.lane,x=l.eventTime;if((r&d)===d){f!==null&&(f=f.next={eventTime:x,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,w=l;switch(d=t,x=n,w.tag){case 1:if(g=w.payload,typeof g=="function"){c=g.call(x,c,d);break e}c=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=w.payload,d=typeof g=="function"?g.call(x,c,d):g,d==null)break e;c=Ce({},c,d);break e;case 2:nn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,d=o.effects,d===null?o.effects=[l]:d.push(l))}else x={eventTime:x,lane:d,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(u=f=x,a=c):f=f.next=x,s|=d;if(l=l.next,l===null){if(l=o.shared.pending,l===null)break;d=l,l=d.next,d.next=null,o.lastBaseUpdate=d,o.shared.pending=null}}while(!0);if(f===null&&(a=c),o.baseState=a,o.firstBaseUpdate=u,o.lastBaseUpdate=f,t=o.shared.interleaved,t!==null){o=t;do s|=o.lane,o=o.next;while(o!==t)}else i===null&&(o.shared.lanes=0);zn|=s,e.lanes=s,e.memoizedState=c}}function sd(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(U(191,o));o.call(r)}}}var Fo={},$t=_n(Fo),_o=_n(Fo),So=_n(Fo);function In(e){if(e===Fo)throw Error(U(174));return e}function Tu(e,t){switch(ge(So,t),ge(_o,e),ge($t,Fo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ia(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ia(t,e)}xe($t),ge($t,t)}function wr(){xe($t),xe(_o),xe(So)}function tp(e){In(So.current);var t=In($t.current),n=ia(t,e.type);t!==n&&(ge(_o,e),ge($t,n))}function Pu(e){_o.current===e&&(xe($t),xe(_o))}var Ne=_n(0);function hs(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Pl=[];function Au(){for(var e=0;e<Pl.length;e++)Pl[e]._workInProgressVersionPrimary=null;Pl.length=0}var Fi=Qt.ReactCurrentDispatcher,Al=Qt.ReactCurrentBatchConfig,Dn=0,Ee=null,Te=null,Ae=null,ps=!1,ro=!1,No=0,xx=0;function De(){throw Error(U(321))}function $u(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ct(e[n],t[n]))return!1;return!0}function bu(e,t,n,r,o,i){if(Dn=i,Ee=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Fi.current=e===null||e.memoizedState===null?Sx:Nx,e=n(r,o),ro){i=0;do{if(ro=!1,No=0,25<=i)throw Error(U(301));i+=1,Ae=Te=null,t.updateQueue=null,Fi.current=Ex,e=n(r,o)}while(ro)}if(Fi.current=ms,t=Te!==null&&Te.next!==null,Dn=0,Ae=Te=Ee=null,ps=!1,t)throw Error(U(300));return e}function Lu(){var e=No!==0;return No=0,e}function It(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?Ee.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function ht(){if(Te===null){var e=Ee.alternate;e=e!==null?e.memoizedState:null}else e=Te.next;var t=Ae===null?Ee.memoizedState:Ae.next;if(t!==null)Ae=t,Te=e;else{if(e===null)throw Error(U(310));Te=e,e={memoizedState:Te.memoizedState,baseState:Te.baseState,baseQueue:Te.baseQueue,queue:Te.queue,next:null},Ae===null?Ee.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function Eo(e,t){return typeof t=="function"?t(e):t}function $l(e){var t=ht(),n=t.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=e;var r=Te,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var l=s=null,a=null,u=i;do{var f=u.lane;if((Dn&f)===f)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var c={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=c,s=r):a=a.next=c,Ee.lanes|=f,zn|=f}u=u.next}while(u!==null&&u!==i);a===null?s=r:a.next=l,Ct(r,t.memoizedState)||(Xe=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do i=o.lane,Ee.lanes|=i,zn|=i,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function bl(e){var t=ht(),n=t.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(o!==null){n.pending=null;var s=o=o.next;do i=e(i,s.action),s=s.next;while(s!==o);Ct(i,t.memoizedState)||(Xe=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function np(){}function rp(e,t){var n=Ee,r=ht(),o=t(),i=!Ct(r.memoizedState,o);if(i&&(r.memoizedState=o,Xe=!0),r=r.queue,Ru(sp.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Ae!==null&&Ae.memoizedState.tag&1){if(n.flags|=2048,Co(9,ip.bind(null,n,r,o,t),void 0,null),$e===null)throw Error(U(349));Dn&30||op(n,t,o)}return o}function op(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ee.updateQueue,t===null?(t={lastEffect:null,stores:null},Ee.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function ip(e,t,n,r){t.value=n,t.getSnapshot=r,lp(t)&&ap(e)}function sp(e,t,n){return n(function(){lp(t)&&ap(e)})}function lp(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ct(e,n)}catch{return!0}}function ap(e){var t=Yt(e,1);t!==null&&Et(t,e,1,-1)}function ld(e){var t=It();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Eo,lastRenderedState:e},t.queue=e,e=e.dispatch=_x.bind(null,Ee,e),[t.memoizedState,e]}function Co(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ee.updateQueue,t===null?(t={lastEffect:null,stores:null},Ee.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function up(){return ht().memoizedState}function Hi(e,t,n,r){var o=It();Ee.flags|=e,o.memoizedState=Co(1|t,n,void 0,r===void 0?null:r)}function Os(e,t,n,r){var o=ht();r=r===void 0?null:r;var i=void 0;if(Te!==null){var s=Te.memoizedState;if(i=s.destroy,r!==null&&$u(r,s.deps)){o.memoizedState=Co(t,n,i,r);return}}Ee.flags|=e,o.memoizedState=Co(1|t,n,i,r)}function ad(e,t){return Hi(8390656,8,e,t)}function Ru(e,t){return Os(2048,8,e,t)}function cp(e,t){return Os(4,2,e,t)}function dp(e,t){return Os(4,4,e,t)}function fp(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function hp(e,t,n){return n=n!=null?n.concat([e]):null,Os(4,4,fp.bind(null,t,e),n)}function Du(){}function pp(e,t){var n=ht();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&$u(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function mp(e,t){var n=ht();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&$u(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function gp(e,t,n){return Dn&21?(Ct(n,t)||(n=_h(),Ee.lanes|=n,zn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Xe=!0),e.memoizedState=n)}function vx(e,t){var n=me;me=n!==0&&4>n?n:4,e(!0);var r=Al.transition;Al.transition={};try{e(!1),t()}finally{me=n,Al.transition=r}}function yp(){return ht().memoizedState}function wx(e,t,n){var r=mn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},xp(e))vp(t,n);else if(n=Jh(e,t,n,r),n!==null){var o=Be();Et(n,e,r,o),wp(n,t,r)}}function _x(e,t,n){var r=mn(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(xp(e))vp(t,o);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,l=i(s,n);if(o.hasEagerState=!0,o.eagerState=l,Ct(l,s)){var a=t.interleaved;a===null?(o.next=o,ju(t)):(o.next=a.next,a.next=o),t.interleaved=o;return}}catch{}finally{}n=Jh(e,t,o,r),n!==null&&(o=Be(),Et(n,e,r,o),wp(n,t,r))}}function xp(e){var t=e.alternate;return e===Ee||t!==null&&t===Ee}function vp(e,t){ro=ps=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function wp(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,pu(e,n)}}var ms={readContext:ft,useCallback:De,useContext:De,useEffect:De,useImperativeHandle:De,useInsertionEffect:De,useLayoutEffect:De,useMemo:De,useReducer:De,useRef:De,useState:De,useDebugValue:De,useDeferredValue:De,useTransition:De,useMutableSource:De,useSyncExternalStore:De,useId:De,unstable_isNewReconciler:!1},Sx={readContext:ft,useCallback:function(e,t){return It().memoizedState=[e,t===void 0?null:t],e},useContext:ft,useEffect:ad,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Hi(4194308,4,fp.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Hi(4194308,4,e,t)},useInsertionEffect:function(e,t){return Hi(4,2,e,t)},useMemo:function(e,t){var n=It();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=It();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=wx.bind(null,Ee,e),[r.memoizedState,e]},useRef:function(e){var t=It();return e={current:e},t.memoizedState=e},useState:ld,useDebugValue:Du,useDeferredValue:function(e){return It().memoizedState=e},useTransition:function(){var e=ld(!1),t=e[0];return e=vx.bind(null,e[1]),It().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ee,o=It();if(we){if(n===void 0)throw Error(U(407));n=n()}else{if(n=t(),$e===null)throw Error(U(349));Dn&30||op(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,ad(sp.bind(null,r,i,e),[e]),r.flags|=2048,Co(9,ip.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=It(),t=$e.identifierPrefix;if(we){var n=Ht,r=Ft;n=(r&~(1<<32-Nt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=No++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=xx++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Nx={readContext:ft,useCallback:pp,useContext:ft,useEffect:Ru,useImperativeHandle:hp,useInsertionEffect:cp,useLayoutEffect:dp,useMemo:mp,useReducer:$l,useRef:up,useState:function(){return $l(Eo)},useDebugValue:Du,useDeferredValue:function(e){var t=ht();return gp(t,Te.memoizedState,e)},useTransition:function(){var e=$l(Eo)[0],t=ht().memoizedState;return[e,t]},useMutableSource:np,useSyncExternalStore:rp,useId:yp,unstable_isNewReconciler:!1},Ex={readContext:ft,useCallback:pp,useContext:ft,useEffect:Ru,useImperativeHandle:hp,useInsertionEffect:cp,useLayoutEffect:dp,useMemo:mp,useReducer:bl,useRef:up,useState:function(){return bl(Eo)},useDebugValue:Du,useDeferredValue:function(e){var t=ht();return Te===null?t.memoizedState=e:gp(t,Te.memoizedState,e)},useTransition:function(){var e=bl(Eo)[0],t=ht().memoizedState;return[e,t]},useMutableSource:np,useSyncExternalStore:rp,useId:yp,unstable_isNewReconciler:!1};function gt(e,t){if(e&&e.defaultProps){t=Ce({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ka(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ce({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Fs={isMounted:function(e){return(e=e._reactInternals)?Wn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Be(),o=mn(e),i=Bt(r,o);i.payload=t,n!=null&&(i.callback=n),t=hn(e,i,o),t!==null&&(Et(t,e,o,r),Oi(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Be(),o=mn(e),i=Bt(r,o);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=hn(e,i,o),t!==null&&(Et(t,e,o,r),Oi(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Be(),r=mn(e),o=Bt(n,r);o.tag=2,t!=null&&(o.callback=t),t=hn(e,o,r),t!==null&&(Et(t,e,r,n),Oi(t,e,r))}};function ud(e,t,n,r,o,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,s):t.prototype&&t.prototype.isPureReactComponent?!yo(n,r)||!yo(o,i):!0}function _p(e,t,n){var r=!1,o=vn,i=t.contextType;return typeof i=="object"&&i!==null?i=ft(i):(o=Ke(t)?Ln:Fe.current,r=t.contextTypes,i=(r=r!=null)?yr(e,o):vn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Fs,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function cd(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Fs.enqueueReplaceState(t,t.state,null)}function Ma(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Iu(e);var i=t.contextType;typeof i=="object"&&i!==null?o.context=ft(i):(i=Ke(t)?Ln:Fe.current,o.context=yr(e,i)),o.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(ka(e,t,i,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Fs.enqueueReplaceState(o,o.state,null),fs(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function _r(e,t){try{var n="",r=t;do n+=q0(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:o,digest:null}}function Ll(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ja(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Cx=typeof WeakMap=="function"?WeakMap:Map;function Sp(e,t,n){n=Bt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ys||(ys=!0,za=r),ja(e,t)},n}function Np(e,t,n){n=Bt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){ja(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){ja(e,t),typeof r!="function"&&(pn===null?pn=new Set([this]):pn.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function dd(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Cx;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=Ox.bind(null,e,t,n),t.then(e,e))}function fd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function hd(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Bt(-1,1),t.tag=2,hn(n,t,1))),n.lanes|=1),e)}var kx=Qt.ReactCurrentOwner,Xe=!1;function He(e,t,n,r){t.child=e===null?qh(t,null,n,r):vr(t,e.child,n,r)}function pd(e,t,n,r,o){n=n.render;var i=t.ref;return fr(t,o),r=bu(e,t,n,r,i,o),n=Lu(),e!==null&&!Xe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Xt(e,t,o)):(we&&n&&Su(t),t.flags|=1,He(e,t,r,o),t.child)}function md(e,t,n,r,o){if(e===null){var i=n.type;return typeof i=="function"&&!Wu(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Ep(e,t,i,r,o)):(e=Wi(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&o)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:yo,n(s,r)&&e.ref===t.ref)return Xt(e,t,o)}return t.flags|=1,e=gn(i,r),e.ref=t.ref,e.return=t,t.child=e}function Ep(e,t,n,r,o){if(e!==null){var i=e.memoizedProps;if(yo(i,r)&&e.ref===t.ref)if(Xe=!1,t.pendingProps=r=i,(e.lanes&o)!==0)e.flags&131072&&(Xe=!0);else return t.lanes=e.lanes,Xt(e,t,o)}return Ia(e,t,n,r,o)}function Cp(e,t,n){var r=t.pendingProps,o=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ge(ir,qe),qe|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ge(ir,qe),qe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ge(ir,qe),qe|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,ge(ir,qe),qe|=r;return He(e,t,o,n),t.child}function kp(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ia(e,t,n,r,o){var i=Ke(n)?Ln:Fe.current;return i=yr(t,i),fr(t,o),n=bu(e,t,n,r,i,o),r=Lu(),e!==null&&!Xe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Xt(e,t,o)):(we&&r&&Su(t),t.flags|=1,He(e,t,n,o),t.child)}function gd(e,t,n,r,o){if(Ke(n)){var i=!0;ls(t)}else i=!1;if(fr(t,o),t.stateNode===null)Vi(e,t),_p(t,n,r),Ma(t,n,r,o),r=!0;else if(e===null){var s=t.stateNode,l=t.memoizedProps;s.props=l;var a=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=ft(u):(u=Ke(n)?Ln:Fe.current,u=yr(t,u));var f=n.getDerivedStateFromProps,c=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function";c||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==r||a!==u)&&cd(t,s,r,u),nn=!1;var d=t.memoizedState;s.state=d,fs(t,r,s,o),a=t.memoizedState,l!==r||d!==a||Qe.current||nn?(typeof f=="function"&&(ka(t,n,f,r),a=t.memoizedState),(l=nn||ud(t,n,l,r,d,a,u))?(c||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),s.props=r,s.state=a,s.context=u,r=l):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,ep(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:gt(t.type,l),s.props=u,c=t.pendingProps,d=s.context,a=n.contextType,typeof a=="object"&&a!==null?a=ft(a):(a=Ke(n)?Ln:Fe.current,a=yr(t,a));var x=n.getDerivedStateFromProps;(f=typeof x=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==c||d!==a)&&cd(t,s,r,a),nn=!1,d=t.memoizedState,s.state=d,fs(t,r,s,o);var g=t.memoizedState;l!==c||d!==g||Qe.current||nn?(typeof x=="function"&&(ka(t,n,x,r),g=t.memoizedState),(u=nn||ud(t,n,u,r,d,g,a)||!1)?(f||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,g,a),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,g,a)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),s.props=r,s.state=g,s.context=a,r=u):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Ta(e,t,n,r,i,o)}function Ta(e,t,n,r,o,i){kp(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return o&&td(t,n,!1),Xt(e,t,i);r=t.stateNode,kx.current=t;var l=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=vr(t,e.child,null,i),t.child=vr(t,null,l,i)):He(e,t,l,i),t.memoizedState=r.state,o&&td(t,n,!0),t.child}function Mp(e){var t=e.stateNode;t.pendingContext?ed(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ed(e,t.context,!1),Tu(e,t.containerInfo)}function yd(e,t,n,r,o){return xr(),Eu(o),t.flags|=256,He(e,t,n,r),t.child}var Pa={dehydrated:null,treeContext:null,retryLane:0};function Aa(e){return{baseLanes:e,cachePool:null,transitions:null}}function jp(e,t,n){var r=t.pendingProps,o=Ne.current,i=!1,s=(t.flags&128)!==0,l;if((l=s)||(l=e!==null&&e.memoizedState===null?!1:(o&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),ge(Ne,o&1),e===null)return Ea(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,i?(r=t.mode,i=t.child,s={mode:"hidden",children:s},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=Bs(s,r,0,null),e=An(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Aa(n),t.memoizedState=Pa,e):zu(t,s));if(o=e.memoizedState,o!==null&&(l=o.dehydrated,l!==null))return Mx(e,t,s,r,l,o,n);if(i){i=r.fallback,s=t.mode,o=e.child,l=o.sibling;var a={mode:"hidden",children:r.children};return!(s&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=gn(o,a),r.subtreeFlags=o.subtreeFlags&14680064),l!==null?i=gn(l,i):(i=An(i,s,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,s=e.child.memoizedState,s=s===null?Aa(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~n,t.memoizedState=Pa,r}return i=e.child,e=i.sibling,r=gn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function zu(e,t){return t=Bs({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function _i(e,t,n,r){return r!==null&&Eu(r),vr(t,e.child,null,n),e=zu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Mx(e,t,n,r,o,i,s){if(n)return t.flags&256?(t.flags&=-257,r=Ll(Error(U(422))),_i(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,o=t.mode,r=Bs({mode:"visible",children:r.children},o,0,null),i=An(i,o,s,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&vr(t,e.child,null,s),t.child.memoizedState=Aa(s),t.memoizedState=Pa,i);if(!(t.mode&1))return _i(e,t,s,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(U(419)),r=Ll(i,r,void 0),_i(e,t,s,r)}if(l=(s&e.childLanes)!==0,Xe||l){if(r=$e,r!==null){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|s)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,Yt(e,o),Et(r,e,o,-1))}return Uu(),r=Ll(Error(U(421))),_i(e,t,s,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=Fx.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,et=fn(o.nextSibling),tt=t,we=!0,vt=null,e!==null&&(at[ut++]=Ft,at[ut++]=Ht,at[ut++]=Rn,Ft=e.id,Ht=e.overflow,Rn=t),t=zu(t,r.children),t.flags|=4096,t)}function xd(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ca(e.return,t,n)}function Rl(e,t,n,r,o){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function Ip(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(He(e,t,r.children,n),r=Ne.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&xd(e,n,t);else if(e.tag===19)xd(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ge(Ne,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&hs(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Rl(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&hs(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Rl(t,!0,n,null,i);break;case"together":Rl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vi(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Xt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),zn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(U(153));if(t.child!==null){for(e=t.child,n=gn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=gn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function jx(e,t,n){switch(t.tag){case 3:Mp(t),xr();break;case 5:tp(t);break;case 1:Ke(t.type)&&ls(t);break;case 4:Tu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;ge(cs,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ge(Ne,Ne.current&1),t.flags|=128,null):n&t.child.childLanes?jp(e,t,n):(ge(Ne,Ne.current&1),e=Xt(e,t,n),e!==null?e.sibling:null);ge(Ne,Ne.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Ip(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),ge(Ne,Ne.current),r)break;return null;case 22:case 23:return t.lanes=0,Cp(e,t,n)}return Xt(e,t,n)}var Tp,$a,Pp,Ap;Tp=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};$a=function(){};Pp=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,In($t.current);var i=null;switch(n){case"input":o=ta(e,o),r=ta(e,r),i=[];break;case"select":o=Ce({},o,{value:void 0}),r=Ce({},r,{value:void 0}),i=[];break;case"textarea":o=oa(e,o),r=oa(e,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=is)}sa(n,r);var s;n=null;for(u in o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var l=o[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(uo.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var a=r[u];if(l=o!=null?o[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(s in l)!l.hasOwnProperty(s)||a&&a.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in a)a.hasOwnProperty(s)&&l[s]!==a[s]&&(n||(n={}),n[s]=a[s])}else n||(i||(i=[]),i.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(i=i||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(uo.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&ye("scroll",e),i||l===a||(i=[])):(i=i||[]).push(u,a))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Ap=function(e,t,n,r){n!==r&&(t.flags|=4)};function Vr(e,t){if(!we)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ze(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ix(e,t,n){var r=t.pendingProps;switch(Nu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(t),null;case 1:return Ke(t.type)&&ss(),ze(t),null;case 3:return r=t.stateNode,wr(),xe(Qe),xe(Fe),Au(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(vi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,vt!==null&&(Ha(vt),vt=null))),$a(e,t),ze(t),null;case 5:Pu(t);var o=In(So.current);if(n=t.type,e!==null&&t.stateNode!=null)Pp(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(U(166));return ze(t),null}if(e=In($t.current),vi(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Pt]=t,r[wo]=i,e=(t.mode&1)!==0,n){case"dialog":ye("cancel",r),ye("close",r);break;case"iframe":case"object":case"embed":ye("load",r);break;case"video":case"audio":for(o=0;o<Qr.length;o++)ye(Qr[o],r);break;case"source":ye("error",r);break;case"img":case"image":case"link":ye("error",r),ye("load",r);break;case"details":ye("toggle",r);break;case"input":Mc(r,i),ye("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ye("invalid",r);break;case"textarea":Ic(r,i),ye("invalid",r)}sa(n,i),o=null;for(var s in i)if(i.hasOwnProperty(s)){var l=i[s];s==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&xi(r.textContent,l,e),o=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&xi(r.textContent,l,e),o=["children",""+l]):uo.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&ye("scroll",r)}switch(n){case"input":ci(r),jc(r,i,!0);break;case"textarea":ci(r),Tc(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=is)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=sh(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Pt]=t,e[wo]=r,Tp(e,t,!1,!1),t.stateNode=e;e:{switch(s=la(n,r),n){case"dialog":ye("cancel",e),ye("close",e),o=r;break;case"iframe":case"object":case"embed":ye("load",e),o=r;break;case"video":case"audio":for(o=0;o<Qr.length;o++)ye(Qr[o],e);o=r;break;case"source":ye("error",e),o=r;break;case"img":case"image":case"link":ye("error",e),ye("load",e),o=r;break;case"details":ye("toggle",e),o=r;break;case"input":Mc(e,r),o=ta(e,r),ye("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=Ce({},r,{value:void 0}),ye("invalid",e);break;case"textarea":Ic(e,r),o=oa(e,r),ye("invalid",e);break;default:o=r}sa(n,o),l=o;for(i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="style"?uh(e,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&lh(e,a)):i==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&co(e,a):typeof a=="number"&&co(e,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(uo.hasOwnProperty(i)?a!=null&&i==="onScroll"&&ye("scroll",e):a!=null&&au(e,i,a,s))}switch(n){case"input":ci(e),jc(e,r,!1);break;case"textarea":ci(e),Tc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+xn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?ar(e,!!r.multiple,i,!1):r.defaultValue!=null&&ar(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=is)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ze(t),null;case 6:if(e&&t.stateNode!=null)Ap(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(U(166));if(n=In(So.current),In($t.current),vi(t)){if(r=t.stateNode,n=t.memoizedProps,r[Pt]=t,(i=r.nodeValue!==n)&&(e=tt,e!==null))switch(e.tag){case 3:xi(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&xi(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Pt]=t,t.stateNode=r}return ze(t),null;case 13:if(xe(Ne),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(we&&et!==null&&t.mode&1&&!(t.flags&128))Kh(),xr(),t.flags|=98560,i=!1;else if(i=vi(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(U(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(U(317));i[Pt]=t}else xr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ze(t),i=!1}else vt!==null&&(Ha(vt),vt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ne.current&1?Pe===0&&(Pe=3):Uu())),t.updateQueue!==null&&(t.flags|=4),ze(t),null);case 4:return wr(),$a(e,t),e===null&&xo(t.stateNode.containerInfo),ze(t),null;case 10:return Mu(t.type._context),ze(t),null;case 17:return Ke(t.type)&&ss(),ze(t),null;case 19:if(xe(Ne),i=t.memoizedState,i===null)return ze(t),null;if(r=(t.flags&128)!==0,s=i.rendering,s===null)if(r)Vr(i,!1);else{if(Pe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=hs(e),s!==null){for(t.flags|=128,Vr(i,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ge(Ne,Ne.current&1|2),t.child}e=e.sibling}i.tail!==null&&Me()>Sr&&(t.flags|=128,r=!0,Vr(i,!1),t.lanes=4194304)}else{if(!r)if(e=hs(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Vr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!we)return ze(t),null}else 2*Me()-i.renderingStartTime>Sr&&n!==1073741824&&(t.flags|=128,r=!0,Vr(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(n=i.last,n!==null?n.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Me(),t.sibling=null,n=Ne.current,ge(Ne,r?n&1|2:n&1),t):(ze(t),null);case 22:case 23:return Bu(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?qe&1073741824&&(ze(t),t.subtreeFlags&6&&(t.flags|=8192)):ze(t),null;case 24:return null;case 25:return null}throw Error(U(156,t.tag))}function Tx(e,t){switch(Nu(t),t.tag){case 1:return Ke(t.type)&&ss(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return wr(),xe(Qe),xe(Fe),Au(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Pu(t),null;case 13:if(xe(Ne),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(U(340));xr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return xe(Ne),null;case 4:return wr(),null;case 10:return Mu(t.type._context),null;case 22:case 23:return Bu(),null;case 24:return null;default:return null}}var Si=!1,Oe=!1,Px=typeof WeakSet=="function"?WeakSet:Set,Z=null;function or(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ke(e,t,r)}else n.current=null}function ba(e,t,n){try{n()}catch(r){ke(e,t,r)}}var vd=!1;function Ax(e,t){if(ya=ns,e=Dh(),_u(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,l=-1,a=-1,u=0,f=0,c=e,d=null;t:for(;;){for(var x;c!==n||o!==0&&c.nodeType!==3||(l=s+o),c!==i||r!==0&&c.nodeType!==3||(a=s+r),c.nodeType===3&&(s+=c.nodeValue.length),(x=c.firstChild)!==null;)d=c,c=x;for(;;){if(c===e)break t;if(d===n&&++u===o&&(l=s),d===i&&++f===r&&(a=s),(x=c.nextSibling)!==null)break;c=d,d=c.parentNode}c=x}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(xa={focusedElem:e,selectionRange:n},ns=!1,Z=t;Z!==null;)if(t=Z,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Z=e;else for(;Z!==null;){t=Z;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var w=g.memoizedProps,_=g.memoizedState,m=t.stateNode,y=m.getSnapshotBeforeUpdate(t.elementType===t.type?w:gt(t.type,w),_);m.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var h=t.stateNode.containerInfo;h.nodeType===1?h.textContent="":h.nodeType===9&&h.documentElement&&h.removeChild(h.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(v){ke(t,t.return,v)}if(e=t.sibling,e!==null){e.return=t.return,Z=e;break}Z=t.return}return g=vd,vd=!1,g}function oo(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,i!==void 0&&ba(t,n,i)}o=o.next}while(o!==r)}}function Hs(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function La(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function $p(e){var t=e.alternate;t!==null&&(e.alternate=null,$p(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Pt],delete t[wo],delete t[_a],delete t[px],delete t[mx])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function bp(e){return e.tag===5||e.tag===3||e.tag===4}function wd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||bp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ra(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=is));else if(r!==4&&(e=e.child,e!==null))for(Ra(e,t,n),e=e.sibling;e!==null;)Ra(e,t,n),e=e.sibling}function Da(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Da(e,t,n),e=e.sibling;e!==null;)Da(e,t,n),e=e.sibling}var be=null,yt=!1;function qt(e,t,n){for(n=n.child;n!==null;)Lp(e,t,n),n=n.sibling}function Lp(e,t,n){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount($s,n)}catch{}switch(n.tag){case 5:Oe||or(n,t);case 6:var r=be,o=yt;be=null,qt(e,t,n),be=r,yt=o,be!==null&&(yt?(e=be,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):be.removeChild(n.stateNode));break;case 18:be!==null&&(yt?(e=be,n=n.stateNode,e.nodeType===8?Il(e.parentNode,n):e.nodeType===1&&Il(e,n),mo(e)):Il(be,n.stateNode));break;case 4:r=be,o=yt,be=n.stateNode.containerInfo,yt=!0,qt(e,t,n),be=r,yt=o;break;case 0:case 11:case 14:case 15:if(!Oe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&ba(n,t,s),o=o.next}while(o!==r)}qt(e,t,n);break;case 1:if(!Oe&&(or(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ke(n,t,l)}qt(e,t,n);break;case 21:qt(e,t,n);break;case 22:n.mode&1?(Oe=(r=Oe)||n.memoizedState!==null,qt(e,t,n),Oe=r):qt(e,t,n);break;default:qt(e,t,n)}}function _d(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Px),t.forEach(function(r){var o=Hx.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function mt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=e,s=t,l=s;e:for(;l!==null;){switch(l.tag){case 5:be=l.stateNode,yt=!1;break e;case 3:be=l.stateNode.containerInfo,yt=!0;break e;case 4:be=l.stateNode.containerInfo,yt=!0;break e}l=l.return}if(be===null)throw Error(U(160));Lp(i,s,o),be=null,yt=!1;var a=o.alternate;a!==null&&(a.return=null),o.return=null}catch(u){ke(o,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Rp(t,e),t=t.sibling}function Rp(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mt(t,e),jt(e),r&4){try{oo(3,e,e.return),Hs(3,e)}catch(w){ke(e,e.return,w)}try{oo(5,e,e.return)}catch(w){ke(e,e.return,w)}}break;case 1:mt(t,e),jt(e),r&512&&n!==null&&or(n,n.return);break;case 5:if(mt(t,e),jt(e),r&512&&n!==null&&or(n,n.return),e.flags&32){var o=e.stateNode;try{co(o,"")}catch(w){ke(e,e.return,w)}}if(r&4&&(o=e.stateNode,o!=null)){var i=e.memoizedProps,s=n!==null?n.memoizedProps:i,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&oh(o,i),la(l,s);var u=la(l,i);for(s=0;s<a.length;s+=2){var f=a[s],c=a[s+1];f==="style"?uh(o,c):f==="dangerouslySetInnerHTML"?lh(o,c):f==="children"?co(o,c):au(o,f,c,u)}switch(l){case"input":na(o,i);break;case"textarea":ih(o,i);break;case"select":var d=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var x=i.value;x!=null?ar(o,!!i.multiple,x,!1):d!==!!i.multiple&&(i.defaultValue!=null?ar(o,!!i.multiple,i.defaultValue,!0):ar(o,!!i.multiple,i.multiple?[]:"",!1))}o[wo]=i}catch(w){ke(e,e.return,w)}}break;case 6:if(mt(t,e),jt(e),r&4){if(e.stateNode===null)throw Error(U(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(w){ke(e,e.return,w)}}break;case 3:if(mt(t,e),jt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{mo(t.containerInfo)}catch(w){ke(e,e.return,w)}break;case 4:mt(t,e),jt(e);break;case 13:mt(t,e),jt(e),o=e.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(Hu=Me())),r&4&&_d(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(Oe=(u=Oe)||f,mt(t,e),Oe=u):mt(t,e),jt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(Z=e,f=e.child;f!==null;){for(c=Z=f;Z!==null;){switch(d=Z,x=d.child,d.tag){case 0:case 11:case 14:case 15:oo(4,d,d.return);break;case 1:or(d,d.return);var g=d.stateNode;if(typeof g.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(w){ke(r,n,w)}}break;case 5:or(d,d.return);break;case 22:if(d.memoizedState!==null){Nd(c);continue}}x!==null?(x.return=d,Z=x):Nd(c)}f=f.sibling}e:for(f=null,c=e;;){if(c.tag===5){if(f===null){f=c;try{o=c.stateNode,u?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=c.stateNode,a=c.memoizedProps.style,s=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=ah("display",s))}catch(w){ke(e,e.return,w)}}}else if(c.tag===6){if(f===null)try{c.stateNode.nodeValue=u?"":c.memoizedProps}catch(w){ke(e,e.return,w)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===e)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===e)break e;for(;c.sibling===null;){if(c.return===null||c.return===e)break e;f===c&&(f=null),c=c.return}f===c&&(f=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:mt(t,e),jt(e),r&4&&_d(e);break;case 21:break;default:mt(t,e),jt(e)}}function jt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(bp(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(co(o,""),r.flags&=-33);var i=wd(e);Da(e,i,o);break;case 3:case 4:var s=r.stateNode.containerInfo,l=wd(e);Ra(e,l,s);break;default:throw Error(U(161))}}catch(a){ke(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function $x(e,t,n){Z=e,Dp(e)}function Dp(e,t,n){for(var r=(e.mode&1)!==0;Z!==null;){var o=Z,i=o.child;if(o.tag===22&&r){var s=o.memoizedState!==null||Si;if(!s){var l=o.alternate,a=l!==null&&l.memoizedState!==null||Oe;l=Si;var u=Oe;if(Si=s,(Oe=a)&&!u)for(Z=o;Z!==null;)s=Z,a=s.child,s.tag===22&&s.memoizedState!==null?Ed(o):a!==null?(a.return=s,Z=a):Ed(o);for(;i!==null;)Z=i,Dp(i),i=i.sibling;Z=o,Si=l,Oe=u}Sd(e)}else o.subtreeFlags&8772&&i!==null?(i.return=o,Z=i):Sd(e)}}function Sd(e){for(;Z!==null;){var t=Z;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Oe||Hs(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Oe)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:gt(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&sd(t,i,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}sd(t,s,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var c=f.dehydrated;c!==null&&mo(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}Oe||t.flags&512&&La(t)}catch(d){ke(t,t.return,d)}}if(t===e){Z=null;break}if(n=t.sibling,n!==null){n.return=t.return,Z=n;break}Z=t.return}}function Nd(e){for(;Z!==null;){var t=Z;if(t===e){Z=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Z=n;break}Z=t.return}}function Ed(e){for(;Z!==null;){var t=Z;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Hs(4,t)}catch(a){ke(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(a){ke(t,o,a)}}var i=t.return;try{La(t)}catch(a){ke(t,i,a)}break;case 5:var s=t.return;try{La(t)}catch(a){ke(t,s,a)}}}catch(a){ke(t,t.return,a)}if(t===e){Z=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Z=l;break}Z=t.return}}var bx=Math.ceil,gs=Qt.ReactCurrentDispatcher,Ou=Qt.ReactCurrentOwner,dt=Qt.ReactCurrentBatchConfig,pe=0,$e=null,je=null,Le=0,qe=0,ir=_n(0),Pe=0,ko=null,zn=0,Vs=0,Fu=0,io=null,Ye=null,Hu=0,Sr=1/0,zt=null,ys=!1,za=null,pn=null,Ni=!1,an=null,xs=0,so=0,Oa=null,Bi=-1,Ui=0;function Be(){return pe&6?Me():Bi!==-1?Bi:Bi=Me()}function mn(e){return e.mode&1?pe&2&&Le!==0?Le&-Le:yx.transition!==null?(Ui===0&&(Ui=_h()),Ui):(e=me,e!==0||(e=window.event,e=e===void 0?16:jh(e.type)),e):1}function Et(e,t,n,r){if(50<so)throw so=0,Oa=null,Error(U(185));Do(e,n,r),(!(pe&2)||e!==$e)&&(e===$e&&(!(pe&2)&&(Vs|=n),Pe===4&&on(e,Le)),Ze(e,r),n===1&&pe===0&&!(t.mode&1)&&(Sr=Me()+500,zs&&Sn()))}function Ze(e,t){var n=e.callbackNode;yy(e,t);var r=ts(e,e===$e?Le:0);if(r===0)n!==null&&$c(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&$c(n),t===1)e.tag===0?gx(Cd.bind(null,e)):Xh(Cd.bind(null,e)),fx(function(){!(pe&6)&&Sn()}),n=null;else{switch(Sh(r)){case 1:n=hu;break;case 4:n=vh;break;case 16:n=es;break;case 536870912:n=wh;break;default:n=es}n=Wp(n,zp.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function zp(e,t){if(Bi=-1,Ui=0,pe&6)throw Error(U(327));var n=e.callbackNode;if(hr()&&e.callbackNode!==n)return null;var r=ts(e,e===$e?Le:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=vs(e,r);else{t=r;var o=pe;pe|=2;var i=Fp();($e!==e||Le!==t)&&(zt=null,Sr=Me()+500,Pn(e,t));do try{Dx();break}catch(l){Op(e,l)}while(!0);ku(),gs.current=i,pe=o,je!==null?t=0:($e=null,Le=0,t=Pe)}if(t!==0){if(t===2&&(o=fa(e),o!==0&&(r=o,t=Fa(e,o))),t===1)throw n=ko,Pn(e,0),on(e,r),Ze(e,Me()),n;if(t===6)on(e,r);else{if(o=e.current.alternate,!(r&30)&&!Lx(o)&&(t=vs(e,r),t===2&&(i=fa(e),i!==0&&(r=i,t=Fa(e,i))),t===1))throw n=ko,Pn(e,0),on(e,r),Ze(e,Me()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(U(345));case 2:Cn(e,Ye,zt);break;case 3:if(on(e,r),(r&130023424)===r&&(t=Hu+500-Me(),10<t)){if(ts(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){Be(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=wa(Cn.bind(null,e,Ye,zt),t);break}Cn(e,Ye,zt);break;case 4:if(on(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var s=31-Nt(r);i=1<<s,s=t[s],s>o&&(o=s),r&=~i}if(r=o,r=Me()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*bx(r/1960))-r,10<r){e.timeoutHandle=wa(Cn.bind(null,e,Ye,zt),r);break}Cn(e,Ye,zt);break;case 5:Cn(e,Ye,zt);break;default:throw Error(U(329))}}}return Ze(e,Me()),e.callbackNode===n?zp.bind(null,e):null}function Fa(e,t){var n=io;return e.current.memoizedState.isDehydrated&&(Pn(e,t).flags|=256),e=vs(e,t),e!==2&&(t=Ye,Ye=n,t!==null&&Ha(t)),e}function Ha(e){Ye===null?Ye=e:Ye.push.apply(Ye,e)}function Lx(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!Ct(i(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function on(e,t){for(t&=~Fu,t&=~Vs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Nt(t),r=1<<n;e[n]=-1,t&=~r}}function Cd(e){if(pe&6)throw Error(U(327));hr();var t=ts(e,0);if(!(t&1))return Ze(e,Me()),null;var n=vs(e,t);if(e.tag!==0&&n===2){var r=fa(e);r!==0&&(t=r,n=Fa(e,r))}if(n===1)throw n=ko,Pn(e,0),on(e,t),Ze(e,Me()),n;if(n===6)throw Error(U(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Cn(e,Ye,zt),Ze(e,Me()),null}function Vu(e,t){var n=pe;pe|=1;try{return e(t)}finally{pe=n,pe===0&&(Sr=Me()+500,zs&&Sn())}}function On(e){an!==null&&an.tag===0&&!(pe&6)&&hr();var t=pe;pe|=1;var n=dt.transition,r=me;try{if(dt.transition=null,me=1,e)return e()}finally{me=r,dt.transition=n,pe=t,!(pe&6)&&Sn()}}function Bu(){qe=ir.current,xe(ir)}function Pn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,dx(n)),je!==null)for(n=je.return;n!==null;){var r=n;switch(Nu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ss();break;case 3:wr(),xe(Qe),xe(Fe),Au();break;case 5:Pu(r);break;case 4:wr();break;case 13:xe(Ne);break;case 19:xe(Ne);break;case 10:Mu(r.type._context);break;case 22:case 23:Bu()}n=n.return}if($e=e,je=e=gn(e.current,null),Le=qe=t,Pe=0,ko=null,Fu=Vs=zn=0,Ye=io=null,jn!==null){for(t=0;t<jn.length;t++)if(n=jn[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var s=i.next;i.next=o,r.next=s}n.pending=r}jn=null}return e}function Op(e,t){do{var n=je;try{if(ku(),Fi.current=ms,ps){for(var r=Ee.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}ps=!1}if(Dn=0,Ae=Te=Ee=null,ro=!1,No=0,Ou.current=null,n===null||n.return===null){Pe=1,ko=t,je=null;break}e:{var i=e,s=n.return,l=n,a=t;if(t=Le,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,f=l,c=f.tag;if(!(f.mode&1)&&(c===0||c===11||c===15)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var x=fd(s);if(x!==null){x.flags&=-257,hd(x,s,l,i,t),x.mode&1&&dd(i,u,t),t=x,a=u;var g=t.updateQueue;if(g===null){var w=new Set;w.add(a),t.updateQueue=w}else g.add(a);break e}else{if(!(t&1)){dd(i,u,t),Uu();break e}a=Error(U(426))}}else if(we&&l.mode&1){var _=fd(s);if(_!==null){!(_.flags&65536)&&(_.flags|=256),hd(_,s,l,i,t),Eu(_r(a,l));break e}}i=a=_r(a,l),Pe!==4&&(Pe=2),io===null?io=[i]:io.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var m=Sp(i,a,t);id(i,m);break e;case 1:l=a;var y=i.type,h=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(pn===null||!pn.has(h)))){i.flags|=65536,t&=-t,i.lanes|=t;var v=Np(i,l,t);id(i,v);break e}}i=i.return}while(i!==null)}Vp(n)}catch(N){t=N,je===n&&n!==null&&(je=n=n.return);continue}break}while(!0)}function Fp(){var e=gs.current;return gs.current=ms,e===null?ms:e}function Uu(){(Pe===0||Pe===3||Pe===2)&&(Pe=4),$e===null||!(zn&268435455)&&!(Vs&268435455)||on($e,Le)}function vs(e,t){var n=pe;pe|=2;var r=Fp();($e!==e||Le!==t)&&(zt=null,Pn(e,t));do try{Rx();break}catch(o){Op(e,o)}while(!0);if(ku(),pe=n,gs.current=r,je!==null)throw Error(U(261));return $e=null,Le=0,Pe}function Rx(){for(;je!==null;)Hp(je)}function Dx(){for(;je!==null&&!ay();)Hp(je)}function Hp(e){var t=Up(e.alternate,e,qe);e.memoizedProps=e.pendingProps,t===null?Vp(e):je=t,Ou.current=null}function Vp(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Tx(n,t),n!==null){n.flags&=32767,je=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Pe=6,je=null;return}}else if(n=Ix(n,t,qe),n!==null){je=n;return}if(t=t.sibling,t!==null){je=t;return}je=t=e}while(t!==null);Pe===0&&(Pe=5)}function Cn(e,t,n){var r=me,o=dt.transition;try{dt.transition=null,me=1,zx(e,t,n,r)}finally{dt.transition=o,me=r}return null}function zx(e,t,n,r){do hr();while(an!==null);if(pe&6)throw Error(U(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(U(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(xy(e,i),e===$e&&(je=$e=null,Le=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ni||(Ni=!0,Wp(es,function(){return hr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=dt.transition,dt.transition=null;var s=me;me=1;var l=pe;pe|=4,Ou.current=null,Ax(e,n),Rp(n,e),ox(xa),ns=!!ya,xa=ya=null,e.current=n,$x(n),uy(),pe=l,me=s,dt.transition=i}else e.current=n;if(Ni&&(Ni=!1,an=e,xs=o),i=e.pendingLanes,i===0&&(pn=null),fy(n.stateNode),Ze(e,Me()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(ys)throw ys=!1,e=za,za=null,e;return xs&1&&e.tag!==0&&hr(),i=e.pendingLanes,i&1?e===Oa?so++:(so=0,Oa=e):so=0,Sn(),null}function hr(){if(an!==null){var e=Sh(xs),t=dt.transition,n=me;try{if(dt.transition=null,me=16>e?16:e,an===null)var r=!1;else{if(e=an,an=null,xs=0,pe&6)throw Error(U(331));var o=pe;for(pe|=4,Z=e.current;Z!==null;){var i=Z,s=i.child;if(Z.flags&16){var l=i.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(Z=u;Z!==null;){var f=Z;switch(f.tag){case 0:case 11:case 15:oo(8,f,i)}var c=f.child;if(c!==null)c.return=f,Z=c;else for(;Z!==null;){f=Z;var d=f.sibling,x=f.return;if($p(f),f===u){Z=null;break}if(d!==null){d.return=x,Z=d;break}Z=x}}}var g=i.alternate;if(g!==null){var w=g.child;if(w!==null){g.child=null;do{var _=w.sibling;w.sibling=null,w=_}while(w!==null)}}Z=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,Z=s;else e:for(;Z!==null;){if(i=Z,i.flags&2048)switch(i.tag){case 0:case 11:case 15:oo(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,Z=m;break e}Z=i.return}}var y=e.current;for(Z=y;Z!==null;){s=Z;var h=s.child;if(s.subtreeFlags&2064&&h!==null)h.return=s,Z=h;else e:for(s=y;Z!==null;){if(l=Z,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Hs(9,l)}}catch(N){ke(l,l.return,N)}if(l===s){Z=null;break e}var v=l.sibling;if(v!==null){v.return=l.return,Z=v;break e}Z=l.return}}if(pe=o,Sn(),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot($s,e)}catch{}r=!0}return r}finally{me=n,dt.transition=t}}return!1}function kd(e,t,n){t=_r(n,t),t=Sp(e,t,1),e=hn(e,t,1),t=Be(),e!==null&&(Do(e,1,t),Ze(e,t))}function ke(e,t,n){if(e.tag===3)kd(e,e,n);else for(;t!==null;){if(t.tag===3){kd(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(pn===null||!pn.has(r))){e=_r(n,e),e=Np(t,e,1),t=hn(t,e,1),e=Be(),t!==null&&(Do(t,1,e),Ze(t,e));break}}t=t.return}}function Ox(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Be(),e.pingedLanes|=e.suspendedLanes&n,$e===e&&(Le&n)===n&&(Pe===4||Pe===3&&(Le&130023424)===Le&&500>Me()-Hu?Pn(e,0):Fu|=n),Ze(e,t)}function Bp(e,t){t===0&&(e.mode&1?(t=hi,hi<<=1,!(hi&130023424)&&(hi=4194304)):t=1);var n=Be();e=Yt(e,t),e!==null&&(Do(e,t,n),Ze(e,n))}function Fx(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Bp(e,n)}function Hx(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(t),Bp(e,n)}var Up;Up=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Qe.current)Xe=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Xe=!1,jx(e,t,n);Xe=!!(e.flags&131072)}else Xe=!1,we&&t.flags&1048576&&Gh(t,us,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Vi(e,t),e=t.pendingProps;var o=yr(t,Fe.current);fr(t,n),o=bu(null,t,r,e,o,n);var i=Lu();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ke(r)?(i=!0,ls(t)):i=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Iu(t),o.updater=Fs,t.stateNode=o,o._reactInternals=t,Ma(t,r,e,n),t=Ta(null,t,r,!0,i,n)):(t.tag=0,we&&i&&Su(t),He(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Vi(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=Bx(r),e=gt(r,e),o){case 0:t=Ia(null,t,r,e,n);break e;case 1:t=gd(null,t,r,e,n);break e;case 11:t=pd(null,t,r,e,n);break e;case 14:t=md(null,t,r,gt(r.type,e),n);break e}throw Error(U(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:gt(r,o),Ia(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:gt(r,o),gd(e,t,r,o,n);case 3:e:{if(Mp(t),e===null)throw Error(U(387));r=t.pendingProps,i=t.memoizedState,o=i.element,ep(e,t),fs(t,r,null,n);var s=t.memoizedState;if(r=s.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){o=_r(Error(U(423)),t),t=yd(e,t,r,n,o);break e}else if(r!==o){o=_r(Error(U(424)),t),t=yd(e,t,r,n,o);break e}else for(et=fn(t.stateNode.containerInfo.firstChild),tt=t,we=!0,vt=null,n=qh(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(xr(),r===o){t=Xt(e,t,n);break e}He(e,t,r,n)}t=t.child}return t;case 5:return tp(t),e===null&&Ea(t),r=t.type,o=t.pendingProps,i=e!==null?e.memoizedProps:null,s=o.children,va(r,o)?s=null:i!==null&&va(r,i)&&(t.flags|=32),kp(e,t),He(e,t,s,n),t.child;case 6:return e===null&&Ea(t),null;case 13:return jp(e,t,n);case 4:return Tu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=vr(t,null,r,n):He(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:gt(r,o),pd(e,t,r,o,n);case 7:return He(e,t,t.pendingProps,n),t.child;case 8:return He(e,t,t.pendingProps.children,n),t.child;case 12:return He(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,i=t.memoizedProps,s=o.value,ge(cs,r._currentValue),r._currentValue=s,i!==null)if(Ct(i.value,s)){if(i.children===o.children&&!Qe.current){t=Xt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){s=i.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(i.tag===1){a=Bt(-1,n&-n),a.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?a.next=a:(a.next=f.next,f.next=a),u.pending=a}}i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),Ca(i.return,n,t),l.lanes|=n;break}a=a.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(U(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Ca(s,n,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}He(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,fr(t,n),o=ft(o),r=r(o),t.flags|=1,He(e,t,r,n),t.child;case 14:return r=t.type,o=gt(r,t.pendingProps),o=gt(r.type,o),md(e,t,r,o,n);case 15:return Ep(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:gt(r,o),Vi(e,t),t.tag=1,Ke(r)?(e=!0,ls(t)):e=!1,fr(t,n),_p(t,r,o),Ma(t,r,o,n),Ta(null,t,r,!0,e,n);case 19:return Ip(e,t,n);case 22:return Cp(e,t,n)}throw Error(U(156,t.tag))};function Wp(e,t){return xh(e,t)}function Vx(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ct(e,t,n,r){return new Vx(e,t,n,r)}function Wu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Bx(e){if(typeof e=="function")return Wu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===cu)return 11;if(e===du)return 14}return 2}function gn(e,t){var n=e.alternate;return n===null?(n=ct(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Wi(e,t,n,r,o,i){var s=2;if(r=e,typeof e=="function")Wu(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Qn:return An(n.children,o,i,t);case uu:s=8,o|=8;break;case Zl:return e=ct(12,n,t,o|2),e.elementType=Zl,e.lanes=i,e;case ql:return e=ct(13,n,t,o),e.elementType=ql,e.lanes=i,e;case Jl:return e=ct(19,n,t,o),e.elementType=Jl,e.lanes=i,e;case th:return Bs(n,o,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Jf:s=10;break e;case eh:s=9;break e;case cu:s=11;break e;case du:s=14;break e;case tn:s=16,r=null;break e}throw Error(U(130,e==null?e:typeof e,""))}return t=ct(s,n,t,o),t.elementType=e,t.type=r,t.lanes=i,t}function An(e,t,n,r){return e=ct(7,e,r,t),e.lanes=n,e}function Bs(e,t,n,r){return e=ct(22,e,r,t),e.elementType=th,e.lanes=n,e.stateNode={isHidden:!1},e}function Dl(e,t,n){return e=ct(6,e,null,t),e.lanes=n,e}function zl(e,t,n){return t=ct(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ux(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xl(0),this.expirationTimes=xl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xl(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Yu(e,t,n,r,o,i,s,l,a){return e=new Ux(e,t,n,l,a),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ct(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Iu(i),e}function Wx(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Gn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Yp(e){if(!e)return vn;e=e._reactInternals;e:{if(Wn(e)!==e||e.tag!==1)throw Error(U(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ke(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(U(171))}if(e.tag===1){var n=e.type;if(Ke(n))return Yh(e,n,t)}return t}function Xp(e,t,n,r,o,i,s,l,a){return e=Yu(n,r,!0,e,o,i,s,l,a),e.context=Yp(null),n=e.current,r=Be(),o=mn(n),i=Bt(r,o),i.callback=t??null,hn(n,i,o),e.current.lanes=o,Do(e,o,r),Ze(e,r),e}function Us(e,t,n,r){var o=t.current,i=Be(),s=mn(o);return n=Yp(n),t.context===null?t.context=n:t.pendingContext=n,t=Bt(i,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=hn(o,t,s),e!==null&&(Et(e,o,s,i),Oi(e,o,s)),s}function ws(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Md(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Xu(e,t){Md(e,t),(e=e.alternate)&&Md(e,t)}function Yx(){return null}var Gp=typeof reportError=="function"?reportError:function(e){console.error(e)};function Gu(e){this._internalRoot=e}Ws.prototype.render=Gu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(U(409));Us(e,t,null,null)};Ws.prototype.unmount=Gu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;On(function(){Us(null,e,null,null)}),t[Wt]=null}};function Ws(e){this._internalRoot=e}Ws.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ch();e={blockedOn:null,target:e,priority:t};for(var n=0;n<rn.length&&t!==0&&t<rn[n].priority;n++);rn.splice(n,0,e),n===0&&Mh(e)}};function Qu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ys(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function jd(){}function Xx(e,t,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var u=ws(s);i.call(u)}}var s=Xp(t,r,e,0,null,!1,!1,"",jd);return e._reactRootContainer=s,e[Wt]=s.current,xo(e.nodeType===8?e.parentNode:e),On(),s}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var l=r;r=function(){var u=ws(a);l.call(u)}}var a=Yu(e,0,!1,null,null,!1,!1,"",jd);return e._reactRootContainer=a,e[Wt]=a.current,xo(e.nodeType===8?e.parentNode:e),On(function(){Us(t,a,n,r)}),a}function Xs(e,t,n,r,o){var i=n._reactRootContainer;if(i){var s=i;if(typeof o=="function"){var l=o;o=function(){var a=ws(s);l.call(a)}}Us(t,s,e,o)}else s=Xx(n,t,e,o,r);return ws(s)}Nh=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Gr(t.pendingLanes);n!==0&&(pu(t,n|1),Ze(t,Me()),!(pe&6)&&(Sr=Me()+500,Sn()))}break;case 13:On(function(){var r=Yt(e,1);if(r!==null){var o=Be();Et(r,e,1,o)}}),Xu(e,1)}};mu=function(e){if(e.tag===13){var t=Yt(e,134217728);if(t!==null){var n=Be();Et(t,e,134217728,n)}Xu(e,134217728)}};Eh=function(e){if(e.tag===13){var t=mn(e),n=Yt(e,t);if(n!==null){var r=Be();Et(n,e,t,r)}Xu(e,t)}};Ch=function(){return me};kh=function(e,t){var n=me;try{return me=e,t()}finally{me=n}};ua=function(e,t,n){switch(t){case"input":if(na(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=Ds(r);if(!o)throw Error(U(90));rh(r),na(r,o)}}}break;case"textarea":ih(e,n);break;case"select":t=n.value,t!=null&&ar(e,!!n.multiple,t,!1)}};fh=Vu;hh=On;var Gx={usingClientEntryPoint:!1,Events:[Oo,Jn,Ds,ch,dh,Vu]},Br={findFiberByHostInstance:Mn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Qx={bundleType:Br.bundleType,version:Br.version,rendererPackageName:Br.rendererPackageName,rendererConfig:Br.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=gh(e),e===null?null:e.stateNode},findFiberByHostInstance:Br.findFiberByHostInstance||Yx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ei=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ei.isDisabled&&Ei.supportsFiber)try{$s=Ei.inject(Qx),At=Ei}catch{}}ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gx;ot.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qu(t))throw Error(U(200));return Wx(e,t,null,n)};ot.createRoot=function(e,t){if(!Qu(e))throw Error(U(299));var n=!1,r="",o=Gp;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=Yu(e,1,!1,null,null,n,!1,r,o),e[Wt]=t.current,xo(e.nodeType===8?e.parentNode:e),new Gu(t)};ot.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(U(188)):(e=Object.keys(e).join(","),Error(U(268,e)));return e=gh(t),e=e===null?null:e.stateNode,e};ot.flushSync=function(e){return On(e)};ot.hydrate=function(e,t,n){if(!Ys(t))throw Error(U(200));return Xs(null,e,t,!0,n)};ot.hydrateRoot=function(e,t,n){if(!Qu(e))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",s=Gp;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=Xp(t,null,e,1,n??null,o,!1,i,s),e[Wt]=t.current,xo(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Ws(t)};ot.render=function(e,t,n){if(!Ys(t))throw Error(U(200));return Xs(null,e,t,!1,n)};ot.unmountComponentAtNode=function(e){if(!Ys(e))throw Error(U(40));return e._reactRootContainer?(On(function(){Xs(null,null,e,!1,function(){e._reactRootContainer=null,e[Wt]=null})}),!0):!1};ot.unstable_batchedUpdates=Vu;ot.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ys(n))throw Error(U(200));if(e==null||e._reactInternals===void 0)throw Error(U(38));return Xs(e,t,n,!1,r)};ot.version="18.3.1-next-f1338f8080-20240426";function Qp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Qp)}catch(e){console.error(e)}}Qp(),Qf.exports=ot;var Kx=Qf.exports,Id=Kx;Ql.createRoot=Id.createRoot,Ql.hydrateRoot=Id.hydrateRoot;function Ie(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=Ie(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var Zx={value:()=>{}};function Gs(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Yi(n)}function Yi(e){this._=e}function qx(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",o=n.indexOf(".");if(o>=0&&(r=n.slice(o+1),n=n.slice(0,o)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Yi.prototype=Gs.prototype={constructor:Yi,on:function(e,t){var n=this._,r=qx(e+"",n),o,i=-1,s=r.length;if(arguments.length<2){for(;++i<s;)if((o=(e=r[i]).type)&&(o=Jx(n[o],e.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<s;)if(o=(e=r[i]).type)n[o]=Td(n[o],e.name,t);else if(t==null)for(o in n)n[o]=Td(n[o],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Yi(e)},call:function(e,t){if((o=arguments.length-2)>0)for(var n=new Array(o),r=0,o,i;r<o;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],r=0,o=i.length;r<o;++r)i[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,i=r.length;o<i;++o)r[o].value.apply(t,n)}};function Jx(e,t){for(var n=0,r=e.length,o;n<r;++n)if((o=e[n]).name===t)return o.value}function Td(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=Zx,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Va="http://www.w3.org/1999/xhtml";const Pd={svg:"http://www.w3.org/2000/svg",xhtml:Va,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Qs(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Pd.hasOwnProperty(t)?{space:Pd[t],local:e}:e}function ev(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Va&&t.documentElement.namespaceURI===Va?t.createElement(e):t.createElementNS(n,e)}}function tv(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Kp(e){var t=Qs(e);return(t.local?tv:ev)(t)}function nv(){}function Ku(e){return e==null?nv:function(){return this.querySelector(e)}}function rv(e){typeof e!="function"&&(e=Ku(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],s=i.length,l=r[o]=new Array(s),a,u,f=0;f<s;++f)(a=i[f])&&(u=e.call(a,a.__data__,f,i))&&("__data__"in a&&(u.__data__=a.__data__),l[f]=u);return new rt(r,this._parents)}function ov(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function iv(){return[]}function Zp(e){return e==null?iv:function(){return this.querySelectorAll(e)}}function sv(e){return function(){return ov(e.apply(this,arguments))}}function lv(e){typeof e=="function"?e=sv(e):e=Zp(e);for(var t=this._groups,n=t.length,r=[],o=[],i=0;i<n;++i)for(var s=t[i],l=s.length,a,u=0;u<l;++u)(a=s[u])&&(r.push(e.call(a,a.__data__,u,s)),o.push(a));return new rt(r,o)}function qp(e){return function(){return this.matches(e)}}function Jp(e){return function(t){return t.matches(e)}}var av=Array.prototype.find;function uv(e){return function(){return av.call(this.children,e)}}function cv(){return this.firstElementChild}function dv(e){return this.select(e==null?cv:uv(typeof e=="function"?e:Jp(e)))}var fv=Array.prototype.filter;function hv(){return Array.from(this.children)}function pv(e){return function(){return fv.call(this.children,e)}}function mv(e){return this.selectAll(e==null?hv:pv(typeof e=="function"?e:Jp(e)))}function gv(e){typeof e!="function"&&(e=qp(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],s=i.length,l=r[o]=[],a,u=0;u<s;++u)(a=i[u])&&e.call(a,a.__data__,u,i)&&l.push(a);return new rt(r,this._parents)}function em(e){return new Array(e.length)}function yv(){return new rt(this._enter||this._groups.map(em),this._parents)}function _s(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}_s.prototype={constructor:_s,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function xv(e){return function(){return e}}function vv(e,t,n,r,o,i){for(var s=0,l,a=t.length,u=i.length;s<u;++s)(l=t[s])?(l.__data__=i[s],r[s]=l):n[s]=new _s(e,i[s]);for(;s<a;++s)(l=t[s])&&(o[s]=l)}function wv(e,t,n,r,o,i,s){var l,a,u=new Map,f=t.length,c=i.length,d=new Array(f),x;for(l=0;l<f;++l)(a=t[l])&&(d[l]=x=s.call(a,a.__data__,l,t)+"",u.has(x)?o[l]=a:u.set(x,a));for(l=0;l<c;++l)x=s.call(e,i[l],l,i)+"",(a=u.get(x))?(r[l]=a,a.__data__=i[l],u.delete(x)):n[l]=new _s(e,i[l]);for(l=0;l<f;++l)(a=t[l])&&u.get(d[l])===a&&(o[l]=a)}function _v(e){return e.__data__}function Sv(e,t){if(!arguments.length)return Array.from(this,_v);var n=t?wv:vv,r=this._parents,o=this._groups;typeof e!="function"&&(e=xv(e));for(var i=o.length,s=new Array(i),l=new Array(i),a=new Array(i),u=0;u<i;++u){var f=r[u],c=o[u],d=c.length,x=Nv(e.call(f,f&&f.__data__,u,r)),g=x.length,w=l[u]=new Array(g),_=s[u]=new Array(g),m=a[u]=new Array(d);n(f,c,w,_,m,x,t);for(var y=0,h=0,v,N;y<g;++y)if(v=w[y]){for(y>=h&&(h=y+1);!(N=_[h])&&++h<g;);v._next=N||null}}return s=new rt(s,r),s._enter=l,s._exit=a,s}function Nv(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Ev(){return new rt(this._exit||this._groups.map(em),this._parents)}function Cv(e,t,n){var r=this.enter(),o=this,i=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),n==null?i.remove():n(i),r&&o?r.merge(o).order():o}function kv(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,o=n.length,i=r.length,s=Math.min(o,i),l=new Array(o),a=0;a<s;++a)for(var u=n[a],f=r[a],c=u.length,d=l[a]=new Array(c),x,g=0;g<c;++g)(x=u[g]||f[g])&&(d[g]=x);for(;a<o;++a)l[a]=n[a];return new rt(l,this._parents)}function Mv(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],o=r.length-1,i=r[o],s;--o>=0;)(s=r[o])&&(i&&s.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(s,i),i=s);return this}function jv(e){e||(e=Iv);function t(c,d){return c&&d?e(c.__data__,d.__data__):!c-!d}for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var s=n[i],l=s.length,a=o[i]=new Array(l),u,f=0;f<l;++f)(u=s[f])&&(a[f]=u);a.sort(t)}return new rt(o,this._parents).order()}function Iv(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Tv(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Pv(){return Array.from(this)}function Av(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length;o<i;++o){var s=r[o];if(s)return s}return null}function $v(){let e=0;for(const t of this)++e;return e}function bv(){return!this.node()}function Lv(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o=t[n],i=0,s=o.length,l;i<s;++i)(l=o[i])&&e.call(l,l.__data__,i,o);return this}function Rv(e){return function(){this.removeAttribute(e)}}function Dv(e){return function(){this.removeAttributeNS(e.space,e.local)}}function zv(e,t){return function(){this.setAttribute(e,t)}}function Ov(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Fv(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Hv(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Vv(e,t){var n=Qs(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?Dv:Rv:typeof t=="function"?n.local?Hv:Fv:n.local?Ov:zv)(n,t))}function tm(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Bv(e){return function(){this.style.removeProperty(e)}}function Uv(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Wv(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Yv(e,t,n){return arguments.length>1?this.each((t==null?Bv:typeof t=="function"?Wv:Uv)(e,t,n??"")):Nr(this.node(),e)}function Nr(e,t){return e.style.getPropertyValue(t)||tm(e).getComputedStyle(e,null).getPropertyValue(t)}function Xv(e){return function(){delete this[e]}}function Gv(e,t){return function(){this[e]=t}}function Qv(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Kv(e,t){return arguments.length>1?this.each((t==null?Xv:typeof t=="function"?Qv:Gv)(e,t)):this.node()[e]}function nm(e){return e.trim().split(/^|\s+/)}function Zu(e){return e.classList||new rm(e)}function rm(e){this._node=e,this._names=nm(e.getAttribute("class")||"")}rm.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function om(e,t){for(var n=Zu(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function im(e,t){for(var n=Zu(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function Zv(e){return function(){om(this,e)}}function qv(e){return function(){im(this,e)}}function Jv(e,t){return function(){(t.apply(this,arguments)?om:im)(this,e)}}function e1(e,t){var n=nm(e+"");if(arguments.length<2){for(var r=Zu(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each((typeof t=="function"?Jv:t?Zv:qv)(n,t))}function t1(){this.textContent=""}function n1(e){return function(){this.textContent=e}}function r1(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function o1(e){return arguments.length?this.each(e==null?t1:(typeof e=="function"?r1:n1)(e)):this.node().textContent}function i1(){this.innerHTML=""}function s1(e){return function(){this.innerHTML=e}}function l1(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function a1(e){return arguments.length?this.each(e==null?i1:(typeof e=="function"?l1:s1)(e)):this.node().innerHTML}function u1(){this.nextSibling&&this.parentNode.appendChild(this)}function c1(){return this.each(u1)}function d1(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function f1(){return this.each(d1)}function h1(e){var t=typeof e=="function"?e:Kp(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function p1(){return null}function m1(e,t){var n=typeof e=="function"?e:Kp(e),r=t==null?p1:typeof t=="function"?t:Ku(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function g1(){var e=this.parentNode;e&&e.removeChild(this)}function y1(){return this.each(g1)}function x1(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function v1(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function w1(e){return this.select(e?v1:x1)}function _1(e){return arguments.length?this.property("__data__",e):this.node().__data__}function S1(e){return function(t){e.call(this,t,this.__data__)}}function N1(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function E1(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,o=t.length,i;n<o;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++r]=i;++r?t.length=r:delete this.__on}}}function C1(e,t,n){return function(){var r=this.__on,o,i=S1(t);if(r){for(var s=0,l=r.length;s<l;++s)if((o=r[s]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=i,o.options=n),o.value=t;return}}this.addEventListener(e.type,i,n),o={type:e.type,name:e.name,value:t,listener:i,options:n},r?r.push(o):this.__on=[o]}}function k1(e,t,n){var r=N1(e+""),o,i=r.length,s;if(arguments.length<2){var l=this.node().__on;if(l){for(var a=0,u=l.length,f;a<u;++a)for(o=0,f=l[a];o<i;++o)if((s=r[o]).type===f.type&&s.name===f.name)return f.value}return}for(l=t?C1:E1,o=0;o<i;++o)this.each(l(r[o],t,n));return this}function sm(e,t,n){var r=tm(e),o=r.CustomEvent;typeof o=="function"?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function M1(e,t){return function(){return sm(this,e,t)}}function j1(e,t){return function(){return sm(this,e,t.apply(this,arguments))}}function I1(e,t){return this.each((typeof t=="function"?j1:M1)(e,t))}function*T1(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length,s;o<i;++o)(s=r[o])&&(yield s)}var lm=[null];function rt(e,t){this._groups=e,this._parents=t}function Ho(){return new rt([[document.documentElement]],lm)}function P1(){return this}rt.prototype=Ho.prototype={constructor:rt,select:rv,selectAll:lv,selectChild:dv,selectChildren:mv,filter:gv,data:Sv,enter:yv,exit:Ev,join:Cv,merge:kv,selection:P1,order:Mv,sort:jv,call:Tv,nodes:Pv,node:Av,size:$v,empty:bv,each:Lv,attr:Vv,style:Yv,property:Kv,classed:e1,text:o1,html:a1,raise:c1,lower:f1,append:h1,insert:m1,remove:y1,clone:w1,datum:_1,on:k1,dispatch:I1,[Symbol.iterator]:T1};function Je(e){return typeof e=="string"?new rt([[document.querySelector(e)]],[document.documentElement]):new rt([[e]],lm)}function A1(e){let t;for(;t=e.sourceEvent;)e=t;return e}function xt(e,t){if(e=A1(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}const $1={passive:!1},Mo={capture:!0,passive:!1};function Ol(e){e.stopImmediatePropagation()}function pr(e){e.preventDefault(),e.stopImmediatePropagation()}function am(e){var t=e.document.documentElement,n=Je(e).on("dragstart.drag",pr,Mo);"onselectstart"in t?n.on("selectstart.drag",pr,Mo):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function um(e,t){var n=e.document.documentElement,r=Je(e).on("dragstart.drag",null);t&&(r.on("click.drag",pr,Mo),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Ci=e=>()=>e;function Ba(e,{sourceEvent:t,subject:n,target:r,identifier:o,active:i,x:s,y:l,dx:a,dy:u,dispatch:f}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:a,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:f}})}Ba.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function b1(e){return!e.ctrlKey&&!e.button}function L1(){return this.parentNode}function R1(e,t){return t??{x:e.x,y:e.y}}function D1(){return navigator.maxTouchPoints||"ontouchstart"in this}function cm(){var e=b1,t=L1,n=R1,r=D1,o={},i=Gs("start","drag","end"),s=0,l,a,u,f,c=0;function d(v){v.on("mousedown.drag",x).filter(r).on("touchstart.drag",_).on("touchmove.drag",m,$1).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function x(v,N){if(!(f||!e.call(this,v,N))){var S=h(this,t.call(this,v,N),v,N,"mouse");S&&(Je(v.view).on("mousemove.drag",g,Mo).on("mouseup.drag",w,Mo),am(v.view),Ol(v),u=!1,l=v.clientX,a=v.clientY,S("start",v))}}function g(v){if(pr(v),!u){var N=v.clientX-l,S=v.clientY-a;u=N*N+S*S>c}o.mouse("drag",v)}function w(v){Je(v.view).on("mousemove.drag mouseup.drag",null),um(v.view,u),pr(v),o.mouse("end",v)}function _(v,N){if(e.call(this,v,N)){var S=v.changedTouches,M=t.call(this,v,N),j=S.length,$,O;for($=0;$<j;++$)(O=h(this,M,v,N,S[$].identifier,S[$]))&&(Ol(v),O("start",v,S[$]))}}function m(v){var N=v.changedTouches,S=N.length,M,j;for(M=0;M<S;++M)(j=o[N[M].identifier])&&(pr(v),j("drag",v,N[M]))}function y(v){var N=v.changedTouches,S=N.length,M,j;for(f&&clearTimeout(f),f=setTimeout(function(){f=null},500),M=0;M<S;++M)(j=o[N[M].identifier])&&(Ol(v),j("end",v,N[M]))}function h(v,N,S,M,j,$){var O=i.copy(),A=xt($||S,N),L,V,C;if((C=n.call(v,new Ba("beforestart",{sourceEvent:S,target:d,identifier:j,active:s,x:A[0],y:A[1],dx:0,dy:0,dispatch:O}),M))!=null)return L=C.x-A[0]||0,V=C.y-A[1]||0,function T(I,D,E){var k=A,b;switch(I){case"start":o[j]=T,b=s++;break;case"end":delete o[j],--s;case"drag":A=xt(E||D,N),b=s;break}O.call(I,v,new Ba(I,{sourceEvent:D,subject:C,target:d,identifier:j,active:b,x:A[0]+L,y:A[1]+V,dx:A[0]-k[0],dy:A[1]-k[1],dispatch:O}),M)}}return d.filter=function(v){return arguments.length?(e=typeof v=="function"?v:Ci(!!v),d):e},d.container=function(v){return arguments.length?(t=typeof v=="function"?v:Ci(v),d):t},d.subject=function(v){return arguments.length?(n=typeof v=="function"?v:Ci(v),d):n},d.touchable=function(v){return arguments.length?(r=typeof v=="function"?v:Ci(!!v),d):r},d.on=function(){var v=i.on.apply(i,arguments);return v===i?d:v},d.clickDistance=function(v){return arguments.length?(c=(v=+v)*v,d):Math.sqrt(c)},d}function qu(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function dm(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Vo(){}var jo=.7,Ss=1/jo,mr="\\s*([+-]?\\d+)\\s*",Io="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",bt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",z1=/^#([0-9a-f]{3,8})$/,O1=new RegExp(`^rgb\\(${mr},${mr},${mr}\\)$`),F1=new RegExp(`^rgb\\(${bt},${bt},${bt}\\)$`),H1=new RegExp(`^rgba\\(${mr},${mr},${mr},${Io}\\)$`),V1=new RegExp(`^rgba\\(${bt},${bt},${bt},${Io}\\)$`),B1=new RegExp(`^hsl\\(${Io},${bt},${bt}\\)$`),U1=new RegExp(`^hsla\\(${Io},${bt},${bt},${Io}\\)$`),Ad={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};qu(Vo,Fn,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:$d,formatHex:$d,formatHex8:W1,formatHsl:Y1,formatRgb:bd,toString:bd});function $d(){return this.rgb().formatHex()}function W1(){return this.rgb().formatHex8()}function Y1(){return fm(this).formatHsl()}function bd(){return this.rgb().formatRgb()}function Fn(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=z1.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Ld(t):n===3?new Ge(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?ki(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?ki(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=O1.exec(e))?new Ge(t[1],t[2],t[3],1):(t=F1.exec(e))?new Ge(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=H1.exec(e))?ki(t[1],t[2],t[3],t[4]):(t=V1.exec(e))?ki(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=B1.exec(e))?zd(t[1],t[2]/100,t[3]/100,1):(t=U1.exec(e))?zd(t[1],t[2]/100,t[3]/100,t[4]):Ad.hasOwnProperty(e)?Ld(Ad[e]):e==="transparent"?new Ge(NaN,NaN,NaN,0):null}function Ld(e){return new Ge(e>>16&255,e>>8&255,e&255,1)}function ki(e,t,n,r){return r<=0&&(e=t=n=NaN),new Ge(e,t,n,r)}function X1(e){return e instanceof Vo||(e=Fn(e)),e?(e=e.rgb(),new Ge(e.r,e.g,e.b,e.opacity)):new Ge}function Ua(e,t,n,r){return arguments.length===1?X1(e):new Ge(e,t,n,r??1)}function Ge(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}qu(Ge,Ua,dm(Vo,{brighter(e){return e=e==null?Ss:Math.pow(Ss,e),new Ge(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?jo:Math.pow(jo,e),new Ge(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ge($n(this.r),$n(this.g),$n(this.b),Ns(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Rd,formatHex:Rd,formatHex8:G1,formatRgb:Dd,toString:Dd}));function Rd(){return`#${Tn(this.r)}${Tn(this.g)}${Tn(this.b)}`}function G1(){return`#${Tn(this.r)}${Tn(this.g)}${Tn(this.b)}${Tn((isNaN(this.opacity)?1:this.opacity)*255)}`}function Dd(){const e=Ns(this.opacity);return`${e===1?"rgb(":"rgba("}${$n(this.r)}, ${$n(this.g)}, ${$n(this.b)}${e===1?")":`, ${e})`}`}function Ns(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function $n(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Tn(e){return e=$n(e),(e<16?"0":"")+e.toString(16)}function zd(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new wt(e,t,n,r)}function fm(e){if(e instanceof wt)return new wt(e.h,e.s,e.l,e.opacity);if(e instanceof Vo||(e=Fn(e)),!e)return new wt;if(e instanceof wt)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),s=NaN,l=i-o,a=(i+o)/2;return l?(t===i?s=(n-r)/l+(n<r)*6:n===i?s=(r-t)/l+2:s=(t-n)/l+4,l/=a<.5?i+o:2-i-o,s*=60):l=a>0&&a<1?0:s,new wt(s,l,a,e.opacity)}function Q1(e,t,n,r){return arguments.length===1?fm(e):new wt(e,t,n,r??1)}function wt(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}qu(wt,Q1,dm(Vo,{brighter(e){return e=e==null?Ss:Math.pow(Ss,e),new wt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?jo:Math.pow(jo,e),new wt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new Ge(Fl(e>=240?e-240:e+120,o,r),Fl(e,o,r),Fl(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new wt(Od(this.h),Mi(this.s),Mi(this.l),Ns(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ns(this.opacity);return`${e===1?"hsl(":"hsla("}${Od(this.h)}, ${Mi(this.s)*100}%, ${Mi(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Od(e){return e=(e||0)%360,e<0?e+360:e}function Mi(e){return Math.max(0,Math.min(1,e||0))}function Fl(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Ju=e=>()=>e;function K1(e,t){return function(n){return e+n*t}}function Z1(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function q1(e){return(e=+e)==1?hm:function(t,n){return n-t?Z1(t,n,e):Ju(isNaN(t)?n:t)}}function hm(e,t){var n=t-e;return n?K1(e,n):Ju(isNaN(e)?t:e)}const Es=function e(t){var n=q1(t);function r(o,i){var s=n((o=Ua(o)).r,(i=Ua(i)).r),l=n(o.g,i.g),a=n(o.b,i.b),u=hm(o.opacity,i.opacity);return function(f){return o.r=s(f),o.g=l(f),o.b=a(f),o.opacity=u(f),o+""}}return r.gamma=e,r}(1);function J1(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),o;return function(i){for(o=0;o<n;++o)r[o]=e[o]*(1-i)+t[o]*i;return r}}function ew(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function tw(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,o=new Array(r),i=new Array(n),s;for(s=0;s<r;++s)o[s]=lo(e[s],t[s]);for(;s<n;++s)i[s]=t[s];return function(l){for(s=0;s<r;++s)i[s]=o[s](l);return i}}function nw(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Tt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function rw(e,t){var n={},r={},o;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(o in t)o in e?n[o]=lo(e[o],t[o]):r[o]=t[o];return function(i){for(o in n)r[o]=n[o](i);return r}}var Wa=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Hl=new RegExp(Wa.source,"g");function ow(e){return function(){return e}}function iw(e){return function(t){return e(t)+""}}function pm(e,t){var n=Wa.lastIndex=Hl.lastIndex=0,r,o,i,s=-1,l=[],a=[];for(e=e+"",t=t+"";(r=Wa.exec(e))&&(o=Hl.exec(t));)(i=o.index)>n&&(i=t.slice(n,i),l[s]?l[s]+=i:l[++s]=i),(r=r[0])===(o=o[0])?l[s]?l[s]+=o:l[++s]=o:(l[++s]=null,a.push({i:s,x:Tt(r,o)})),n=Hl.lastIndex;return n<t.length&&(i=t.slice(n),l[s]?l[s]+=i:l[++s]=i),l.length<2?a[0]?iw(a[0].x):ow(t):(t=a.length,function(u){for(var f=0,c;f<t;++f)l[(c=a[f]).i]=c.x(u);return l.join("")})}function lo(e,t){var n=typeof t,r;return t==null||n==="boolean"?Ju(t):(n==="number"?Tt:n==="string"?(r=Fn(t))?(t=r,Es):pm:t instanceof Fn?Es:t instanceof Date?nw:ew(t)?J1:Array.isArray(t)?tw:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?rw:Tt)(e,t)}var Fd=180/Math.PI,Ya={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function mm(e,t,n,r,o,i){var s,l,a;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(a=e*n+t*r)&&(n-=e*a,r-=t*a),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,a/=l),e*r<t*n&&(e=-e,t=-t,a=-a,s=-s),{translateX:o,translateY:i,rotate:Math.atan2(t,e)*Fd,skewX:Math.atan(a)*Fd,scaleX:s,scaleY:l}}var ji;function sw(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Ya:mm(t.a,t.b,t.c,t.d,t.e,t.f)}function lw(e){return e==null||(ji||(ji=document.createElementNS("http://www.w3.org/2000/svg","g")),ji.setAttribute("transform",e),!(e=ji.transform.baseVal.consolidate()))?Ya:(e=e.matrix,mm(e.a,e.b,e.c,e.d,e.e,e.f))}function gm(e,t,n,r){function o(u){return u.length?u.pop()+" ":""}function i(u,f,c,d,x,g){if(u!==c||f!==d){var w=x.push("translate(",null,t,null,n);g.push({i:w-4,x:Tt(u,c)},{i:w-2,x:Tt(f,d)})}else(c||d)&&x.push("translate("+c+t+d+n)}function s(u,f,c,d){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),d.push({i:c.push(o(c)+"rotate(",null,r)-2,x:Tt(u,f)})):f&&c.push(o(c)+"rotate("+f+r)}function l(u,f,c,d){u!==f?d.push({i:c.push(o(c)+"skewX(",null,r)-2,x:Tt(u,f)}):f&&c.push(o(c)+"skewX("+f+r)}function a(u,f,c,d,x,g){if(u!==c||f!==d){var w=x.push(o(x)+"scale(",null,",",null,")");g.push({i:w-4,x:Tt(u,c)},{i:w-2,x:Tt(f,d)})}else(c!==1||d!==1)&&x.push(o(x)+"scale("+c+","+d+")")}return function(u,f){var c=[],d=[];return u=e(u),f=e(f),i(u.translateX,u.translateY,f.translateX,f.translateY,c,d),s(u.rotate,f.rotate,c,d),l(u.skewX,f.skewX,c,d),a(u.scaleX,u.scaleY,f.scaleX,f.scaleY,c,d),u=f=null,function(x){for(var g=-1,w=d.length,_;++g<w;)c[(_=d[g]).i]=_.x(x);return c.join("")}}}var aw=gm(sw,"px, ","px)","deg)"),uw=gm(lw,", ",")",")"),cw=1e-12;function Hd(e){return((e=Math.exp(e))+1/e)/2}function dw(e){return((e=Math.exp(e))-1/e)/2}function fw(e){return((e=Math.exp(2*e))-1)/(e+1)}const Xi=function e(t,n,r){function o(i,s){var l=i[0],a=i[1],u=i[2],f=s[0],c=s[1],d=s[2],x=f-l,g=c-a,w=x*x+g*g,_,m;if(w<cw)m=Math.log(d/u)/t,_=function(M){return[l+M*x,a+M*g,u*Math.exp(t*M*m)]};else{var y=Math.sqrt(w),h=(d*d-u*u+r*w)/(2*u*n*y),v=(d*d-u*u-r*w)/(2*d*n*y),N=Math.log(Math.sqrt(h*h+1)-h),S=Math.log(Math.sqrt(v*v+1)-v);m=(S-N)/t,_=function(M){var j=M*m,$=Hd(N),O=u/(n*y)*($*fw(t*j+N)-dw(N));return[l+O*x,a+O*g,u*$/Hd(t*j+N)]}}return _.duration=m*1e3*t/Math.SQRT2,_}return o.rho=function(i){var s=Math.max(.001,+i),l=s*s,a=l*l;return e(s,l,a)},o}(Math.SQRT2,2,4);var Er=0,Kr=0,Ur=0,ym=1e3,Cs,Zr,ks=0,Hn=0,Ks=0,To=typeof performance=="object"&&performance.now?performance:Date,xm=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function ec(){return Hn||(xm(hw),Hn=To.now()+Ks)}function hw(){Hn=0}function Ms(){this._call=this._time=this._next=null}Ms.prototype=vm.prototype={constructor:Ms,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?ec():+n)+(t==null?0:+t),!this._next&&Zr!==this&&(Zr?Zr._next=this:Cs=this,Zr=this),this._call=e,this._time=n,Xa()},stop:function(){this._call&&(this._call=null,this._time=1/0,Xa())}};function vm(e,t,n){var r=new Ms;return r.restart(e,t,n),r}function pw(){ec(),++Er;for(var e=Cs,t;e;)(t=Hn-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Er}function Vd(){Hn=(ks=To.now())+Ks,Er=Kr=0;try{pw()}finally{Er=0,gw(),Hn=0}}function mw(){var e=To.now(),t=e-ks;t>ym&&(Ks-=t,ks=e)}function gw(){for(var e,t=Cs,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Cs=n);Zr=e,Xa(r)}function Xa(e){if(!Er){Kr&&(Kr=clearTimeout(Kr));var t=e-Hn;t>24?(e<1/0&&(Kr=setTimeout(Vd,e-To.now()-Ks)),Ur&&(Ur=clearInterval(Ur))):(Ur||(ks=To.now(),Ur=setInterval(mw,ym)),Er=1,xm(Vd))}}function Bd(e,t,n){var r=new Ms;return t=t==null?0:+t,r.restart(o=>{r.stop(),e(o+t)},t,n),r}var yw=Gs("start","end","cancel","interrupt"),xw=[],wm=0,Ud=1,Ga=2,Gi=3,Wd=4,Qa=5,Qi=6;function Zs(e,t,n,r,o,i){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;vw(e,n,{name:t,index:r,group:o,on:yw,tween:xw,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:wm})}function tc(e,t){var n=kt(e,t);if(n.state>wm)throw new Error("too late; already scheduled");return n}function Rt(e,t){var n=kt(e,t);if(n.state>Gi)throw new Error("too late; already running");return n}function kt(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function vw(e,t,n){var r=e.__transition,o;r[t]=n,n.timer=vm(i,0,n.time);function i(u){n.state=Ud,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)}function s(u){var f,c,d,x;if(n.state!==Ud)return a();for(f in r)if(x=r[f],x.name===n.name){if(x.state===Gi)return Bd(s);x.state===Wd?(x.state=Qi,x.timer.stop(),x.on.call("interrupt",e,e.__data__,x.index,x.group),delete r[f]):+f<t&&(x.state=Qi,x.timer.stop(),x.on.call("cancel",e,e.__data__,x.index,x.group),delete r[f])}if(Bd(function(){n.state===Gi&&(n.state=Wd,n.timer.restart(l,n.delay,n.time),l(u))}),n.state=Ga,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Ga){for(n.state=Gi,o=new Array(d=n.tween.length),f=0,c=-1;f<d;++f)(x=n.tween[f].value.call(e,e.__data__,n.index,n.group))&&(o[++c]=x);o.length=c+1}}function l(u){for(var f=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(a),n.state=Qa,1),c=-1,d=o.length;++c<d;)o[c].call(e,f);n.state===Qa&&(n.on.call("end",e,e.__data__,n.index,n.group),a())}function a(){n.state=Qi,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function Ki(e,t){var n=e.__transition,r,o,i=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){i=!1;continue}o=r.state>Ga&&r.state<Qa,r.state=Qi,r.timer.stop(),r.on.call(o?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}i&&delete e.__transition}}function ww(e){return this.each(function(){Ki(this,e)})}function _w(e,t){var n,r;return function(){var o=Rt(this,e),i=o.tween;if(i!==n){r=n=i;for(var s=0,l=r.length;s<l;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}o.tween=r}}function Sw(e,t,n){var r,o;if(typeof n!="function")throw new Error;return function(){var i=Rt(this,e),s=i.tween;if(s!==r){o=(r=s).slice();for(var l={name:t,value:n},a=0,u=o.length;a<u;++a)if(o[a].name===t){o[a]=l;break}a===u&&o.push(l)}i.tween=o}}function Nw(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=kt(this.node(),n).tween,o=0,i=r.length,s;o<i;++o)if((s=r[o]).name===e)return s.value;return null}return this.each((t==null?_w:Sw)(n,e,t))}function nc(e,t,n){var r=e._id;return e.each(function(){var o=Rt(this,r);(o.value||(o.value={}))[t]=n.apply(this,arguments)}),function(o){return kt(o,r).value[t]}}function _m(e,t){var n;return(typeof t=="number"?Tt:t instanceof Fn?Es:(n=Fn(t))?(t=n,Es):pm)(e,t)}function Ew(e){return function(){this.removeAttribute(e)}}function Cw(e){return function(){this.removeAttributeNS(e.space,e.local)}}function kw(e,t,n){var r,o=n+"",i;return function(){var s=this.getAttribute(e);return s===o?null:s===r?i:i=t(r=s,n)}}function Mw(e,t,n){var r,o=n+"",i;return function(){var s=this.getAttributeNS(e.space,e.local);return s===o?null:s===r?i:i=t(r=s,n)}}function jw(e,t,n){var r,o,i;return function(){var s,l=n(this),a;return l==null?void this.removeAttribute(e):(s=this.getAttribute(e),a=l+"",s===a?null:s===r&&a===o?i:(o=a,i=t(r=s,l)))}}function Iw(e,t,n){var r,o,i;return function(){var s,l=n(this),a;return l==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),a=l+"",s===a?null:s===r&&a===o?i:(o=a,i=t(r=s,l)))}}function Tw(e,t){var n=Qs(e),r=n==="transform"?uw:_m;return this.attrTween(e,typeof t=="function"?(n.local?Iw:jw)(n,r,nc(this,"attr."+e,t)):t==null?(n.local?Cw:Ew)(n):(n.local?Mw:kw)(n,r,t))}function Pw(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function Aw(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function $w(e,t){var n,r;function o(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&Aw(e,i)),n}return o._value=t,o}function bw(e,t){var n,r;function o(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&Pw(e,i)),n}return o._value=t,o}function Lw(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Qs(e);return this.tween(n,(r.local?$w:bw)(r,t))}function Rw(e,t){return function(){tc(this,e).delay=+t.apply(this,arguments)}}function Dw(e,t){return t=+t,function(){tc(this,e).delay=t}}function zw(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Rw:Dw)(t,e)):kt(this.node(),t).delay}function Ow(e,t){return function(){Rt(this,e).duration=+t.apply(this,arguments)}}function Fw(e,t){return t=+t,function(){Rt(this,e).duration=t}}function Hw(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Ow:Fw)(t,e)):kt(this.node(),t).duration}function Vw(e,t){if(typeof t!="function")throw new Error;return function(){Rt(this,e).ease=t}}function Bw(e){var t=this._id;return arguments.length?this.each(Vw(t,e)):kt(this.node(),t).ease}function Uw(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Rt(this,e).ease=n}}function Ww(e){if(typeof e!="function")throw new Error;return this.each(Uw(this._id,e))}function Yw(e){typeof e!="function"&&(e=qp(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],s=i.length,l=r[o]=[],a,u=0;u<s;++u)(a=i[u])&&e.call(a,a.__data__,u,i)&&l.push(a);return new Gt(r,this._parents,this._name,this._id)}function Xw(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,o=n.length,i=Math.min(r,o),s=new Array(r),l=0;l<i;++l)for(var a=t[l],u=n[l],f=a.length,c=s[l]=new Array(f),d,x=0;x<f;++x)(d=a[x]||u[x])&&(c[x]=d);for(;l<r;++l)s[l]=t[l];return new Gt(s,this._parents,this._name,this._id)}function Gw(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function Qw(e,t,n){var r,o,i=Gw(t)?tc:Rt;return function(){var s=i(this,e),l=s.on;l!==r&&(o=(r=l).copy()).on(t,n),s.on=o}}function Kw(e,t){var n=this._id;return arguments.length<2?kt(this.node(),n).on.on(e):this.each(Qw(n,e,t))}function Zw(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function qw(){return this.on("end.remove",Zw(this._id))}function Jw(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Ku(e));for(var r=this._groups,o=r.length,i=new Array(o),s=0;s<o;++s)for(var l=r[s],a=l.length,u=i[s]=new Array(a),f,c,d=0;d<a;++d)(f=l[d])&&(c=e.call(f,f.__data__,d,l))&&("__data__"in f&&(c.__data__=f.__data__),u[d]=c,Zs(u[d],t,n,d,u,kt(f,n)));return new Gt(i,this._parents,t,n)}function e_(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Zp(e));for(var r=this._groups,o=r.length,i=[],s=[],l=0;l<o;++l)for(var a=r[l],u=a.length,f,c=0;c<u;++c)if(f=a[c]){for(var d=e.call(f,f.__data__,c,a),x,g=kt(f,n),w=0,_=d.length;w<_;++w)(x=d[w])&&Zs(x,t,n,w,d,g);i.push(d),s.push(f)}return new Gt(i,s,t,n)}var t_=Ho.prototype.constructor;function n_(){return new t_(this._groups,this._parents)}function r_(e,t){var n,r,o;return function(){var i=Nr(this,e),s=(this.style.removeProperty(e),Nr(this,e));return i===s?null:i===n&&s===r?o:o=t(n=i,r=s)}}function Sm(e){return function(){this.style.removeProperty(e)}}function o_(e,t,n){var r,o=n+"",i;return function(){var s=Nr(this,e);return s===o?null:s===r?i:i=t(r=s,n)}}function i_(e,t,n){var r,o,i;return function(){var s=Nr(this,e),l=n(this),a=l+"";return l==null&&(a=l=(this.style.removeProperty(e),Nr(this,e))),s===a?null:s===r&&a===o?i:(o=a,i=t(r=s,l))}}function s_(e,t){var n,r,o,i="style."+t,s="end."+i,l;return function(){var a=Rt(this,e),u=a.on,f=a.value[i]==null?l||(l=Sm(t)):void 0;(u!==n||o!==f)&&(r=(n=u).copy()).on(s,o=f),a.on=r}}function l_(e,t,n){var r=(e+="")=="transform"?aw:_m;return t==null?this.styleTween(e,r_(e,r)).on("end.style."+e,Sm(e)):typeof t=="function"?this.styleTween(e,i_(e,r,nc(this,"style."+e,t))).each(s_(this._id,e)):this.styleTween(e,o_(e,r,t),n).on("end.style."+e,null)}function a_(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function u_(e,t,n){var r,o;function i(){var s=t.apply(this,arguments);return s!==o&&(r=(o=s)&&a_(e,s,n)),r}return i._value=t,i}function c_(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,u_(e,t,n??""))}function d_(e){return function(){this.textContent=e}}function f_(e){return function(){var t=e(this);this.textContent=t??""}}function h_(e){return this.tween("text",typeof e=="function"?f_(nc(this,"text",e)):d_(e==null?"":e+""))}function p_(e){return function(t){this.textContent=e.call(this,t)}}function m_(e){var t,n;function r(){var o=e.apply(this,arguments);return o!==n&&(t=(n=o)&&p_(o)),t}return r._value=e,r}function g_(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,m_(e))}function y_(){for(var e=this._name,t=this._id,n=Nm(),r=this._groups,o=r.length,i=0;i<o;++i)for(var s=r[i],l=s.length,a,u=0;u<l;++u)if(a=s[u]){var f=kt(a,t);Zs(a,e,n,u,s,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new Gt(r,this._parents,e,n)}function x_(){var e,t,n=this,r=n._id,o=n.size();return new Promise(function(i,s){var l={value:s},a={value:function(){--o===0&&i()}};n.each(function(){var u=Rt(this,r),f=u.on;f!==e&&(t=(e=f).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(a)),u.on=t}),o===0&&i()})}var v_=0;function Gt(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Nm(){return++v_}var Dt=Ho.prototype;Gt.prototype={constructor:Gt,select:Jw,selectAll:e_,selectChild:Dt.selectChild,selectChildren:Dt.selectChildren,filter:Yw,merge:Xw,selection:n_,transition:y_,call:Dt.call,nodes:Dt.nodes,node:Dt.node,size:Dt.size,empty:Dt.empty,each:Dt.each,on:Kw,attr:Tw,attrTween:Lw,style:l_,styleTween:c_,text:h_,textTween:g_,remove:qw,tween:Nw,delay:zw,duration:Hw,ease:Bw,easeVarying:Ww,end:x_,[Symbol.iterator]:Dt[Symbol.iterator]};function w_(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var __={time:null,delay:0,duration:250,ease:w_};function S_(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function N_(e){var t,n;e instanceof Gt?(t=e._id,e=e._name):(t=Nm(),(n=__).time=ec(),e=e==null?null:e+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var s=r[i],l=s.length,a,u=0;u<l;++u)(a=s[u])&&Zs(a,e,t,u,s,n||S_(a,t));return new Gt(r,this._parents,e,t)}Ho.prototype.interrupt=ww;Ho.prototype.transition=N_;const Ii=e=>()=>e;function E_(e,{sourceEvent:t,target:n,transform:r,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:o}})}function Vt(e,t,n){this.k=e,this.x=t,this.y=n}Vt.prototype={constructor:Vt,scale:function(e){return e===1?this:new Vt(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Vt(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var qs=new Vt(1,0,0);Em.prototype=Vt.prototype;function Em(e){for(;!e.__zoom;)if(!(e=e.parentNode))return qs;return e.__zoom}function Vl(e){e.stopImmediatePropagation()}function Wr(e){e.preventDefault(),e.stopImmediatePropagation()}function C_(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function k_(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Yd(){return this.__zoom||qs}function M_(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function j_(){return navigator.maxTouchPoints||"ontouchstart"in this}function I_(e,t,n){var r=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),s>i?(i+s)/2:Math.min(0,i)||Math.max(0,s))}function Cm(){var e=C_,t=k_,n=I_,r=M_,o=j_,i=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],l=250,a=Xi,u=Gs("start","zoom","end"),f,c,d,x=500,g=150,w=0,_=10;function m(C){C.property("__zoom",Yd).on("wheel.zoom",j,{passive:!1}).on("mousedown.zoom",$).on("dblclick.zoom",O).filter(o).on("touchstart.zoom",A).on("touchmove.zoom",L).on("touchend.zoom touchcancel.zoom",V).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}m.transform=function(C,T,I,D){var E=C.selection?C.selection():C;E.property("__zoom",Yd),C!==E?N(C,T,I,D):E.interrupt().each(function(){S(this,arguments).event(D).start().zoom(null,typeof T=="function"?T.apply(this,arguments):T).end()})},m.scaleBy=function(C,T,I,D){m.scaleTo(C,function(){var E=this.__zoom.k,k=typeof T=="function"?T.apply(this,arguments):T;return E*k},I,D)},m.scaleTo=function(C,T,I,D){m.transform(C,function(){var E=t.apply(this,arguments),k=this.__zoom,b=I==null?v(E):typeof I=="function"?I.apply(this,arguments):I,H=k.invert(b),F=typeof T=="function"?T.apply(this,arguments):T;return n(h(y(k,F),b,H),E,s)},I,D)},m.translateBy=function(C,T,I,D){m.transform(C,function(){return n(this.__zoom.translate(typeof T=="function"?T.apply(this,arguments):T,typeof I=="function"?I.apply(this,arguments):I),t.apply(this,arguments),s)},null,D)},m.translateTo=function(C,T,I,D,E){m.transform(C,function(){var k=t.apply(this,arguments),b=this.__zoom,H=D==null?v(k):typeof D=="function"?D.apply(this,arguments):D;return n(qs.translate(H[0],H[1]).scale(b.k).translate(typeof T=="function"?-T.apply(this,arguments):-T,typeof I=="function"?-I.apply(this,arguments):-I),k,s)},D,E)};function y(C,T){return T=Math.max(i[0],Math.min(i[1],T)),T===C.k?C:new Vt(T,C.x,C.y)}function h(C,T,I){var D=T[0]-I[0]*C.k,E=T[1]-I[1]*C.k;return D===C.x&&E===C.y?C:new Vt(C.k,D,E)}function v(C){return[(+C[0][0]+ +C[1][0])/2,(+C[0][1]+ +C[1][1])/2]}function N(C,T,I,D){C.on("start.zoom",function(){S(this,arguments).event(D).start()}).on("interrupt.zoom end.zoom",function(){S(this,arguments).event(D).end()}).tween("zoom",function(){var E=this,k=arguments,b=S(E,k).event(D),H=t.apply(E,k),F=I==null?v(H):typeof I=="function"?I.apply(E,k):I,Y=Math.max(H[1][0]-H[0][0],H[1][1]-H[0][1]),W=E.__zoom,te=typeof T=="function"?T.apply(E,k):T,J=a(W.invert(F).concat(Y/W.k),te.invert(F).concat(Y/te.k));return function(ne){if(ne===1)ne=te;else{var z=J(ne),re=Y/z[2];ne=new Vt(re,F[0]-z[0]*re,F[1]-z[1]*re)}b.zoom(null,ne)}})}function S(C,T,I){return!I&&C.__zooming||new M(C,T)}function M(C,T){this.that=C,this.args=T,this.active=0,this.sourceEvent=null,this.extent=t.apply(C,T),this.taps=0}M.prototype={event:function(C){return C&&(this.sourceEvent=C),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(C,T){return this.mouse&&C!=="mouse"&&(this.mouse[1]=T.invert(this.mouse[0])),this.touch0&&C!=="touch"&&(this.touch0[1]=T.invert(this.touch0[0])),this.touch1&&C!=="touch"&&(this.touch1[1]=T.invert(this.touch1[0])),this.that.__zoom=T,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(C){var T=Je(this.that).datum();u.call(C,this.that,new E_(C,{sourceEvent:this.sourceEvent,target:m,transform:this.that.__zoom,dispatch:u}),T)}};function j(C,...T){if(!e.apply(this,arguments))return;var I=S(this,T).event(C),D=this.__zoom,E=Math.max(i[0],Math.min(i[1],D.k*Math.pow(2,r.apply(this,arguments)))),k=xt(C);if(I.wheel)(I.mouse[0][0]!==k[0]||I.mouse[0][1]!==k[1])&&(I.mouse[1]=D.invert(I.mouse[0]=k)),clearTimeout(I.wheel);else{if(D.k===E)return;I.mouse=[k,D.invert(k)],Ki(this),I.start()}Wr(C),I.wheel=setTimeout(b,g),I.zoom("mouse",n(h(y(D,E),I.mouse[0],I.mouse[1]),I.extent,s));function b(){I.wheel=null,I.end()}}function $(C,...T){if(d||!e.apply(this,arguments))return;var I=C.currentTarget,D=S(this,T,!0).event(C),E=Je(C.view).on("mousemove.zoom",F,!0).on("mouseup.zoom",Y,!0),k=xt(C,I),b=C.clientX,H=C.clientY;am(C.view),Vl(C),D.mouse=[k,this.__zoom.invert(k)],Ki(this),D.start();function F(W){if(Wr(W),!D.moved){var te=W.clientX-b,J=W.clientY-H;D.moved=te*te+J*J>w}D.event(W).zoom("mouse",n(h(D.that.__zoom,D.mouse[0]=xt(W,I),D.mouse[1]),D.extent,s))}function Y(W){E.on("mousemove.zoom mouseup.zoom",null),um(W.view,D.moved),Wr(W),D.event(W).end()}}function O(C,...T){if(e.apply(this,arguments)){var I=this.__zoom,D=xt(C.changedTouches?C.changedTouches[0]:C,this),E=I.invert(D),k=I.k*(C.shiftKey?.5:2),b=n(h(y(I,k),D,E),t.apply(this,T),s);Wr(C),l>0?Je(this).transition().duration(l).call(N,b,D,C):Je(this).call(m.transform,b,D,C)}}function A(C,...T){if(e.apply(this,arguments)){var I=C.touches,D=I.length,E=S(this,T,C.changedTouches.length===D).event(C),k,b,H,F;for(Vl(C),b=0;b<D;++b)H=I[b],F=xt(H,this),F=[F,this.__zoom.invert(F),H.identifier],E.touch0?!E.touch1&&E.touch0[2]!==F[2]&&(E.touch1=F,E.taps=0):(E.touch0=F,k=!0,E.taps=1+!!f);f&&(f=clearTimeout(f)),k&&(E.taps<2&&(c=F[0],f=setTimeout(function(){f=null},x)),Ki(this),E.start())}}function L(C,...T){if(this.__zooming){var I=S(this,T).event(C),D=C.changedTouches,E=D.length,k,b,H,F;for(Wr(C),k=0;k<E;++k)b=D[k],H=xt(b,this),I.touch0&&I.touch0[2]===b.identifier?I.touch0[0]=H:I.touch1&&I.touch1[2]===b.identifier&&(I.touch1[0]=H);if(b=I.that.__zoom,I.touch1){var Y=I.touch0[0],W=I.touch0[1],te=I.touch1[0],J=I.touch1[1],ne=(ne=te[0]-Y[0])*ne+(ne=te[1]-Y[1])*ne,z=(z=J[0]-W[0])*z+(z=J[1]-W[1])*z;b=y(b,Math.sqrt(ne/z)),H=[(Y[0]+te[0])/2,(Y[1]+te[1])/2],F=[(W[0]+J[0])/2,(W[1]+J[1])/2]}else if(I.touch0)H=I.touch0[0],F=I.touch0[1];else return;I.zoom("touch",n(h(b,H,F),I.extent,s))}}function V(C,...T){if(this.__zooming){var I=S(this,T).event(C),D=C.changedTouches,E=D.length,k,b;for(Vl(C),d&&clearTimeout(d),d=setTimeout(function(){d=null},x),k=0;k<E;++k)b=D[k],I.touch0&&I.touch0[2]===b.identifier?delete I.touch0:I.touch1&&I.touch1[2]===b.identifier&&delete I.touch1;if(I.touch1&&!I.touch0&&(I.touch0=I.touch1,delete I.touch1),I.touch0)I.touch0[1]=this.__zoom.invert(I.touch0[0]);else if(I.end(),I.taps===2&&(b=xt(b,this),Math.hypot(c[0]-b[0],c[1]-b[1])<_)){var H=Je(this).on("dblclick.zoom");H&&H.apply(this,arguments)}}}return m.wheelDelta=function(C){return arguments.length?(r=typeof C=="function"?C:Ii(+C),m):r},m.filter=function(C){return arguments.length?(e=typeof C=="function"?C:Ii(!!C),m):e},m.touchable=function(C){return arguments.length?(o=typeof C=="function"?C:Ii(!!C),m):o},m.extent=function(C){return arguments.length?(t=typeof C=="function"?C:Ii([[+C[0][0],+C[0][1]],[+C[1][0],+C[1][1]]]),m):t},m.scaleExtent=function(C){return arguments.length?(i[0]=+C[0],i[1]=+C[1],m):[i[0],i[1]]},m.translateExtent=function(C){return arguments.length?(s[0][0]=+C[0][0],s[1][0]=+C[1][0],s[0][1]=+C[0][1],s[1][1]=+C[1][1],m):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},m.constrain=function(C){return arguments.length?(n=C,m):n},m.duration=function(C){return arguments.length?(l=+C,m):l},m.interpolate=function(C){return arguments.length?(a=C,m):a},m.on=function(){var C=u.on.apply(u,arguments);return C===u?m:C},m.clickDistance=function(C){return arguments.length?(w=(C=+C)*C,m):Math.sqrt(w)},m.tapDistance=function(C){return arguments.length?(_=+C,m):_},m}const Lt={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:r}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},Po=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],km=["Enter"," ","Escape"],Mm={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:t,y:n})=>`Moved selected node ${e}. New position, x: ${t}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var Cr;(function(e){e.Strict="strict",e.Loose="loose"})(Cr||(Cr={}));var bn;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(bn||(bn={}));var Ao;(function(e){e.Partial="partial",e.Full="full"})(Ao||(Ao={}));const jm={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var sn;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(sn||(sn={}));var js;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(js||(js={}));var q;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(q||(q={}));const Xd={[q.Left]:q.Right,[q.Right]:q.Left,[q.Top]:q.Bottom,[q.Bottom]:q.Top};function Im(e){return e===null?null:e?"valid":"invalid"}const Tm=e=>"id"in e&&"source"in e&&"target"in e,T_=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),rc=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),Bo=(e,t=[0,0])=>{const{width:n,height:r}=Kt(e),o=e.origin??t,i=n*o[0],s=r*o[1];return{x:e.position.x-i,y:e.position.y-s}},P_=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,o)=>{const i=typeof o=="string";let s=!t.nodeLookup&&!i?o:void 0;t.nodeLookup&&(s=i?t.nodeLookup.get(o):rc(o)?o:t.nodeLookup.get(o.id));const l=s?Is(s,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Js(r,l)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return el(n)},Uo=(e,t={})=>{let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0},r=!1;return e.forEach(o=>{(t.filter===void 0||t.filter(o))&&(n=Js(n,Is(o)),r=!0)}),r?el(n):{x:0,y:0,width:0,height:0}},oc=(e,t,[n,r,o]=[0,0,1],i=!1,s=!1)=>{const l={...Yo(t,[n,r,o]),width:t.width/o,height:t.height/o},a=[];for(const u of e.values()){const{measured:f,selectable:c=!0,hidden:d=!1}=u;if(s&&!c||d)continue;const x=f.width??u.width??u.initialWidth??null,g=f.height??u.height??u.initialHeight??null,w=$o(l,Mr(u)),_=(x??0)*(g??0),m=i&&w>0;(!u.internals.handleBounds||m||w>=_||u.dragging)&&a.push(u)}return a},A_=(e,t)=>{const n=new Set;return e.forEach(r=>{n.add(r.id)}),t.filter(r=>n.has(r.source)||n.has(r.target))};function $_(e,t){const n=new Map,r=t!=null&&t.nodes?new Set(t.nodes.map(o=>o.id)):null;return e.forEach(o=>{o.measured.width&&o.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!o.hidden)&&(!r||r.has(o.id))&&n.set(o.id,o)}),n}async function b_({nodes:e,width:t,height:n,panZoom:r,minZoom:o,maxZoom:i},s){if(e.size===0)return Promise.resolve(!0);const l=$_(e,s),a=Uo(l),u=ic(a,t,n,(s==null?void 0:s.minZoom)??o,(s==null?void 0:s.maxZoom)??i,(s==null?void 0:s.padding)??.1);return await r.setViewport(u,{duration:s==null?void 0:s.duration,ease:s==null?void 0:s.ease,interpolate:s==null?void 0:s.interpolate}),Promise.resolve(!0)}function Pm({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:o,onError:i}){const s=n.get(e),l=s.parentId?n.get(s.parentId):void 0,{x:a,y:u}=l?l.internals.positionAbsolute:{x:0,y:0},f=s.origin??r;let c=s.extent||o;if(s.extent==="parent"&&!s.expandParent)if(!l)i==null||i("005",Lt.error005());else{const x=l.measured.width,g=l.measured.height;x&&g&&(c=[[a,u],[a+x,u+g]])}else l&&jr(s.extent)&&(c=[[s.extent[0][0]+a,s.extent[0][1]+u],[s.extent[1][0]+a,s.extent[1][1]+u]]);const d=jr(c)?Vn(t,c,s.measured):t;return(s.measured.width===void 0||s.measured.height===void 0)&&(i==null||i("015",Lt.error015())),{position:{x:d.x-a+(s.measured.width??0)*f[0],y:d.y-u+(s.measured.height??0)*f[1]},positionAbsolute:d}}async function L_({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:r,onBeforeDelete:o}){const i=new Set(e.map(d=>d.id)),s=[];for(const d of n){if(d.deletable===!1)continue;const x=i.has(d.id),g=!x&&d.parentId&&s.find(w=>w.id===d.parentId);(x||g)&&s.push(d)}const l=new Set(t.map(d=>d.id)),a=r.filter(d=>d.deletable!==!1),f=A_(s,a);for(const d of a)l.has(d.id)&&!f.find(g=>g.id===d.id)&&f.push(d);if(!o)return{edges:f,nodes:s};const c=await o({nodes:s,edges:f});return typeof c=="boolean"?c?{edges:f,nodes:s}:{edges:[],nodes:[]}:c}const kr=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),Vn=(e={x:0,y:0},t,n)=>({x:kr(e.x,t[0][0],t[1][0]-((n==null?void 0:n.width)??0)),y:kr(e.y,t[0][1],t[1][1]-((n==null?void 0:n.height)??0))});function Am(e,t,n){const{width:r,height:o}=Kt(n),{x:i,y:s}=n.internals.positionAbsolute;return Vn(e,[[i,s],[i+r,s+o]],t)}const Gd=(e,t,n)=>e<t?kr(Math.abs(e-t),1,t)/t:e>n?-kr(Math.abs(e-n),1,t)/t:0,$m=(e,t,n=15,r=40)=>{const o=Gd(e.x,r,t.width-r)*n,i=Gd(e.y,r,t.height-r)*n;return[o,i]},Js=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Ka=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),el=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),Mr=(e,t=[0,0])=>{var o,i;const{x:n,y:r}=rc(e)?e.internals.positionAbsolute:Bo(e,t);return{x:n,y:r,width:((o=e.measured)==null?void 0:o.width)??e.width??e.initialWidth??0,height:((i=e.measured)==null?void 0:i.height)??e.height??e.initialHeight??0}},Is=(e,t=[0,0])=>{var o,i;const{x:n,y:r}=rc(e)?e.internals.positionAbsolute:Bo(e,t);return{x:n,y:r,x2:n+(((o=e.measured)==null?void 0:o.width)??e.width??e.initialWidth??0),y2:r+(((i=e.measured)==null?void 0:i.height)??e.height??e.initialHeight??0)}},bm=(e,t)=>el(Js(Ka(e),Ka(t))),$o=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},Qd=e=>_t(e.width)&&_t(e.height)&&_t(e.x)&&_t(e.y),_t=e=>!isNaN(e)&&isFinite(e),R_=(e,t)=>{},Wo=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),Yo=({x:e,y:t},[n,r,o],i=!1,s=[1,1])=>{const l={x:(e-n)/o,y:(t-r)/o};return i?Wo(l,s):l},Ts=({x:e,y:t},[n,r,o])=>({x:e*o+n,y:t*o+r});function Xn(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function D_(e,t,n){if(typeof e=="string"||typeof e=="number"){const r=Xn(e,n),o=Xn(e,t);return{top:r,right:o,bottom:r,left:o,x:o*2,y:r*2}}if(typeof e=="object"){const r=Xn(e.top??e.y??0,n),o=Xn(e.bottom??e.y??0,n),i=Xn(e.left??e.x??0,t),s=Xn(e.right??e.x??0,t);return{top:r,right:s,bottom:o,left:i,x:i+s,y:r+o}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function z_(e,t,n,r,o,i){const{x:s,y:l}=Ts(e,[t,n,r]),{x:a,y:u}=Ts({x:e.x+e.width,y:e.y+e.height},[t,n,r]),f=o-a,c=i-u;return{left:Math.floor(s),top:Math.floor(l),right:Math.floor(f),bottom:Math.floor(c)}}const ic=(e,t,n,r,o,i)=>{const s=D_(i,t,n),l=(t-s.x)/e.width,a=(n-s.y)/e.height,u=Math.min(l,a),f=kr(u,r,o),c=e.x+e.width/2,d=e.y+e.height/2,x=t/2-c*f,g=n/2-d*f,w=z_(e,x,g,f,t,n),_={left:Math.min(w.left-s.left,0),top:Math.min(w.top-s.top,0),right:Math.min(w.right-s.right,0),bottom:Math.min(w.bottom-s.bottom,0)};return{x:x-_.left+_.right,y:g-_.top+_.bottom,zoom:f}},bo=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function jr(e){return e!=null&&e!=="parent"}function Kt(e){var t,n;return{width:((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth??0,height:((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight??0}}function Lm(e){var t,n;return(((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth)!==void 0&&(((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight)!==void 0}function Rm(e,t={width:0,height:0},n,r,o){const i={...e},s=r.get(n);if(s){const l=s.origin||o;i.x+=s.internals.positionAbsolute.x-(t.width??0)*l[0],i.y+=s.internals.positionAbsolute.y-(t.height??0)*l[1]}return i}function Kd(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function O_(){let e,t;return{promise:new Promise((r,o)=>{e=r,t=o}),resolve:e,reject:t}}function F_(e){return{...Mm,...e||{}}}function ao(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:r,containerBounds:o}){const{x:i,y:s}=St(e),l=Yo({x:i-((o==null?void 0:o.left)??0),y:s-((o==null?void 0:o.top)??0)},r),{x:a,y:u}=n?Wo(l,t):l;return{xSnapped:a,ySnapped:u,...l}}const sc=e=>({width:e.offsetWidth,height:e.offsetHeight}),Dm=e=>{var t;return((t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},H_=["INPUT","SELECT","TEXTAREA"];function zm(e){var r,o;const t=((o=(r=e.composedPath)==null?void 0:r.call(e))==null?void 0:o[0])||e.target;return(t==null?void 0:t.nodeType)!==1?!1:H_.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const Om=e=>"clientX"in e,St=(e,t)=>{var i,s;const n=Om(e),r=n?e.clientX:(i=e.touches)==null?void 0:i[0].clientX,o=n?e.clientY:(s=e.touches)==null?void 0:s[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:o-((t==null?void 0:t.top)??0)}},Zd=(e,t,n,r,o)=>{const i=t.querySelectorAll(`.${e}`);return!i||!i.length?null:Array.from(i).map(s=>{const l=s.getBoundingClientRect();return{id:s.getAttribute("data-handleid"),type:e,nodeId:o,position:s.getAttribute("data-handlepos"),x:(l.left-n.left)/r,y:(l.top-n.top)/r,...sc(s)}})};function Fm({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:o,sourceControlY:i,targetControlX:s,targetControlY:l}){const a=e*.125+o*.375+s*.375+n*.125,u=t*.125+i*.375+l*.375+r*.125,f=Math.abs(a-e),c=Math.abs(u-t);return[a,u,f,c]}function Ti(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function qd({pos:e,x1:t,y1:n,x2:r,y2:o,c:i}){switch(e){case q.Left:return[t-Ti(t-r,i),n];case q.Right:return[t+Ti(r-t,i),n];case q.Top:return[t,n-Ti(n-o,i)];case q.Bottom:return[t,n+Ti(o-n,i)]}}function Hm({sourceX:e,sourceY:t,sourcePosition:n=q.Bottom,targetX:r,targetY:o,targetPosition:i=q.Top,curvature:s=.25}){const[l,a]=qd({pos:n,x1:e,y1:t,x2:r,y2:o,c:s}),[u,f]=qd({pos:i,x1:r,y1:o,x2:e,y2:t,c:s}),[c,d,x,g]=Fm({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:l,sourceControlY:a,targetControlX:u,targetControlY:f});return[`M${e},${t} C${l},${a} ${u},${f} ${r},${o}`,c,d,x,g]}function Vm({sourceX:e,sourceY:t,targetX:n,targetY:r}){const o=Math.abs(n-e)/2,i=n<e?n+o:n-o,s=Math.abs(r-t)/2,l=r<t?r+s:r-s;return[i,l,o,s]}function V_({sourceNode:e,targetNode:t,selected:n=!1,zIndex:r=0,elevateOnSelect:o=!1,zIndexMode:i="basic"}){if(i==="manual")return r;const s=o&&n?r+1e3:r,l=Math.max(e.parentId||o&&e.selected?e.internals.z:0,t.parentId||o&&t.selected?t.internals.z:0);return s+l}function B_({sourceNode:e,targetNode:t,width:n,height:r,transform:o}){const i=Js(Is(e),Is(t));i.x===i.x2&&(i.x2+=1),i.y===i.y2&&(i.y2+=1);const s={x:-o[0]/o[2],y:-o[1]/o[2],width:n/o[2],height:r/o[2]};return $o(s,el(i))>0}const U_=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`xy-edge__${e}${t||""}-${n}${r||""}`,W_=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),Bm=(e,t,n={})=>{if(!e.source||!e.target)return t;const r=n.getEdgeId||U_;let o;return Tm(e)?o={...e}:o={...e,id:r(e)},W_(o,t)?t:(o.sourceHandle===null&&delete o.sourceHandle,o.targetHandle===null&&delete o.targetHandle,t.concat(o))};function Um({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[o,i,s,l]=Vm({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,o,i,s,l]}const Jd={[q.Left]:{x:-1,y:0},[q.Right]:{x:1,y:0},[q.Top]:{x:0,y:-1},[q.Bottom]:{x:0,y:1}},Y_=({source:e,sourcePosition:t=q.Bottom,target:n})=>t===q.Left||t===q.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},ef=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function X_({source:e,sourcePosition:t=q.Bottom,target:n,targetPosition:r=q.Top,center:o,offset:i,stepPosition:s}){const l=Jd[t],a=Jd[r],u={x:e.x+l.x*i,y:e.y+l.y*i},f={x:n.x+a.x*i,y:n.y+a.y*i},c=Y_({source:u,sourcePosition:t,target:f}),d=c.x!==0?"x":"y",x=c[d];let g=[],w,_;const m={x:0,y:0},y={x:0,y:0},[,,h,v]=Vm({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(l[d]*a[d]===-1){d==="x"?(w=o.x??u.x+(f.x-u.x)*s,_=o.y??(u.y+f.y)/2):(w=o.x??(u.x+f.x)/2,_=o.y??u.y+(f.y-u.y)*s);const S=[{x:w,y:u.y},{x:w,y:f.y}],M=[{x:u.x,y:_},{x:f.x,y:_}];l[d]===x?g=d==="x"?S:M:g=d==="x"?M:S}else{const S=[{x:u.x,y:f.y}],M=[{x:f.x,y:u.y}];if(d==="x"?g=l.x===x?M:S:g=l.y===x?S:M,t===r){const L=Math.abs(e[d]-n[d]);if(L<=i){const V=Math.min(i-1,i-L);l[d]===x?m[d]=(u[d]>e[d]?-1:1)*V:y[d]=(f[d]>n[d]?-1:1)*V}}if(t!==r){const L=d==="x"?"y":"x",V=l[d]===a[L],C=u[L]>f[L],T=u[L]<f[L];(l[d]===1&&(!V&&C||V&&T)||l[d]!==1&&(!V&&T||V&&C))&&(g=d==="x"?S:M)}const j={x:u.x+m.x,y:u.y+m.y},$={x:f.x+y.x,y:f.y+y.y},O=Math.max(Math.abs(j.x-g[0].x),Math.abs($.x-g[0].x)),A=Math.max(Math.abs(j.y-g[0].y),Math.abs($.y-g[0].y));O>=A?(w=(j.x+$.x)/2,_=g[0].y):(w=g[0].x,_=(j.y+$.y)/2)}return[[e,{x:u.x+m.x,y:u.y+m.y},...g,{x:f.x+y.x,y:f.y+y.y},n],w,_,h,v]}function G_(e,t,n,r){const o=Math.min(ef(e,t)/2,ef(t,n)/2,r),{x:i,y:s}=t;if(e.x===i&&i===n.x||e.y===s&&s===n.y)return`L${i} ${s}`;if(e.y===s){const u=e.x<n.x?-1:1,f=e.y<n.y?1:-1;return`L ${i+o*u},${s}Q ${i},${s} ${i},${s+o*f}`}const l=e.x<n.x?1:-1,a=e.y<n.y?-1:1;return`L ${i},${s+o*a}Q ${i},${s} ${i+o*l},${s}`}function Za({sourceX:e,sourceY:t,sourcePosition:n=q.Bottom,targetX:r,targetY:o,targetPosition:i=q.Top,borderRadius:s=5,centerX:l,centerY:a,offset:u=20,stepPosition:f=.5}){const[c,d,x,g,w]=X_({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:o},targetPosition:i,center:{x:l,y:a},offset:u,stepPosition:f});return[c.reduce((m,y,h)=>{let v="";return h>0&&h<c.length-1?v=G_(c[h-1],y,c[h+1],s):v=`${h===0?"M":"L"}${y.x} ${y.y}`,m+=v,m},""),d,x,g,w]}function tf(e){var t;return e&&!!(e.internals.handleBounds||(t=e.handles)!=null&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function Q_(e){var c;const{sourceNode:t,targetNode:n}=e;if(!tf(t)||!tf(n))return null;const r=t.internals.handleBounds||nf(t.handles),o=n.internals.handleBounds||nf(n.handles),i=rf((r==null?void 0:r.source)??[],e.sourceHandle),s=rf(e.connectionMode===Cr.Strict?(o==null?void 0:o.target)??[]:((o==null?void 0:o.target)??[]).concat((o==null?void 0:o.source)??[]),e.targetHandle);if(!i||!s)return(c=e.onError)==null||c.call(e,"008",Lt.error008(i?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const l=(i==null?void 0:i.position)||q.Bottom,a=(s==null?void 0:s.position)||q.Top,u=Bn(t,i,l),f=Bn(n,s,a);return{sourceX:u.x,sourceY:u.y,targetX:f.x,targetY:f.y,sourcePosition:l,targetPosition:a}}function nf(e){if(!e)return null;const t=[],n=[];for(const r of e)r.width=r.width??1,r.height=r.height??1,r.type==="source"?t.push(r):r.type==="target"&&n.push(r);return{source:t,target:n}}function Bn(e,t,n=q.Left,r=!1){const o=((t==null?void 0:t.x)??0)+e.internals.positionAbsolute.x,i=((t==null?void 0:t.y)??0)+e.internals.positionAbsolute.y,{width:s,height:l}=t??Kt(e);if(r)return{x:o+s/2,y:i+l/2};switch((t==null?void 0:t.position)??n){case q.Top:return{x:o+s/2,y:i};case q.Right:return{x:o+s,y:i+l/2};case q.Bottom:return{x:o+s/2,y:i+l};case q.Left:return{x:o,y:i+l/2}}}function rf(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function qa(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`:""}function K_(e,{id:t,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:o}){const i=new Set;return e.reduce((s,l)=>([l.markerStart||r,l.markerEnd||o].forEach(a=>{if(a&&typeof a=="object"){const u=qa(a,t);i.has(u)||(s.push({id:u,color:a.color||n,...a}),i.add(u))}}),s),[]).sort((s,l)=>s.id.localeCompare(l.id))}const Wm=1e3,Z_=10,lc={nodeOrigin:[0,0],nodeExtent:Po,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},q_={...lc,checkEquality:!0};function ac(e,t){const n={...e};for(const r in t)t[r]!==void 0&&(n[r]=t[r]);return n}function J_(e,t,n){const r=ac(lc,n);for(const o of e.values())if(o.parentId)cc(o,e,t,r);else{const i=Bo(o,r.nodeOrigin),s=jr(o.extent)?o.extent:r.nodeExtent,l=Vn(i,s,Kt(o));o.internals.positionAbsolute=l}}function eS(e,t){if(!e.handles)return e.measured?t==null?void 0:t.internals.handleBounds:void 0;const n=[],r=[];for(const o of e.handles){const i={id:o.id,width:o.width??1,height:o.height??1,nodeId:e.id,x:o.x,y:o.y,position:o.position,type:o.type};o.type==="source"?n.push(i):o.type==="target"&&r.push(i)}return{source:n,target:r}}function uc(e){return e==="manual"}function Ja(e,t,n,r={}){var u,f;const o=ac(q_,r),i={i:0},s=new Map(t),l=o!=null&&o.elevateNodesOnSelect&&!uc(o.zIndexMode)?Wm:0;let a=e.length>0;t.clear(),n.clear();for(const c of e){let d=s.get(c.id);if(o.checkEquality&&c===(d==null?void 0:d.internals.userNode))t.set(c.id,d);else{const x=Bo(c,o.nodeOrigin),g=jr(c.extent)?c.extent:o.nodeExtent,w=Vn(x,g,Kt(c));d={...o.defaults,...c,measured:{width:(u=c.measured)==null?void 0:u.width,height:(f=c.measured)==null?void 0:f.height},internals:{positionAbsolute:w,handleBounds:eS(c,d),z:Ym(c,l,o.zIndexMode),userNode:c}},t.set(c.id,d)}(d.measured===void 0||d.measured.width===void 0||d.measured.height===void 0)&&!d.hidden&&(a=!1),c.parentId&&cc(d,t,n,r,i)}return a}function tS(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function cc(e,t,n,r,o){const{elevateNodesOnSelect:i,nodeOrigin:s,nodeExtent:l,zIndexMode:a}=ac(lc,r),u=e.parentId,f=t.get(u);if(!f){console.warn(`Parent node ${u} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}tS(e,n),o&&!f.parentId&&f.internals.rootParentIndex===void 0&&a==="auto"&&(f.internals.rootParentIndex=++o.i,f.internals.z=f.internals.z+o.i*Z_),o&&f.internals.rootParentIndex!==void 0&&(o.i=f.internals.rootParentIndex);const c=i&&!uc(a)?Wm:0,{x:d,y:x,z:g}=nS(e,f,s,l,c,a),{positionAbsolute:w}=e.internals,_=d!==w.x||x!==w.y;(_||g!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:_?{x:d,y:x}:w,z:g}})}function Ym(e,t,n){const r=_t(e.zIndex)?e.zIndex:0;return uc(n)?r:r+(e.selected?t:0)}function nS(e,t,n,r,o,i){const{x:s,y:l}=t.internals.positionAbsolute,a=Kt(e),u=Bo(e,n),f=jr(e.extent)?Vn(u,e.extent,a):u;let c=Vn({x:s+f.x,y:l+f.y},r,a);e.extent==="parent"&&(c=Am(c,a,t));const d=Ym(e,o,i),x=t.internals.z??0;return{x:c.x,y:c.y,z:x>=d?x+1:d}}function dc(e,t,n,r=[0,0]){var s;const o=[],i=new Map;for(const l of e){const a=t.get(l.parentId);if(!a)continue;const u=((s=i.get(l.parentId))==null?void 0:s.expandedRect)??Mr(a),f=bm(u,l.rect);i.set(l.parentId,{expandedRect:f,parent:a})}return i.size>0&&i.forEach(({expandedRect:l,parent:a},u)=>{var h;const f=a.internals.positionAbsolute,c=Kt(a),d=a.origin??r,x=l.x<f.x?Math.round(Math.abs(f.x-l.x)):0,g=l.y<f.y?Math.round(Math.abs(f.y-l.y)):0,w=Math.max(c.width,Math.round(l.width)),_=Math.max(c.height,Math.round(l.height)),m=(w-c.width)*d[0],y=(_-c.height)*d[1];(x>0||g>0||m||y)&&(o.push({id:u,type:"position",position:{x:a.position.x-x+m,y:a.position.y-g+y}}),(h=n.get(u))==null||h.forEach(v=>{e.some(N=>N.id===v.id)||o.push({id:v.id,type:"position",position:{x:v.position.x+x,y:v.position.y+g}})})),(c.width<l.width||c.height<l.height||x||g)&&o.push({id:u,type:"dimensions",setAttributes:!0,dimensions:{width:w+(x?d[0]*x-m:0),height:_+(g?d[1]*g-y:0)}})}),o}function rS(e,t,n,r,o,i,s){const l=r==null?void 0:r.querySelector(".xyflow__viewport");let a=!1;if(!l)return{changes:[],updatedInternals:a};const u=[],f=window.getComputedStyle(l),{m22:c}=new window.DOMMatrixReadOnly(f.transform),d=[];for(const x of e.values()){const g=t.get(x.id);if(!g)continue;if(g.hidden){t.set(g.id,{...g,internals:{...g.internals,handleBounds:void 0}}),a=!0;continue}const w=sc(x.nodeElement),_=g.measured.width!==w.width||g.measured.height!==w.height;if(!!(w.width&&w.height&&(_||!g.internals.handleBounds||x.force))){const y=x.nodeElement.getBoundingClientRect(),h=jr(g.extent)?g.extent:i;let{positionAbsolute:v}=g.internals;g.parentId&&g.extent==="parent"?v=Am(v,w,t.get(g.parentId)):h&&(v=Vn(v,h,w));const N={...g,measured:w,internals:{...g.internals,positionAbsolute:v,handleBounds:{source:Zd("source",x.nodeElement,y,c,g.id),target:Zd("target",x.nodeElement,y,c,g.id)}}};t.set(g.id,N),g.parentId&&cc(N,t,n,{nodeOrigin:o,zIndexMode:s}),a=!0,_&&(u.push({id:g.id,type:"dimensions",dimensions:w}),g.expandParent&&g.parentId&&d.push({id:g.id,parentId:g.parentId,rect:Mr(N,o)}))}}if(d.length>0){const x=dc(d,t,n,o);u.push(...x)}return{changes:u,updatedInternals:a}}async function oS({delta:e,panZoom:t,transform:n,translateExtent:r,width:o,height:i}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const s=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[o,i]],r),l=!!s&&(s.x!==n[0]||s.y!==n[1]||s.k!==n[2]);return Promise.resolve(l)}function of(e,t,n,r,o,i){let s=o;const l=r.get(s)||new Map;r.set(s,l.set(n,t)),s=`${o}-${e}`;const a=r.get(s)||new Map;if(r.set(s,a.set(n,t)),i){s=`${o}-${e}-${i}`;const u=r.get(s)||new Map;r.set(s,u.set(n,t))}}function Xm(e,t,n){e.clear(),t.clear();for(const r of n){const{source:o,target:i,sourceHandle:s=null,targetHandle:l=null}=r,a={edgeId:r.id,source:o,target:i,sourceHandle:s,targetHandle:l},u=`${o}-${s}--${i}-${l}`,f=`${i}-${l}--${o}-${s}`;of("source",a,f,e,o,s),of("target",a,u,e,i,l),t.set(r.id,r)}}function Gm(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:Gm(n,t):!1}function sf(e,t,n){var o;let r=e;do{if((o=r==null?void 0:r.matches)!=null&&o.call(r,t))return!0;if(r===n)return!1;r=r==null?void 0:r.parentElement}while(r);return!1}function iS(e,t,n,r){const o=new Map;for(const[i,s]of e)if((s.selected||s.id===r)&&(!s.parentId||!Gm(s,e))&&(s.draggable||t&&typeof s.draggable>"u")){const l=e.get(i);l&&o.set(i,{id:i,position:l.position||{x:0,y:0},distance:{x:n.x-l.internals.positionAbsolute.x,y:n.y-l.internals.positionAbsolute.y},extent:l.extent,parentId:l.parentId,origin:l.origin,expandParent:l.expandParent,internals:{positionAbsolute:l.internals.positionAbsolute||{x:0,y:0}},measured:{width:l.measured.width??0,height:l.measured.height??0}})}return o}function Bl({nodeId:e,dragItems:t,nodeLookup:n,dragging:r=!0}){var s,l,a;const o=[];for(const[u,f]of t){const c=(s=n.get(u))==null?void 0:s.internals.userNode;c&&o.push({...c,position:f.position,dragging:r})}if(!e)return[o[0],o];const i=(l=n.get(e))==null?void 0:l.internals.userNode;return[i?{...i,position:((a=t.get(e))==null?void 0:a.position)||i.position,dragging:r}:o[0],o]}function sS({dragItems:e,snapGrid:t,x:n,y:r}){const o=e.values().next().value;if(!o)return null;const i={x:n-o.distance.x,y:r-o.distance.y},s=Wo(i,t);return{x:s.x-i.x,y:s.y-i.y}}function lS({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:r,onDragStop:o}){let i={x:null,y:null},s=0,l=new Map,a=!1,u={x:0,y:0},f=null,c=!1,d=null,x=!1,g=!1,w=null;function _({noDragClassName:y,handleSelector:h,domNode:v,isSelectable:N,nodeId:S,nodeClickDistance:M=0}){d=Je(v);function j({x:L,y:V}){const{nodeLookup:C,nodeExtent:T,snapGrid:I,snapToGrid:D,nodeOrigin:E,onNodeDrag:k,onSelectionDrag:b,onError:H,updateNodePositions:F}=t();i={x:L,y:V};let Y=!1;const W=l.size>1,te=W&&T?Ka(Uo(l)):null,J=W&&D?sS({dragItems:l,snapGrid:I,x:L,y:V}):null;for(const[ne,z]of l){if(!C.has(ne))continue;let re={x:L-z.distance.x,y:V-z.distance.y};D&&(re=J?{x:Math.round(re.x+J.x),y:Math.round(re.y+J.y)}:Wo(re,I));let X=null;if(W&&T&&!z.extent&&te){const{positionAbsolute:G}=z.internals,ie=G.x-te.x+T[0][0],ue=G.x+z.measured.width-te.x2+T[1][0],se=G.y-te.y+T[0][1],ve=G.y+z.measured.height-te.y2+T[1][1];X=[[ie,se],[ue,ve]]}const{position:Q,positionAbsolute:K}=Pm({nodeId:ne,nextPosition:re,nodeLookup:C,nodeExtent:X||T,nodeOrigin:E,onError:H});Y=Y||z.position.x!==Q.x||z.position.y!==Q.y,z.position=Q,z.internals.positionAbsolute=K}if(g=g||Y,!!Y&&(F(l,!0),w&&(r||k||!S&&b))){const[ne,z]=Bl({nodeId:S,dragItems:l,nodeLookup:C});r==null||r(w,l,ne,z),k==null||k(w,ne,z),S||b==null||b(w,z)}}async function $(){if(!f)return;const{transform:L,panBy:V,autoPanSpeed:C,autoPanOnNodeDrag:T}=t();if(!T){a=!1,cancelAnimationFrame(s);return}const[I,D]=$m(u,f,C);(I!==0||D!==0)&&(i.x=(i.x??0)-I/L[2],i.y=(i.y??0)-D/L[2],await V({x:I,y:D})&&j(i)),s=requestAnimationFrame($)}function O(L){var W;const{nodeLookup:V,multiSelectionActive:C,nodesDraggable:T,transform:I,snapGrid:D,snapToGrid:E,selectNodesOnDrag:k,onNodeDragStart:b,onSelectionDragStart:H,unselectNodesAndEdges:F}=t();c=!0,(!k||!N)&&!C&&S&&((W=V.get(S))!=null&&W.selected||F()),N&&k&&S&&(e==null||e(S));const Y=ao(L.sourceEvent,{transform:I,snapGrid:D,snapToGrid:E,containerBounds:f});if(i=Y,l=iS(V,T,Y,S),l.size>0&&(n||b||!S&&H)){const[te,J]=Bl({nodeId:S,dragItems:l,nodeLookup:V});n==null||n(L.sourceEvent,l,te,J),b==null||b(L.sourceEvent,te,J),S||H==null||H(L.sourceEvent,J)}}const A=cm().clickDistance(M).on("start",L=>{const{domNode:V,nodeDragThreshold:C,transform:T,snapGrid:I,snapToGrid:D}=t();f=(V==null?void 0:V.getBoundingClientRect())||null,x=!1,g=!1,w=L.sourceEvent,C===0&&O(L),i=ao(L.sourceEvent,{transform:T,snapGrid:I,snapToGrid:D,containerBounds:f}),u=St(L.sourceEvent,f)}).on("drag",L=>{const{autoPanOnNodeDrag:V,transform:C,snapGrid:T,snapToGrid:I,nodeDragThreshold:D,nodeLookup:E}=t(),k=ao(L.sourceEvent,{transform:C,snapGrid:T,snapToGrid:I,containerBounds:f});if(w=L.sourceEvent,(L.sourceEvent.type==="touchmove"&&L.sourceEvent.touches.length>1||S&&!E.has(S))&&(x=!0),!x){if(!a&&V&&c&&(a=!0,$()),!c){const b=St(L.sourceEvent,f),H=b.x-u.x,F=b.y-u.y;Math.sqrt(H*H+F*F)>D&&O(L)}(i.x!==k.xSnapped||i.y!==k.ySnapped)&&l&&c&&(u=St(L.sourceEvent,f),j(k))}}).on("end",L=>{if(!(!c||x)&&(a=!1,c=!1,cancelAnimationFrame(s),l.size>0)){const{nodeLookup:V,updateNodePositions:C,onNodeDragStop:T,onSelectionDragStop:I}=t();if(g&&(C(l,!1),g=!1),o||T||!S&&I){const[D,E]=Bl({nodeId:S,dragItems:l,nodeLookup:V,dragging:!1});o==null||o(L.sourceEvent,l,D,E),T==null||T(L.sourceEvent,D,E),S||I==null||I(L.sourceEvent,E)}}}).filter(L=>{const V=L.target;return!L.button&&(!y||!sf(V,`.${y}`,v))&&(!h||sf(V,h,v))});d.call(A)}function m(){d==null||d.on(".drag",null)}return{update:_,destroy:m}}function aS(e,t,n){const r=[],o={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const i of t.values())$o(o,Mr(i))>0&&r.push(i);return r}const uS=250;function cS(e,t,n,r){var l,a;let o=[],i=1/0;const s=aS(e,n,t+uS);for(const u of s){const f=[...((l=u.internals.handleBounds)==null?void 0:l.source)??[],...((a=u.internals.handleBounds)==null?void 0:a.target)??[]];for(const c of f){if(r.nodeId===c.nodeId&&r.type===c.type&&r.id===c.id)continue;const{x:d,y:x}=Bn(u,c,c.position,!0),g=Math.sqrt(Math.pow(d-e.x,2)+Math.pow(x-e.y,2));g>t||(g<i?(o=[{...c,x:d,y:x}],i=g):g===i&&o.push({...c,x:d,y:x}))}}if(!o.length)return null;if(o.length>1){const u=r.type==="source"?"target":"source";return o.find(f=>f.type===u)??o[0]}return o[0]}function Qm(e,t,n,r,o,i=!1){var u,f,c;const s=r.get(e);if(!s)return null;const l=o==="strict"?(u=s.internals.handleBounds)==null?void 0:u[t]:[...((f=s.internals.handleBounds)==null?void 0:f.source)??[],...((c=s.internals.handleBounds)==null?void 0:c.target)??[]],a=(n?l==null?void 0:l.find(d=>d.id===n):l==null?void 0:l[0])??null;return a&&i?{...a,...Bn(s,a,a.position,!0)}:a}function Km(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function dS(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const Zm=()=>!0;function fS(e,{connectionMode:t,connectionRadius:n,handleId:r,nodeId:o,edgeUpdaterType:i,isTarget:s,domNode:l,nodeLookup:a,lib:u,autoPanOnConnect:f,flowId:c,panBy:d,cancelConnection:x,onConnectStart:g,onConnect:w,onConnectEnd:_,isValidConnection:m=Zm,onReconnectEnd:y,updateConnection:h,getTransform:v,getFromHandle:N,autoPanSpeed:S,dragThreshold:M=1,handleDomNode:j}){const $=Dm(e.target);let O=0,A;const{x:L,y:V}=St(e),C=Km(i,j),T=l==null?void 0:l.getBoundingClientRect();let I=!1;if(!T||!C)return;const D=Qm(o,C,r,a,t);if(!D)return;let E=St(e,T),k=!1,b=null,H=!1,F=null;function Y(){if(!f||!T)return;const[Q,K]=$m(E,T,S);d({x:Q,y:K}),O=requestAnimationFrame(Y)}const W={...D,nodeId:o,type:C,position:D.position},te=a.get(o);let ne={inProgress:!0,isValid:null,from:Bn(te,W,q.Left,!0),fromHandle:W,fromPosition:W.position,fromNode:te,to:E,toHandle:null,toPosition:Xd[W.position],toNode:null,pointer:E};function z(){I=!0,h(ne),g==null||g(e,{nodeId:o,handleId:r,handleType:C})}M===0&&z();function re(Q){if(!I){const{x:ve,y:pt}=St(Q),lt=ve-L,Mt=pt-V;if(!(lt*lt+Mt*Mt>M*M))return;z()}if(!N()||!W){X(Q);return}const K=v();E=St(Q,T),A=cS(Yo(E,K,!1,[1,1]),n,a,W),k||(Y(),k=!0);const G=qm(Q,{handle:A,connectionMode:t,fromNodeId:o,fromHandleId:r,fromType:s?"target":"source",isValidConnection:m,doc:$,lib:u,flowId:c,nodeLookup:a});F=G.handleDomNode,b=G.connection,H=dS(!!A,G.isValid);const ie=a.get(o),ue=ie?Bn(ie,W,q.Left,!0):ne.from,se={...ne,from:ue,isValid:H,to:G.toHandle&&H?Ts({x:G.toHandle.x,y:G.toHandle.y},K):E,toHandle:G.toHandle,toPosition:H&&G.toHandle?G.toHandle.position:Xd[W.position],toNode:G.toHandle?a.get(G.toHandle.nodeId):null,pointer:E};h(se),ne=se}function X(Q){if(!("touches"in Q&&Q.touches.length>0)){if(I){(A||F)&&b&&H&&(w==null||w(b));const{inProgress:K,...G}=ne,ie={...G,toPosition:ne.toHandle?ne.toPosition:null};_==null||_(Q,ie),i&&(y==null||y(Q,ie))}x(),cancelAnimationFrame(O),k=!1,H=!1,b=null,F=null,$.removeEventListener("mousemove",re),$.removeEventListener("mouseup",X),$.removeEventListener("touchmove",re),$.removeEventListener("touchend",X)}}$.addEventListener("mousemove",re),$.addEventListener("mouseup",X),$.addEventListener("touchmove",re),$.addEventListener("touchend",X)}function qm(e,{handle:t,connectionMode:n,fromNodeId:r,fromHandleId:o,fromType:i,doc:s,lib:l,flowId:a,isValidConnection:u=Zm,nodeLookup:f}){const c=i==="target",d=t?s.querySelector(`.${l}-flow__handle[data-id="${a}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x,y:g}=St(e),w=s.elementFromPoint(x,g),_=w!=null&&w.classList.contains(`${l}-flow__handle`)?w:d,m={handleDomNode:_,isValid:!1,connection:null,toHandle:null};if(_){const y=Km(void 0,_),h=_.getAttribute("data-nodeid"),v=_.getAttribute("data-handleid"),N=_.classList.contains("connectable"),S=_.classList.contains("connectableend");if(!h||!y)return m;const M={source:c?h:r,sourceHandle:c?v:o,target:c?r:h,targetHandle:c?o:v};m.connection=M;const $=N&&S&&(n===Cr.Strict?c&&y==="source"||!c&&y==="target":h!==r||v!==o);m.isValid=$&&u(M),m.toHandle=Qm(h,y,v,f,n,!0)}return m}const eu={onPointerDown:fS,isValid:qm};function hS({domNode:e,panZoom:t,getTransform:n,getViewScale:r}){const o=Je(e);function i({translateExtent:l,width:a,height:u,zoomStep:f=1,pannable:c=!0,zoomable:d=!0,inversePan:x=!1}){const g=h=>{if(h.sourceEvent.type!=="wheel"||!t)return;const v=n(),N=h.sourceEvent.ctrlKey&&bo()?10:1,S=-h.sourceEvent.deltaY*(h.sourceEvent.deltaMode===1?.05:h.sourceEvent.deltaMode?1:.002)*f,M=v[2]*Math.pow(2,S*N);t.scaleTo(M)};let w=[0,0];const _=h=>{(h.sourceEvent.type==="mousedown"||h.sourceEvent.type==="touchstart")&&(w=[h.sourceEvent.clientX??h.sourceEvent.touches[0].clientX,h.sourceEvent.clientY??h.sourceEvent.touches[0].clientY])},m=h=>{const v=n();if(h.sourceEvent.type!=="mousemove"&&h.sourceEvent.type!=="touchmove"||!t)return;const N=[h.sourceEvent.clientX??h.sourceEvent.touches[0].clientX,h.sourceEvent.clientY??h.sourceEvent.touches[0].clientY],S=[N[0]-w[0],N[1]-w[1]];w=N;const M=r()*Math.max(v[2],Math.log(v[2]))*(x?-1:1),j={x:v[0]-S[0]*M,y:v[1]-S[1]*M},$=[[0,0],[a,u]];t.setViewportConstrained({x:j.x,y:j.y,zoom:v[2]},$,l)},y=Cm().on("start",_).on("zoom",c?m:null).on("zoom.wheel",d?g:null);o.call(y,{})}function s(){o.on("zoom",null)}return{update:i,destroy:s,pointer:xt}}const tl=e=>({x:e.x,y:e.y,zoom:e.k}),Ul=({x:e,y:t,zoom:n})=>qs.translate(e,t).scale(n),sr=(e,t)=>e.target.closest(`.${t}`),Jm=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),pS=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,Wl=(e,t=0,n=pS,r=()=>{})=>{const o=typeof t=="number"&&t>0;return o||r(),o?e.transition().duration(t).ease(n).on("end",r):e},eg=e=>{const t=e.ctrlKey&&bo()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function mS({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:r,panOnScrollMode:o,panOnScrollSpeed:i,zoomOnPinch:s,onPanZoomStart:l,onPanZoom:a,onPanZoomEnd:u}){return f=>{if(sr(f,t))return f.ctrlKey&&f.preventDefault(),!1;f.preventDefault(),f.stopImmediatePropagation();const c=n.property("__zoom").k||1;if(f.ctrlKey&&s){const _=xt(f),m=eg(f),y=c*Math.pow(2,m);r.scaleTo(n,y,_,f);return}const d=f.deltaMode===1?20:1;let x=o===bn.Vertical?0:f.deltaX*d,g=o===bn.Horizontal?0:f.deltaY*d;!bo()&&f.shiftKey&&o!==bn.Vertical&&(x=f.deltaY*d,g=0),r.translateBy(n,-(x/c)*i,-(g/c)*i,{internal:!0});const w=tl(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling?(a==null||a(f,w),e.panScrollTimeout=setTimeout(()=>{u==null||u(f,w),e.isPanScrolling=!1},150)):(e.isPanScrolling=!0,l==null||l(f,w))}}function gS({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(r,o){const i=r.type==="wheel",s=!t&&i&&!r.ctrlKey,l=sr(r,e);if(r.ctrlKey&&i&&l&&r.preventDefault(),s||l)return null;r.preventDefault(),n.call(this,r,o)}}function yS({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return r=>{var i,s,l;if((i=r.sourceEvent)!=null&&i.internal)return;const o=tl(r.transform);e.mouseButton=((s=r.sourceEvent)==null?void 0:s.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=o,((l=r.sourceEvent)==null?void 0:l.type)==="mousedown"&&t(!0),n&&(n==null||n(r.sourceEvent,o))}}function xS({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:r,onPanZoom:o}){return i=>{var s,l;e.usedRightMouseButton=!!(n&&Jm(t,e.mouseButton??0)),(s=i.sourceEvent)!=null&&s.sync||r([i.transform.x,i.transform.y,i.transform.k]),o&&!((l=i.sourceEvent)!=null&&l.internal)&&(o==null||o(i.sourceEvent,tl(i.transform)))}}function vS({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:o,onPaneContextMenu:i}){return s=>{var l;if(!((l=s.sourceEvent)!=null&&l.internal)&&(e.isZoomingOrPanning=!1,i&&Jm(t,e.mouseButton??0)&&!e.usedRightMouseButton&&s.sourceEvent&&i(s.sourceEvent),e.usedRightMouseButton=!1,r(!1),o)){const a=tl(s.transform);e.prevViewport=a,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{o==null||o(s.sourceEvent,a)},n?150:0)}}}function wS({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:r,panOnScroll:o,zoomOnDoubleClick:i,userSelectionActive:s,noWheelClassName:l,noPanClassName:a,lib:u,connectionInProgress:f}){return c=>{var _;const d=e||t,x=n&&c.ctrlKey,g=c.type==="wheel";if(c.button===1&&c.type==="mousedown"&&(sr(c,`${u}-flow__node`)||sr(c,`${u}-flow__edge`)))return!0;if(!r&&!d&&!o&&!i&&!n||s||f&&!g||sr(c,l)&&g||sr(c,a)&&(!g||o&&g&&!e)||!n&&c.ctrlKey&&g)return!1;if(!n&&c.type==="touchstart"&&((_=c.touches)==null?void 0:_.length)>1)return c.preventDefault(),!1;if(!d&&!o&&!x&&g||!r&&(c.type==="mousedown"||c.type==="touchstart")||Array.isArray(r)&&!r.includes(c.button)&&c.type==="mousedown")return!1;const w=Array.isArray(r)&&r.includes(c.button)||!c.button||c.button<=1;return(!c.ctrlKey||g)&&w}}function _S({domNode:e,minZoom:t,maxZoom:n,translateExtent:r,viewport:o,onPanZoom:i,onPanZoomStart:s,onPanZoomEnd:l,onDraggingChange:a}){const u={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},f=e.getBoundingClientRect(),c=Cm().scaleExtent([t,n]).translateExtent(r),d=Je(e).call(c);y({x:o.x,y:o.y,zoom:kr(o.zoom,t,n)},[[0,0],[f.width,f.height]],r);const x=d.on("wheel.zoom"),g=d.on("dblclick.zoom");c.wheelDelta(eg);function w(A,L){return d?new Promise(V=>{c==null||c.interpolate((L==null?void 0:L.interpolate)==="linear"?lo:Xi).transform(Wl(d,L==null?void 0:L.duration,L==null?void 0:L.ease,()=>V(!0)),A)}):Promise.resolve(!1)}function _({noWheelClassName:A,noPanClassName:L,onPaneContextMenu:V,userSelectionActive:C,panOnScroll:T,panOnDrag:I,panOnScrollMode:D,panOnScrollSpeed:E,preventScrolling:k,zoomOnPinch:b,zoomOnScroll:H,zoomOnDoubleClick:F,zoomActivationKeyPressed:Y,lib:W,onTransformChange:te,connectionInProgress:J,paneClickDistance:ne,selectionOnDrag:z}){C&&!u.isZoomingOrPanning&&m();const re=T&&!Y&&!C;c.clickDistance(z?1/0:!_t(ne)||ne<0?0:ne);const X=re?mS({zoomPanValues:u,noWheelClassName:A,d3Selection:d,d3Zoom:c,panOnScrollMode:D,panOnScrollSpeed:E,zoomOnPinch:b,onPanZoomStart:s,onPanZoom:i,onPanZoomEnd:l}):gS({noWheelClassName:A,preventScrolling:k,d3ZoomHandler:x});if(d.on("wheel.zoom",X,{passive:!1}),!C){const K=yS({zoomPanValues:u,onDraggingChange:a,onPanZoomStart:s});c.on("start",K);const G=xS({zoomPanValues:u,panOnDrag:I,onPaneContextMenu:!!V,onPanZoom:i,onTransformChange:te});c.on("zoom",G);const ie=vS({zoomPanValues:u,panOnDrag:I,panOnScroll:T,onPaneContextMenu:V,onPanZoomEnd:l,onDraggingChange:a});c.on("end",ie)}const Q=wS({zoomActivationKeyPressed:Y,panOnDrag:I,zoomOnScroll:H,panOnScroll:T,zoomOnDoubleClick:F,zoomOnPinch:b,userSelectionActive:C,noPanClassName:L,noWheelClassName:A,lib:W,connectionInProgress:J});c.filter(Q),F?d.on("dblclick.zoom",g):d.on("dblclick.zoom",null)}function m(){c.on("zoom",null)}async function y(A,L,V){const C=Ul(A),T=c==null?void 0:c.constrain()(C,L,V);return T&&await w(T),new Promise(I=>I(T))}async function h(A,L){const V=Ul(A);return await w(V,L),new Promise(C=>C(V))}function v(A){if(d){const L=Ul(A),V=d.property("__zoom");(V.k!==A.zoom||V.x!==A.x||V.y!==A.y)&&(c==null||c.transform(d,L,null,{sync:!0}))}}function N(){const A=d?Em(d.node()):{x:0,y:0,k:1};return{x:A.x,y:A.y,zoom:A.k}}function S(A,L){return d?new Promise(V=>{c==null||c.interpolate((L==null?void 0:L.interpolate)==="linear"?lo:Xi).scaleTo(Wl(d,L==null?void 0:L.duration,L==null?void 0:L.ease,()=>V(!0)),A)}):Promise.resolve(!1)}function M(A,L){return d?new Promise(V=>{c==null||c.interpolate((L==null?void 0:L.interpolate)==="linear"?lo:Xi).scaleBy(Wl(d,L==null?void 0:L.duration,L==null?void 0:L.ease,()=>V(!0)),A)}):Promise.resolve(!1)}function j(A){c==null||c.scaleExtent(A)}function $(A){c==null||c.translateExtent(A)}function O(A){const L=!_t(A)||A<0?0:A;c==null||c.clickDistance(L)}return{update:_,destroy:m,setViewport:h,setViewportConstrained:y,getViewport:N,scaleTo:S,scaleBy:M,setScaleExtent:j,setTranslateExtent:$,syncViewport:v,setClickDistance:O}}var Ir;(function(e){e.Line="line",e.Handle="handle"})(Ir||(Ir={}));function SS({width:e,prevWidth:t,height:n,prevHeight:r,affectsX:o,affectsY:i}){const s=e-t,l=n-r,a=[s>0?1:s<0?-1:0,l>0?1:l<0?-1:0];return s&&o&&(a[0]=a[0]*-1),l&&i&&(a[1]=a[1]*-1),a}function lf(e){const t=e.includes("right")||e.includes("left"),n=e.includes("bottom")||e.includes("top"),r=e.includes("left"),o=e.includes("top");return{isHorizontal:t,isVertical:n,affectsX:r,affectsY:o}}function Jt(e,t){return Math.max(0,t-e)}function en(e,t){return Math.max(0,e-t)}function Pi(e,t,n){return Math.max(0,t-e,e-n)}function af(e,t){return e?!t:t}function NS(e,t,n,r,o,i,s,l){let{affectsX:a,affectsY:u}=t;const{isHorizontal:f,isVertical:c}=t,d=f&&c,{xSnapped:x,ySnapped:g}=n,{minWidth:w,maxWidth:_,minHeight:m,maxHeight:y}=r,{x:h,y:v,width:N,height:S,aspectRatio:M}=e;let j=Math.floor(f?x-e.pointerX:0),$=Math.floor(c?g-e.pointerY:0);const O=N+(a?-j:j),A=S+(u?-$:$),L=-i[0]*N,V=-i[1]*S;let C=Pi(O,w,_),T=Pi(A,m,y);if(s){let E=0,k=0;a&&j<0?E=Jt(h+j+L,s[0][0]):!a&&j>0&&(E=en(h+O+L,s[1][0])),u&&$<0?k=Jt(v+$+V,s[0][1]):!u&&$>0&&(k=en(v+A+V,s[1][1])),C=Math.max(C,E),T=Math.max(T,k)}if(l){let E=0,k=0;a&&j>0?E=en(h+j,l[0][0]):!a&&j<0&&(E=Jt(h+O,l[1][0])),u&&$>0?k=en(v+$,l[0][1]):!u&&$<0&&(k=Jt(v+A,l[1][1])),C=Math.max(C,E),T=Math.max(T,k)}if(o){if(f){const E=Pi(O/M,m,y)*M;if(C=Math.max(C,E),s){let k=0;!a&&!u||a&&!u&&d?k=en(v+V+O/M,s[1][1])*M:k=Jt(v+V+(a?j:-j)/M,s[0][1])*M,C=Math.max(C,k)}if(l){let k=0;!a&&!u||a&&!u&&d?k=Jt(v+O/M,l[1][1])*M:k=en(v+(a?j:-j)/M,l[0][1])*M,C=Math.max(C,k)}}if(c){const E=Pi(A*M,w,_)/M;if(T=Math.max(T,E),s){let k=0;!a&&!u||u&&!a&&d?k=en(h+A*M+L,s[1][0])/M:k=Jt(h+(u?$:-$)*M+L,s[0][0])/M,T=Math.max(T,k)}if(l){let k=0;!a&&!u||u&&!a&&d?k=Jt(h+A*M,l[1][0])/M:k=en(h+(u?$:-$)*M,l[0][0])/M,T=Math.max(T,k)}}}$=$+($<0?T:-T),j=j+(j<0?C:-C),o&&(d?O>A*M?$=(af(a,u)?-j:j)/M:j=(af(a,u)?-$:$)*M:f?($=j/M,u=a):(j=$*M,a=u));const I=a?h+j:h,D=u?v+$:v;return{width:N+(a?-j:j),height:S+(u?-$:$),x:i[0]*j*(a?-1:1)+I,y:i[1]*$*(u?-1:1)+D}}const tg={width:0,height:0,x:0,y:0},ES={...tg,pointerX:0,pointerY:0,aspectRatio:1};function CS(e){return[[0,0],[e.measured.width,e.measured.height]]}function kS(e,t,n){const r=t.position.x+e.position.x,o=t.position.y+e.position.y,i=e.measured.width??0,s=e.measured.height??0,l=n[0]*i,a=n[1]*s;return[[r-l,o-a],[r+i-l,o+s-a]]}function MS({domNode:e,nodeId:t,getStoreItems:n,onChange:r,onEnd:o}){const i=Je(e);let s={controlDirection:lf("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function l({controlPosition:u,boundaries:f,keepAspectRatio:c,resizeDirection:d,onResizeStart:x,onResize:g,onResizeEnd:w,shouldResize:_}){let m={...tg},y={...ES};s={boundaries:f,resizeDirection:d,keepAspectRatio:c,controlDirection:lf(u)};let h,v=null,N=[],S,M,j,$=!1;const O=cm().on("start",A=>{const{nodeLookup:L,transform:V,snapGrid:C,snapToGrid:T,nodeOrigin:I,paneDomNode:D}=n();if(h=L.get(t),!h)return;v=(D==null?void 0:D.getBoundingClientRect())??null;const{xSnapped:E,ySnapped:k}=ao(A.sourceEvent,{transform:V,snapGrid:C,snapToGrid:T,containerBounds:v});m={width:h.measured.width??0,height:h.measured.height??0,x:h.position.x??0,y:h.position.y??0},y={...m,pointerX:E,pointerY:k,aspectRatio:m.width/m.height},S=void 0,h.parentId&&(h.extent==="parent"||h.expandParent)&&(S=L.get(h.parentId),M=S&&h.extent==="parent"?CS(S):void 0),N=[],j=void 0;for(const[b,H]of L)if(H.parentId===t&&(N.push({id:b,position:{...H.position},extent:H.extent}),H.extent==="parent"||H.expandParent)){const F=kS(H,h,H.origin??I);j?j=[[Math.min(F[0][0],j[0][0]),Math.min(F[0][1],j[0][1])],[Math.max(F[1][0],j[1][0]),Math.max(F[1][1],j[1][1])]]:j=F}x==null||x(A,{...m})}).on("drag",A=>{const{transform:L,snapGrid:V,snapToGrid:C,nodeOrigin:T}=n(),I=ao(A.sourceEvent,{transform:L,snapGrid:V,snapToGrid:C,containerBounds:v}),D=[];if(!h)return;const{x:E,y:k,width:b,height:H}=m,F={},Y=h.origin??T,{width:W,height:te,x:J,y:ne}=NS(y,s.controlDirection,I,s.boundaries,s.keepAspectRatio,Y,M,j),z=W!==b,re=te!==H,X=J!==E&&z,Q=ne!==k&&re;if(!X&&!Q&&!z&&!re)return;if((X||Q||Y[0]===1||Y[1]===1)&&(F.x=X?J:m.x,F.y=Q?ne:m.y,m.x=F.x,m.y=F.y,N.length>0)){const ue=J-E,se=ne-k;for(const ve of N)ve.position={x:ve.position.x-ue+Y[0]*(W-b),y:ve.position.y-se+Y[1]*(te-H)},D.push(ve)}if((z||re)&&(F.width=z&&(!s.resizeDirection||s.resizeDirection==="horizontal")?W:m.width,F.height=re&&(!s.resizeDirection||s.resizeDirection==="vertical")?te:m.height,m.width=F.width,m.height=F.height),S&&h.expandParent){const ue=Y[0]*(F.width??0);F.x&&F.x<ue&&(m.x=ue,y.x=y.x-(F.x-ue));const se=Y[1]*(F.height??0);F.y&&F.y<se&&(m.y=se,y.y=y.y-(F.y-se))}const K=SS({width:m.width,prevWidth:b,height:m.height,prevHeight:H,affectsX:s.controlDirection.affectsX,affectsY:s.controlDirection.affectsY}),G={...m,direction:K};(_==null?void 0:_(A,G))!==!1&&($=!0,g==null||g(A,G),r(F,D))}).on("end",A=>{$&&(w==null||w(A,{...m}),o==null||o({...m}),$=!1)});i.call(O)}function a(){i.on(".drag",null)}return{update:l,destroy:a}}var ng={exports:{}},rg={},og={exports:{}},ig={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tr=R;function jS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var IS=typeof Object.is=="function"?Object.is:jS,TS=Tr.useState,PS=Tr.useEffect,AS=Tr.useLayoutEffect,$S=Tr.useDebugValue;function bS(e,t){var n=t(),r=TS({inst:{value:n,getSnapshot:t}}),o=r[0].inst,i=r[1];return AS(function(){o.value=n,o.getSnapshot=t,Yl(o)&&i({inst:o})},[e,n,t]),PS(function(){return Yl(o)&&i({inst:o}),e(function(){Yl(o)&&i({inst:o})})},[e]),$S(n),n}function Yl(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!IS(e,n)}catch{return!0}}function LS(e,t){return t()}var RS=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?LS:bS;ig.useSyncExternalStore=Tr.useSyncExternalStore!==void 0?Tr.useSyncExternalStore:RS;og.exports=ig;var DS=og.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nl=R,zS=DS;function OS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var FS=typeof Object.is=="function"?Object.is:OS,HS=zS.useSyncExternalStore,VS=nl.useRef,BS=nl.useEffect,US=nl.useMemo,WS=nl.useDebugValue;rg.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var i=VS(null);if(i.current===null){var s={hasValue:!1,value:null};i.current=s}else s=i.current;i=US(function(){function a(x){if(!u){if(u=!0,f=x,x=r(x),o!==void 0&&s.hasValue){var g=s.value;if(o(g,x))return c=g}return c=x}if(g=c,FS(f,x))return g;var w=r(x);return o!==void 0&&o(g,w)?(f=x,g):(f=x,c=w)}var u=!1,f,c,d=n===void 0?null:n;return[function(){return a(t())},d===null?void 0:function(){return a(d())}]},[t,n,r,o]);var l=HS(e,i[0],i[1]);return BS(function(){s.hasValue=!0,s.value=l},[l]),WS(l),l};ng.exports=rg;var YS=ng.exports;const XS=Rf(YS),GS={},uf=e=>{let t;const n=new Set,r=(f,c)=>{const d=typeof f=="function"?f(t):f;if(!Object.is(d,t)){const x=t;t=c??(typeof d!="object"||d===null)?d:Object.assign({},t,d),n.forEach(g=>g(t,x))}},o=()=>t,a={setState:r,getState:o,getInitialState:()=>u,subscribe:f=>(n.add(f),()=>n.delete(f)),destroy:()=>{(GS?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,o,a);return a},QS=e=>e?uf(e):uf,{useDebugValue:KS}=Xf,{useSyncExternalStoreWithSelector:ZS}=XS,qS=e=>e;function sg(e,t=qS,n){const r=ZS(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return KS(r),r}const cf=(e,t)=>{const n=QS(e),r=(o,i=t)=>sg(n,o,i);return Object.assign(r,n),r},JS=(e,t)=>e?cf(e,t):cf;function _e(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,o]of e)if(!Object.is(o,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}const rl=R.createContext(null),e2=rl.Provider,lg=Lt.error001();function fe(e,t){const n=R.useContext(rl);if(n===null)throw new Error(lg);return sg(n,e,t)}function Se(){const e=R.useContext(rl);if(e===null)throw new Error(lg);return R.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const df={display:"none"},t2={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},ag="react-flow__node-desc",ug="react-flow__edge-desc",n2="react-flow__aria-live",r2=e=>e.ariaLiveMessage,o2=e=>e.ariaLabelConfig;function i2({rfId:e}){const t=fe(r2);return p.jsx("div",{id:`${n2}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:t2,children:t})}function s2({rfId:e,disableKeyboardA11y:t}){const n=fe(o2);return p.jsxs(p.Fragment,{children:[p.jsx("div",{id:`${ag}-${e}`,style:df,children:t?n["node.a11yDescription.default"]:n["node.a11yDescription.keyboardDisabled"]}),p.jsx("div",{id:`${ug}-${e}`,style:df,children:n["edge.a11yDescription.default"]}),!t&&p.jsx(i2,{rfId:e})]})}const Pr=R.forwardRef(({position:e="top-left",children:t,className:n,style:r,...o},i)=>{const s=`${e}`.split("-");return p.jsx("div",{className:Ie(["react-flow__panel",n,...s]),style:r,ref:i,...o,children:t})});Pr.displayName="Panel";function l2({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:p.jsx(Pr,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:p.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const a2=e=>{const t=[],n=[];for(const[,r]of e.nodeLookup)r.selected&&t.push(r.internals.userNode);for(const[,r]of e.edgeLookup)r.selected&&n.push(r);return{selectedNodes:t,selectedEdges:n}},Ai=e=>e.id;function u2(e,t){return _e(e.selectedNodes.map(Ai),t.selectedNodes.map(Ai))&&_e(e.selectedEdges.map(Ai),t.selectedEdges.map(Ai))}function c2({onSelectionChange:e}){const t=Se(),{selectedNodes:n,selectedEdges:r}=fe(a2,u2);return R.useEffect(()=>{const o={nodes:n,edges:r};e==null||e(o),t.getState().onSelectionChangeHandlers.forEach(i=>i(o))},[n,r,e]),null}const d2=e=>!!e.onSelectionChangeHandlers;function f2({onSelectionChange:e}){const t=fe(d2);return e||t?p.jsx(c2,{onSelectionChange:e}):null}const cg=[0,0],h2={x:0,y:0,zoom:1},p2=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode"],ff=[...p2,"rfId"],m2=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges}),hf={translateExtent:Po,nodeOrigin:cg,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function g2(e){const{setNodes:t,setEdges:n,setMinZoom:r,setMaxZoom:o,setTranslateExtent:i,setNodeExtent:s,reset:l,setDefaultNodesAndEdges:a}=fe(m2,_e),u=Se();R.useEffect(()=>(a(e.defaultNodes,e.defaultEdges),()=>{f.current=hf,l()}),[]);const f=R.useRef(hf);return R.useEffect(()=>{for(const c of ff){const d=e[c],x=f.current[c];d!==x&&(typeof e[c]>"u"||(c==="nodes"?t(d):c==="edges"?n(d):c==="minZoom"?r(d):c==="maxZoom"?o(d):c==="translateExtent"?i(d):c==="nodeExtent"?s(d):c==="ariaLabelConfig"?u.setState({ariaLabelConfig:F_(d)}):c==="fitView"?u.setState({fitViewQueued:d}):c==="fitViewOptions"?u.setState({fitViewOptions:d}):u.setState({[c]:d})))}f.current=e},ff.map(c=>e[c])),null}function pf(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function y2(e){var r;const[t,n]=R.useState(e==="system"?null:e);return R.useEffect(()=>{if(e!=="system"){n(e);return}const o=pf(),i=()=>n(o!=null&&o.matches?"dark":"light");return i(),o==null||o.addEventListener("change",i),()=>{o==null||o.removeEventListener("change",i)}},[e]),t!==null?t:(r=pf())!=null&&r.matches?"dark":"light"}const mf=typeof document<"u"?document:null;function Lo(e=null,t={target:mf,actInsideInputWithModifier:!0}){const[n,r]=R.useState(!1),o=R.useRef(!1),i=R.useRef(new Set([])),[s,l]=R.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(c=>typeof c=="string").map(c=>c.replace("+",`
`).replace(`

`,`
+`).split(`
`)),f=u.reduce((c,d)=>c.concat(...d),[]);return[u,f]}return[[],[]]},[e]);return R.useEffect(()=>{const a=(t==null?void 0:t.target)??mf,u=(t==null?void 0:t.actInsideInputWithModifier)??!0;if(e!==null){const f=x=>{var _,m;if(o.current=x.ctrlKey||x.metaKey||x.shiftKey||x.altKey,(!o.current||o.current&&!u)&&zm(x))return!1;const w=yf(x.code,l);if(i.current.add(x[w]),gf(s,i.current,!1)){const y=((m=(_=x.composedPath)==null?void 0:_.call(x))==null?void 0:m[0])||x.target,h=(y==null?void 0:y.nodeName)==="BUTTON"||(y==null?void 0:y.nodeName)==="A";t.preventDefault!==!1&&(o.current||!h)&&x.preventDefault(),r(!0)}},c=x=>{const g=yf(x.code,l);gf(s,i.current,!0)?(r(!1),i.current.clear()):i.current.delete(x[g]),x.key==="Meta"&&i.current.clear(),o.current=!1},d=()=>{i.current.clear(),r(!1)};return a==null||a.addEventListener("keydown",f),a==null||a.addEventListener("keyup",c),window.addEventListener("blur",d),window.addEventListener("contextmenu",d),()=>{a==null||a.removeEventListener("keydown",f),a==null||a.removeEventListener("keyup",c),window.removeEventListener("blur",d),window.removeEventListener("contextmenu",d)}}},[e,r]),n}function gf(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(o=>t.has(o)))}function yf(e,t){return t.includes(e)?"code":"key"}const x2=()=>{const e=Se();return R.useMemo(()=>({zoomIn:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{const{panZoom:r}=e.getState();return r?r.scaleTo(t,{duration:n==null?void 0:n.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{const{transform:[r,o,i],panZoom:s}=e.getState();return s?(await s.setViewport({x:t.x??r,y:t.y??o,zoom:t.zoom??i},n),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,n,r]=e.getState().transform;return{x:t,y:n,zoom:r}},setCenter:async(t,n,r)=>e.getState().setCenter(t,n,r),fitBounds:async(t,n)=>{const{width:r,height:o,minZoom:i,maxZoom:s,panZoom:l}=e.getState(),a=ic(t,r,o,i,s,(n==null?void 0:n.padding)??.1);return l?(await l.setViewport(a,{duration:n==null?void 0:n.duration,ease:n==null?void 0:n.ease,interpolate:n==null?void 0:n.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,n={})=>{const{transform:r,snapGrid:o,snapToGrid:i,domNode:s}=e.getState();if(!s)return t;const{x:l,y:a}=s.getBoundingClientRect(),u={x:t.x-l,y:t.y-a},f=n.snapGrid??o,c=n.snapToGrid??i;return Yo(u,r,c,f)},flowToScreenPosition:t=>{const{transform:n,domNode:r}=e.getState();if(!r)return t;const{x:o,y:i}=r.getBoundingClientRect(),s=Ts(t,n);return{x:s.x+o,y:s.y+i}}}),[])};function dg(e,t){const n=[],r=new Map,o=[];for(const i of e)if(i.type==="add"){o.push(i);continue}else if(i.type==="remove"||i.type==="replace")r.set(i.id,[i]);else{const s=r.get(i.id);s?s.push(i):r.set(i.id,[i])}for(const i of t){const s=r.get(i.id);if(!s){n.push(i);continue}if(s[0].type==="remove")continue;if(s[0].type==="replace"){n.push({...s[0].item});continue}const l={...i};for(const a of s)v2(a,l);n.push(l)}return o.length&&o.forEach(i=>{i.index!==void 0?n.splice(i.index,0,{...i.item}):n.push({...i.item})}),n}function v2(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured={...e.dimensions},e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(t.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(t.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function fg(e,t){return dg(e,t)}function hg(e,t){return dg(e,t)}function kn(e,t){return{id:e,type:"select",selected:t}}function lr(e,t=new Set,n=!1){const r=[];for(const[o,i]of e){const s=t.has(o);!(i.selected===void 0&&!s)&&i.selected!==s&&(n&&(i.selected=s),r.push(kn(i.id,s)))}return r}function xf({items:e=[],lookup:t}){var o;const n=[],r=new Map(e.map(i=>[i.id,i]));for(const[i,s]of e.entries()){const l=t.get(s.id),a=((o=l==null?void 0:l.internals)==null?void 0:o.userNode)??l;a!==void 0&&a!==s&&n.push({id:s.id,item:s,type:"replace"}),a===void 0&&n.push({item:s,type:"add",index:i})}for(const[i]of t)r.get(i)===void 0&&n.push({id:i,type:"remove"});return n}function vf(e){return{id:e.id,type:"remove"}}const wf=e=>T_(e),w2=e=>Tm(e);function pg(e){return R.forwardRef(e)}const _2=typeof window<"u"?R.useLayoutEffect:R.useEffect;function _f(e){const[t,n]=R.useState(BigInt(0)),[r]=R.useState(()=>S2(()=>n(o=>o+BigInt(1))));return _2(()=>{const o=r.get();o.length&&(e(o),r.reset())},[t]),r}function S2(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}}const mg=R.createContext(null);function N2({children:e}){const t=Se(),n=R.useCallback(l=>{const{nodes:a=[],setNodes:u,hasDefaultNodes:f,onNodesChange:c,nodeLookup:d,fitViewQueued:x,onNodesChangeMiddlewareMap:g}=t.getState();let w=a;for(const m of l)w=typeof m=="function"?m(w):m;let _=xf({items:w,lookup:d});for(const m of g.values())_=m(_);f&&u(w),_.length>0?c==null||c(_):x&&window.requestAnimationFrame(()=>{const{fitViewQueued:m,nodes:y,setNodes:h}=t.getState();m&&h(y)})},[]),r=_f(n),o=R.useCallback(l=>{const{edges:a=[],setEdges:u,hasDefaultEdges:f,onEdgesChange:c,edgeLookup:d}=t.getState();let x=a;for(const g of l)x=typeof g=="function"?g(x):g;f?u(x):c&&c(xf({items:x,lookup:d}))},[]),i=_f(o),s=R.useMemo(()=>({nodeQueue:r,edgeQueue:i}),[]);return p.jsx(mg.Provider,{value:s,children:e})}function E2(){const e=R.useContext(mg);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const C2=e=>!!e.panZoom;function fc(){const e=x2(),t=Se(),n=E2(),r=fe(C2),o=R.useMemo(()=>{const i=c=>t.getState().nodeLookup.get(c),s=c=>{n.nodeQueue.push(c)},l=c=>{n.edgeQueue.push(c)},a=c=>{var m,y;const{nodeLookup:d,nodeOrigin:x}=t.getState(),g=wf(c)?c:d.get(c.id),w=g.parentId?Rm(g.position,g.measured,g.parentId,d,x):g.position,_={...g,position:w,width:((m=g.measured)==null?void 0:m.width)??g.width,height:((y=g.measured)==null?void 0:y.height)??g.height};return Mr(_)},u=(c,d,x={replace:!1})=>{s(g=>g.map(w=>{if(w.id===c){const _=typeof d=="function"?d(w):d;return x.replace&&wf(_)?_:{...w,..._}}return w}))},f=(c,d,x={replace:!1})=>{l(g=>g.map(w=>{if(w.id===c){const _=typeof d=="function"?d(w):d;return x.replace&&w2(_)?_:{...w,..._}}return w}))};return{getNodes:()=>t.getState().nodes.map(c=>({...c})),getNode:c=>{var d;return(d=i(c))==null?void 0:d.internals.userNode},getInternalNode:i,getEdges:()=>{const{edges:c=[]}=t.getState();return c.map(d=>({...d}))},getEdge:c=>t.getState().edgeLookup.get(c),setNodes:s,setEdges:l,addNodes:c=>{const d=Array.isArray(c)?c:[c];n.nodeQueue.push(x=>[...x,...d])},addEdges:c=>{const d=Array.isArray(c)?c:[c];n.edgeQueue.push(x=>[...x,...d])},toObject:()=>{const{nodes:c=[],edges:d=[],transform:x}=t.getState(),[g,w,_]=x;return{nodes:c.map(m=>({...m})),edges:d.map(m=>({...m})),viewport:{x:g,y:w,zoom:_}}},deleteElements:async({nodes:c=[],edges:d=[]})=>{const{nodes:x,edges:g,onNodesDelete:w,onEdgesDelete:_,triggerNodeChanges:m,triggerEdgeChanges:y,onDelete:h,onBeforeDelete:v}=t.getState(),{nodes:N,edges:S}=await L_({nodesToRemove:c,edgesToRemove:d,nodes:x,edges:g,onBeforeDelete:v}),M=S.length>0,j=N.length>0;if(M){const $=S.map(vf);_==null||_(S),y($)}if(j){const $=N.map(vf);w==null||w(N),m($)}return(j||M)&&(h==null||h({nodes:N,edges:S})),{deletedNodes:N,deletedEdges:S}},getIntersectingNodes:(c,d=!0,x)=>{const g=Qd(c),w=g?c:a(c),_=x!==void 0;return w?(x||t.getState().nodes).filter(m=>{const y=t.getState().nodeLookup.get(m.id);if(y&&!g&&(m.id===c.id||!y.internals.positionAbsolute))return!1;const h=Mr(_?m:y),v=$o(h,w);return d&&v>0||v>=h.width*h.height||v>=w.width*w.height}):[]},isNodeIntersecting:(c,d,x=!0)=>{const w=Qd(c)?c:a(c);if(!w)return!1;const _=$o(w,d);return x&&_>0||_>=d.width*d.height||_>=w.width*w.height},updateNode:u,updateNodeData:(c,d,x={replace:!1})=>{u(c,g=>{const w=typeof d=="function"?d(g):d;return x.replace?{...g,data:w}:{...g,data:{...g.data,...w}}},x)},updateEdge:f,updateEdgeData:(c,d,x={replace:!1})=>{f(c,g=>{const w=typeof d=="function"?d(g):d;return x.replace?{...g,data:w}:{...g,data:{...g.data,...w}}},x)},getNodesBounds:c=>{const{nodeLookup:d,nodeOrigin:x}=t.getState();return P_(c,{nodeLookup:d,nodeOrigin:x})},getHandleConnections:({type:c,id:d,nodeId:x})=>{var g;return Array.from(((g=t.getState().connectionLookup.get(`${x}-${c}${d?`-${d}`:""}`))==null?void 0:g.values())??[])},getNodeConnections:({type:c,handleId:d,nodeId:x})=>{var g;return Array.from(((g=t.getState().connectionLookup.get(`${x}${c?d?`-${c}-${d}`:`-${c}`:""}`))==null?void 0:g.values())??[])},fitView:async c=>{const d=t.getState().fitViewResolver??O_();return t.setState({fitViewQueued:!0,fitViewOptions:c,fitViewResolver:d}),n.nodeQueue.push(x=>[...x]),d.promise}}},[]);return R.useMemo(()=>({...o,...e,viewportInitialized:r}),[r])}const Sf=e=>e.selected,k2=typeof window<"u"?window:void 0;function M2({deleteKeyCode:e,multiSelectionKeyCode:t}){const n=Se(),{deleteElements:r}=fc(),o=Lo(e,{actInsideInputWithModifier:!1}),i=Lo(t,{target:k2});R.useEffect(()=>{if(o){const{edges:s,nodes:l}=n.getState();r({nodes:l.filter(Sf),edges:s.filter(Sf)}),n.setState({nodesSelectionActive:!1})}},[o]),R.useEffect(()=>{n.setState({multiSelectionActive:i})},[i])}function j2(e){const t=Se();R.useEffect(()=>{const n=()=>{var o,i,s,l;if(!e.current||!(((i=(o=e.current).checkVisibility)==null?void 0:i.call(o))??!0))return!1;const r=sc(e.current);(r.height===0||r.width===0)&&((l=(s=t.getState()).onError)==null||l.call(s,"004",Lt.error004())),t.setState({width:r.width||500,height:r.height||500})};if(e.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(e.current),()=>{window.removeEventListener("resize",n),r&&e.current&&r.unobserve(e.current)}}},[])}const ol={position:"absolute",width:"100%",height:"100%",top:0,left:0},I2=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib,connectionInProgress:e.connection.inProgress});function T2({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:o=.5,panOnScrollMode:i=bn.Free,zoomOnDoubleClick:s=!0,panOnDrag:l=!0,defaultViewport:a,translateExtent:u,minZoom:f,maxZoom:c,zoomActivationKeyCode:d,preventScrolling:x=!0,children:g,noWheelClassName:w,noPanClassName:_,onViewportChange:m,isControlledViewport:y,paneClickDistance:h,selectionOnDrag:v}){const N=Se(),S=R.useRef(null),{userSelectionActive:M,lib:j,connectionInProgress:$}=fe(I2,_e),O=Lo(d),A=R.useRef();j2(S);const L=R.useCallback(V=>{m==null||m({x:V[0],y:V[1],zoom:V[2]}),y||N.setState({transform:V})},[m,y]);return R.useEffect(()=>{if(S.current){A.current=_S({domNode:S.current,minZoom:f,maxZoom:c,translateExtent:u,viewport:a,onDraggingChange:I=>N.setState({paneDragging:I}),onPanZoomStart:(I,D)=>{const{onViewportChangeStart:E,onMoveStart:k}=N.getState();k==null||k(I,D),E==null||E(D)},onPanZoom:(I,D)=>{const{onViewportChange:E,onMove:k}=N.getState();k==null||k(I,D),E==null||E(D)},onPanZoomEnd:(I,D)=>{const{onViewportChangeEnd:E,onMoveEnd:k}=N.getState();k==null||k(I,D),E==null||E(D)}});const{x:V,y:C,zoom:T}=A.current.getViewport();return N.setState({panZoom:A.current,transform:[V,C,T],domNode:S.current.closest(".react-flow")}),()=>{var I;(I=A.current)==null||I.destroy()}}},[]),R.useEffect(()=>{var V;(V=A.current)==null||V.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:o,panOnScrollMode:i,zoomOnDoubleClick:s,panOnDrag:l,zoomActivationKeyPressed:O,preventScrolling:x,noPanClassName:_,userSelectionActive:M,noWheelClassName:w,lib:j,onTransformChange:L,connectionInProgress:$,selectionOnDrag:v,paneClickDistance:h})},[e,t,n,r,o,i,s,l,O,x,_,M,w,j,L,$,v,h]),p.jsx("div",{className:"react-flow__renderer",ref:S,style:ol,children:g})}const P2=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function A2(){const{userSelectionActive:e,userSelectionRect:t}=fe(P2,_e);return e&&t?p.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const Xl=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},$2=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function b2({isSelecting:e,selectionKeyPressed:t,selectionMode:n=Ao.Full,panOnDrag:r,paneClickDistance:o,selectionOnDrag:i,onSelectionStart:s,onSelectionEnd:l,onPaneClick:a,onPaneContextMenu:u,onPaneScroll:f,onPaneMouseEnter:c,onPaneMouseMove:d,onPaneMouseLeave:x,children:g}){const w=Se(),{userSelectionActive:_,elementsSelectable:m,dragging:y,connectionInProgress:h}=fe($2,_e),v=m&&(e||_),N=R.useRef(null),S=R.useRef(),M=R.useRef(new Set),j=R.useRef(new Set),$=R.useRef(!1),O=E=>{if($.current||h){$.current=!1;return}a==null||a(E),w.getState().resetSelectedElements(),w.setState({nodesSelectionActive:!1})},A=E=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){E.preventDefault();return}u==null||u(E)},L=f?E=>f(E):void 0,V=E=>{$.current&&(E.stopPropagation(),$.current=!1)},C=E=>{var te,J;const{domNode:k}=w.getState();if(S.current=k==null?void 0:k.getBoundingClientRect(),!S.current)return;const b=E.target===N.current;if(!b&&!!E.target.closest(".nokey")||!e||!(i&&b||t)||E.button!==0||!E.isPrimary)return;(J=(te=E.target)==null?void 0:te.setPointerCapture)==null||J.call(te,E.pointerId),$.current=!1;const{x:Y,y:W}=St(E.nativeEvent,S.current);w.setState({userSelectionRect:{width:0,height:0,startX:Y,startY:W,x:Y,y:W}}),b||(E.stopPropagation(),E.preventDefault())},T=E=>{const{userSelectionRect:k,transform:b,nodeLookup:H,edgeLookup:F,connectionLookup:Y,triggerNodeChanges:W,triggerEdgeChanges:te,defaultEdgeOptions:J,resetSelectedElements:ne}=w.getState();if(!S.current||!k)return;const{x:z,y:re}=St(E.nativeEvent,S.current),{startX:X,startY:Q}=k;if(!$.current){const se=t?0:o;if(Math.hypot(z-X,re-Q)<=se)return;ne(),s==null||s(E)}$.current=!0;const K={startX:X,startY:Q,x:z<X?z:X,y:re<Q?re:Q,width:Math.abs(z-X),height:Math.abs(re-Q)},G=M.current,ie=j.current;M.current=new Set(oc(H,K,b,n===Ao.Partial,!0).map(se=>se.id)),j.current=new Set;const ue=(J==null?void 0:J.selectable)??!0;for(const se of M.current){const ve=Y.get(se);if(ve)for(const{edgeId:pt}of ve.values()){const lt=F.get(pt);lt&&(lt.selectable??ue)&&j.current.add(pt)}}if(!Kd(G,M.current)){const se=lr(H,M.current,!0);W(se)}if(!Kd(ie,j.current)){const se=lr(F,j.current);te(se)}w.setState({userSelectionRect:K,userSelectionActive:!0,nodesSelectionActive:!1})},I=E=>{var k,b;E.button===0&&((b=(k=E.target)==null?void 0:k.releasePointerCapture)==null||b.call(k,E.pointerId),!_&&E.target===N.current&&w.getState().userSelectionRect&&(O==null||O(E)),w.setState({userSelectionActive:!1,userSelectionRect:null}),$.current&&(l==null||l(E),w.setState({nodesSelectionActive:M.current.size>0})))},D=r===!0||Array.isArray(r)&&r.includes(0);return p.jsxs("div",{className:Ie(["react-flow__pane",{draggable:D,dragging:y,selection:e}]),onClick:v?void 0:Xl(O,N),onContextMenu:Xl(A,N),onWheel:Xl(L,N),onPointerEnter:v?void 0:c,onPointerMove:v?T:d,onPointerUp:v?I:void 0,onPointerDownCapture:v?C:void 0,onClickCapture:v?V:void 0,onPointerLeave:x,ref:N,style:ol,children:[g,p.jsx(A2,{})]})}function tu({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:o,unselectNodesAndEdges:i,multiSelectionActive:s,nodeLookup:l,onError:a}=t.getState(),u=l.get(e);if(!u){a==null||a("012",Lt.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&s)&&(i({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var f;return(f=r==null?void 0:r.current)==null?void 0:f.blur()})):o([e])}function gg({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:o,isSelectable:i,nodeClickDistance:s}){const l=Se(),[a,u]=R.useState(!1),f=R.useRef();return R.useEffect(()=>{f.current=lS({getStoreItems:()=>l.getState(),onNodeMouseDown:c=>{tu({id:c,store:l,nodeRef:e})},onDragStart:()=>{u(!0)},onDragStop:()=>{u(!1)}})},[]),R.useEffect(()=>{var c,d;if(t)(c=f.current)==null||c.destroy();else if(e.current)return(d=f.current)==null||d.update({noDragClassName:n,handleSelector:r,domNode:e.current,isSelectable:i,nodeId:o,nodeClickDistance:s}),()=>{var x;(x=f.current)==null||x.destroy()}},[n,r,t,i,e,o]),a}const L2=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function yg(){const e=Se();return R.useCallback(n=>{const{nodeExtent:r,snapToGrid:o,snapGrid:i,nodesDraggable:s,onError:l,updateNodePositions:a,nodeLookup:u,nodeOrigin:f}=e.getState(),c=new Map,d=L2(s),x=o?i[0]:5,g=o?i[1]:5,w=n.direction.x*x*n.factor,_=n.direction.y*g*n.factor;for(const[,m]of u){if(!d(m))continue;let y={x:m.internals.positionAbsolute.x+w,y:m.internals.positionAbsolute.y+_};o&&(y=Wo(y,i));const{position:h,positionAbsolute:v}=Pm({nodeId:m.id,nextPosition:y,nodeLookup:u,nodeExtent:r,nodeOrigin:f,onError:l});m.position=h,m.internals.positionAbsolute=v,c.set(m.id,m)}a(c)},[])}const hc=R.createContext(null),R2=hc.Provider;hc.Consumer;const xg=()=>R.useContext(hc),D2=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),z2=(e,t,n)=>r=>{const{connectionClickStartHandle:o,connectionMode:i,connection:s}=r,{fromHandle:l,toHandle:a,isValid:u}=s,f=(a==null?void 0:a.nodeId)===e&&(a==null?void 0:a.id)===t&&(a==null?void 0:a.type)===n;return{connectingFrom:(l==null?void 0:l.nodeId)===e&&(l==null?void 0:l.id)===t&&(l==null?void 0:l.type)===n,connectingTo:f,clickConnecting:(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.id)===t&&(o==null?void 0:o.type)===n,isPossibleEndHandle:i===Cr.Strict?(l==null?void 0:l.type)!==n:e!==(l==null?void 0:l.nodeId)||t!==(l==null?void 0:l.id),connectionInProcess:!!l,clickConnectionInProcess:!!o,valid:f&&u}};function O2({type:e="source",position:t=q.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:o=!0,isConnectableEnd:i=!0,id:s,onConnect:l,children:a,className:u,onMouseDown:f,onTouchStart:c,...d},x){var T,I;const g=s||null,w=e==="target",_=Se(),m=xg(),{connectOnClick:y,noPanClassName:h,rfId:v}=fe(D2,_e),{connectingFrom:N,connectingTo:S,clickConnecting:M,isPossibleEndHandle:j,connectionInProcess:$,clickConnectionInProcess:O,valid:A}=fe(z2(m,g,e),_e);m||(I=(T=_.getState()).onError)==null||I.call(T,"010",Lt.error010());const L=D=>{const{defaultEdgeOptions:E,onConnect:k,hasDefaultEdges:b}=_.getState(),H={...E,...D};if(b){const{edges:F,setEdges:Y}=_.getState();Y(Bm(H,F))}k==null||k(H),l==null||l(H)},V=D=>{if(!m)return;const E=Om(D.nativeEvent);if(o&&(E&&D.button===0||!E)){const k=_.getState();eu.onPointerDown(D.nativeEvent,{handleDomNode:D.currentTarget,autoPanOnConnect:k.autoPanOnConnect,connectionMode:k.connectionMode,connectionRadius:k.connectionRadius,domNode:k.domNode,nodeLookup:k.nodeLookup,lib:k.lib,isTarget:w,handleId:g,nodeId:m,flowId:k.rfId,panBy:k.panBy,cancelConnection:k.cancelConnection,onConnectStart:k.onConnectStart,onConnectEnd:k.onConnectEnd,updateConnection:k.updateConnection,onConnect:L,isValidConnection:n||k.isValidConnection,getTransform:()=>_.getState().transform,getFromHandle:()=>_.getState().connection.fromHandle,autoPanSpeed:k.autoPanSpeed,dragThreshold:k.connectionDragThreshold})}E?f==null||f(D):c==null||c(D)},C=D=>{const{onClickConnectStart:E,onClickConnectEnd:k,connectionClickStartHandle:b,connectionMode:H,isValidConnection:F,lib:Y,rfId:W,nodeLookup:te,connection:J}=_.getState();if(!m||!b&&!o)return;if(!b){E==null||E(D.nativeEvent,{nodeId:m,handleId:g,handleType:e}),_.setState({connectionClickStartHandle:{nodeId:m,type:e,id:g}});return}const ne=Dm(D.target),z=n||F,{connection:re,isValid:X}=eu.isValid(D.nativeEvent,{handle:{nodeId:m,id:g,type:e},connectionMode:H,fromNodeId:b.nodeId,fromHandleId:b.id||null,fromType:b.type,isValidConnection:z,flowId:W,doc:ne,lib:Y,nodeLookup:te});X&&re&&L(re);const Q=structuredClone(J);delete Q.inProgress,Q.toPosition=Q.toHandle?Q.toHandle.position:null,k==null||k(D,Q),_.setState({connectionClickStartHandle:null})};return p.jsx("div",{"data-handleid":g,"data-nodeid":m,"data-handlepos":t,"data-id":`${v}-${m}-${g}-${e}`,className:Ie(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",h,u,{source:!w,target:w,connectable:r,connectablestart:o,connectableend:i,clickconnecting:M,connectingfrom:N,connectingto:S,valid:A,connectionindicator:r&&(!$||j)&&($||O?i:o)}]),onMouseDown:V,onTouchStart:V,onClick:y?C:void 0,ref:x,...d,children:a})}const Ve=R.memo(pg(O2));function F2({data:e,isConnectable:t,sourcePosition:n=q.Bottom}){return p.jsxs(p.Fragment,{children:[e==null?void 0:e.label,p.jsx(Ve,{type:"source",position:n,isConnectable:t})]})}function H2({data:e,isConnectable:t,targetPosition:n=q.Top,sourcePosition:r=q.Bottom}){return p.jsxs(p.Fragment,{children:[p.jsx(Ve,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,p.jsx(Ve,{type:"source",position:r,isConnectable:t})]})}function V2(){return null}function B2({data:e,isConnectable:t,targetPosition:n=q.Top}){return p.jsxs(p.Fragment,{children:[p.jsx(Ve,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label]})}const Ps={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},Nf={input:F2,default:H2,output:B2,group:V2};function U2(e){var t,n,r,o;return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??((t=e.style)==null?void 0:t.width),height:e.height??e.initialHeight??((n=e.style)==null?void 0:n.height)}:{width:e.width??((r=e.style)==null?void 0:r.width),height:e.height??((o=e.style)==null?void 0:o.height)}}const W2=e=>{const{width:t,height:n,x:r,y:o}=Uo(e.nodeLookup,{filter:i=>!!i.selected});return{width:_t(t)?t:null,height:_t(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${r}px,${o}px)`}};function Y2({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=Se(),{width:o,height:i,transformString:s,userSelectionActive:l}=fe(W2,_e),a=yg(),u=R.useRef(null);if(R.useEffect(()=>{var d;n||(d=u.current)==null||d.focus({preventScroll:!0})},[n]),gg({nodeRef:u}),l||!o||!i)return null;const f=e?d=>{const x=r.getState().nodes.filter(g=>g.selected);e(d,x)}:void 0,c=d=>{Object.prototype.hasOwnProperty.call(Ps,d.key)&&(d.preventDefault(),a({direction:Ps[d.key],factor:d.shiftKey?4:1}))};return p.jsx("div",{className:Ie(["react-flow__nodesselection","react-flow__container",t]),style:{transform:s},children:p.jsx("div",{ref:u,className:"react-flow__nodesselection-rect",onContextMenu:f,tabIndex:n?void 0:-1,onKeyDown:n?void 0:c,style:{width:o,height:i}})})}const Ef=typeof window<"u"?window:void 0,X2=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function vg({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:i,onPaneScroll:s,paneClickDistance:l,deleteKeyCode:a,selectionKeyCode:u,selectionOnDrag:f,selectionMode:c,onSelectionStart:d,onSelectionEnd:x,multiSelectionKeyCode:g,panActivationKeyCode:w,zoomActivationKeyCode:_,elementsSelectable:m,zoomOnScroll:y,zoomOnPinch:h,panOnScroll:v,panOnScrollSpeed:N,panOnScrollMode:S,zoomOnDoubleClick:M,panOnDrag:j,defaultViewport:$,translateExtent:O,minZoom:A,maxZoom:L,preventScrolling:V,onSelectionContextMenu:C,noWheelClassName:T,noPanClassName:I,disableKeyboardA11y:D,onViewportChange:E,isControlledViewport:k}){const{nodesSelectionActive:b,userSelectionActive:H}=fe(X2,_e),F=Lo(u,{target:Ef}),Y=Lo(w,{target:Ef}),W=Y||j,te=Y||v,J=f&&W!==!0,ne=F||H||J;return M2({deleteKeyCode:a,multiSelectionKeyCode:g}),p.jsx(T2,{onPaneContextMenu:i,elementsSelectable:m,zoomOnScroll:y,zoomOnPinch:h,panOnScroll:te,panOnScrollSpeed:N,panOnScrollMode:S,zoomOnDoubleClick:M,panOnDrag:!F&&W,defaultViewport:$,translateExtent:O,minZoom:A,maxZoom:L,zoomActivationKeyCode:_,preventScrolling:V,noWheelClassName:T,noPanClassName:I,onViewportChange:E,isControlledViewport:k,paneClickDistance:l,selectionOnDrag:J,children:p.jsxs(b2,{onSelectionStart:d,onSelectionEnd:x,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:i,onPaneScroll:s,panOnDrag:W,isSelecting:!!ne,selectionMode:c,selectionKeyPressed:F,paneClickDistance:l,selectionOnDrag:J,children:[e,b&&p.jsx(Y2,{onSelectionContextMenu:C,noPanClassName:I,disableKeyboardA11y:D})]})})}vg.displayName="FlowRenderer";const G2=R.memo(vg),Q2=e=>t=>e?oc(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(n=>n.id):Array.from(t.nodeLookup.keys());function K2(e){return fe(R.useCallback(Q2(e),[e]),_e)}const Z2=e=>e.updateNodeInternals;function q2(){const e=fe(Z2),[t]=R.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(o=>{const i=o.target.getAttribute("data-id");r.set(i,{id:i,nodeElement:o.target,force:!0})}),e(r)}));return R.useEffect(()=>()=>{t==null||t.disconnect()},[t]),t}function J2({node:e,nodeType:t,hasDimensions:n,resizeObserver:r}){const o=Se(),i=R.useRef(null),s=R.useRef(null),l=R.useRef(e.sourcePosition),a=R.useRef(e.targetPosition),u=R.useRef(t),f=n&&!!e.internals.handleBounds;return R.useEffect(()=>{i.current&&!e.hidden&&(!f||s.current!==i.current)&&(s.current&&(r==null||r.unobserve(s.current)),r==null||r.observe(i.current),s.current=i.current)},[f,e.hidden]),R.useEffect(()=>()=>{s.current&&(r==null||r.unobserve(s.current),s.current=null)},[]),R.useEffect(()=>{if(i.current){const c=u.current!==t,d=l.current!==e.sourcePosition,x=a.current!==e.targetPosition;(c||d||x)&&(u.current=t,l.current=e.sourcePosition,a.current=e.targetPosition,o.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:i.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),i}function eN({id:e,onClick:t,onMouseEnter:n,onMouseMove:r,onMouseLeave:o,onContextMenu:i,onDoubleClick:s,nodesDraggable:l,elementsSelectable:a,nodesConnectable:u,nodesFocusable:f,resizeObserver:c,noDragClassName:d,noPanClassName:x,disableKeyboardA11y:g,rfId:w,nodeTypes:_,nodeClickDistance:m,onError:y}){const{node:h,internals:v,isParent:N}=fe(z=>{const re=z.nodeLookup.get(e),X=z.parentLookup.has(e);return{node:re,internals:re.internals,isParent:X}},_e);let S=h.type||"default",M=(_==null?void 0:_[S])||Nf[S];M===void 0&&(y==null||y("003",Lt.error003(S)),S="default",M=(_==null?void 0:_.default)||Nf.default);const j=!!(h.draggable||l&&typeof h.draggable>"u"),$=!!(h.selectable||a&&typeof h.selectable>"u"),O=!!(h.connectable||u&&typeof h.connectable>"u"),A=!!(h.focusable||f&&typeof h.focusable>"u"),L=Se(),V=Lm(h),C=J2({node:h,nodeType:S,hasDimensions:V,resizeObserver:c}),T=gg({nodeRef:C,disabled:h.hidden||!j,noDragClassName:d,handleSelector:h.dragHandle,nodeId:e,isSelectable:$,nodeClickDistance:m}),I=yg();if(h.hidden)return null;const D=Kt(h),E=U2(h),k=$||j||t||n||r||o,b=n?z=>n(z,{...v.userNode}):void 0,H=r?z=>r(z,{...v.userNode}):void 0,F=o?z=>o(z,{...v.userNode}):void 0,Y=i?z=>i(z,{...v.userNode}):void 0,W=s?z=>s(z,{...v.userNode}):void 0,te=z=>{const{selectNodesOnDrag:re,nodeDragThreshold:X}=L.getState();$&&(!re||!j||X>0)&&tu({id:e,store:L,nodeRef:C}),t&&t(z,{...v.userNode})},J=z=>{if(!(zm(z.nativeEvent)||g)){if(km.includes(z.key)&&$){const re=z.key==="Escape";tu({id:e,store:L,unselect:re,nodeRef:C})}else if(j&&h.selected&&Object.prototype.hasOwnProperty.call(Ps,z.key)){z.preventDefault();const{ariaLabelConfig:re}=L.getState();L.setState({ariaLiveMessage:re["node.a11yDescription.ariaLiveMessage"]({direction:z.key.replace("Arrow","").toLowerCase(),x:~~v.positionAbsolute.x,y:~~v.positionAbsolute.y})}),I({direction:Ps[z.key],factor:z.shiftKey?4:1})}}},ne=()=>{var ie;if(g||!((ie=C.current)!=null&&ie.matches(":focus-visible")))return;const{transform:z,width:re,height:X,autoPanOnNodeFocus:Q,setCenter:K}=L.getState();if(!Q)return;oc(new Map([[e,h]]),{x:0,y:0,width:re,height:X},z,!0).length>0||K(h.position.x+D.width/2,h.position.y+D.height/2,{zoom:z[2]})};return p.jsx("div",{className:Ie(["react-flow__node",`react-flow__node-${S}`,{[x]:j},h.className,{selected:h.selected,selectable:$,parent:N,draggable:j,dragging:T}]),ref:C,style:{zIndex:v.z,transform:`translate(${v.positionAbsolute.x}px,${v.positionAbsolute.y}px)`,pointerEvents:k?"all":"none",visibility:V?"visible":"hidden",...h.style,...E},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:b,onMouseMove:H,onMouseLeave:F,onContextMenu:Y,onClick:te,onDoubleClick:W,onKeyDown:A?J:void 0,tabIndex:A?0:void 0,onFocus:A?ne:void 0,role:h.ariaRole??(A?"group":void 0),"aria-roledescription":"node","aria-describedby":g?void 0:`${ag}-${w}`,"aria-label":h.ariaLabel,...h.domAttributes,children:p.jsx(R2,{value:e,children:p.jsx(M,{id:e,data:h.data,type:S,positionAbsoluteX:v.positionAbsolute.x,positionAbsoluteY:v.positionAbsolute.y,selected:h.selected??!1,selectable:$,draggable:j,deletable:h.deletable??!0,isConnectable:O,sourcePosition:h.sourcePosition,targetPosition:h.targetPosition,dragging:T,dragHandle:h.dragHandle,zIndex:v.z,parentId:h.parentId,...D})})})}var tN=R.memo(eN);const nN=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function wg(e){const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:o,onError:i}=fe(nN,_e),s=K2(e.onlyRenderVisibleElements),l=q2();return p.jsx("div",{className:"react-flow__nodes",style:ol,children:s.map(a=>p.jsx(tN,{id:a,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:l,nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:o,nodeClickDistance:e.nodeClickDistance,onError:i},a))})}wg.displayName="NodeRenderer";const rN=R.memo(wg);function oN(e){return fe(R.useCallback(n=>{if(!e)return n.edges.map(o=>o.id);const r=[];if(n.width&&n.height)for(const o of n.edges){const i=n.nodeLookup.get(o.source),s=n.nodeLookup.get(o.target);i&&s&&B_({sourceNode:i,targetNode:s,width:n.width,height:n.height,transform:n.transform})&&r.push(o.id)}return r},[e]),_e)}const iN=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e}};return p.jsx("polyline",{className:"arrow",style:n,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},sN=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e,fill:e}};return p.jsx("polyline",{className:"arrowclosed",style:n,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},Cf={[js.Arrow]:iN,[js.ArrowClosed]:sN};function lN(e){const t=Se();return R.useMemo(()=>{var o,i;return Object.prototype.hasOwnProperty.call(Cf,e)?Cf[e]:((i=(o=t.getState()).onError)==null||i.call(o,"009",Lt.error009(e)),null)},[e])}const aN=({id:e,type:t,color:n,width:r=12.5,height:o=12.5,markerUnits:i="strokeWidth",strokeWidth:s,orient:l="auto-start-reverse"})=>{const a=lN(t);return a?p.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${o}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:l,refX:"0",refY:"0",children:p.jsx(a,{color:n,strokeWidth:s})}):null},_g=({defaultColor:e,rfId:t})=>{const n=fe(i=>i.edges),r=fe(i=>i.defaultEdgeOptions),o=R.useMemo(()=>K_(n,{id:t,defaultColor:e,defaultMarkerStart:r==null?void 0:r.markerStart,defaultMarkerEnd:r==null?void 0:r.markerEnd}),[n,r,t,e]);return o.length?p.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:p.jsx("defs",{children:o.map(i=>p.jsx(aN,{id:i.id,type:i.type,color:i.color,width:i.width,height:i.height,markerUnits:i.markerUnits,strokeWidth:i.strokeWidth,orient:i.orient},i.id))})}):null};_g.displayName="MarkerDefinitions";var uN=R.memo(_g);function Sg({x:e,y:t,label:n,labelStyle:r,labelShowBg:o=!0,labelBgStyle:i,labelBgPadding:s=[2,4],labelBgBorderRadius:l=2,children:a,className:u,...f}){const[c,d]=R.useState({x:1,y:0,width:0,height:0}),x=Ie(["react-flow__edge-textwrapper",u]),g=R.useRef(null);return R.useEffect(()=>{if(g.current){const w=g.current.getBBox();d({x:w.x,y:w.y,width:w.width,height:w.height})}},[n]),n?p.jsxs("g",{transform:`translate(${e-c.width/2} ${t-c.height/2})`,className:x,visibility:c.width?"visible":"hidden",...f,children:[o&&p.jsx("rect",{width:c.width+2*s[0],x:-s[0],y:-s[1],height:c.height+2*s[1],className:"react-flow__edge-textbg",style:i,rx:l,ry:l}),p.jsx("text",{className:"react-flow__edge-text",y:c.height/2,dy:"0.3em",ref:g,style:r,children:n}),a]}):null}Sg.displayName="EdgeText";const cN=R.memo(Sg);function il({path:e,labelX:t,labelY:n,label:r,labelStyle:o,labelShowBg:i,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:a,interactionWidth:u=20,...f}){return p.jsxs(p.Fragment,{children:[p.jsx("path",{...f,d:e,fill:"none",className:Ie(["react-flow__edge-path",f.className])}),u?p.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:u,className:"react-flow__edge-interaction"}):null,r&&_t(t)&&_t(n)?p.jsx(cN,{x:t,y:n,label:r,labelStyle:o,labelShowBg:i,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:a}):null]})}function kf({pos:e,x1:t,y1:n,x2:r,y2:o}){return e===q.Left||e===q.Right?[.5*(t+r),n]:[t,.5*(n+o)]}function Ng({sourceX:e,sourceY:t,sourcePosition:n=q.Bottom,targetX:r,targetY:o,targetPosition:i=q.Top}){const[s,l]=kf({pos:n,x1:e,y1:t,x2:r,y2:o}),[a,u]=kf({pos:i,x1:r,y1:o,x2:e,y2:t}),[f,c,d,x]=Fm({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:s,sourceControlY:l,targetControlX:a,targetControlY:u});return[`M${e},${t} C${s},${l} ${a},${u} ${r},${o}`,f,c,d,x]}function Eg(e){return R.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,sourcePosition:s,targetPosition:l,label:a,labelStyle:u,labelShowBg:f,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:x,style:g,markerEnd:w,markerStart:_,interactionWidth:m})=>{const[y,h,v]=Ng({sourceX:n,sourceY:r,sourcePosition:s,targetX:o,targetY:i,targetPosition:l}),N=e.isInternal?void 0:t;return p.jsx(il,{id:N,path:y,labelX:h,labelY:v,label:a,labelStyle:u,labelShowBg:f,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:x,style:g,markerEnd:w,markerStart:_,interactionWidth:m})})}const dN=Eg({isInternal:!1}),Cg=Eg({isInternal:!0});dN.displayName="SimpleBezierEdge";Cg.displayName="SimpleBezierEdgeInternal";function kg(e){return R.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,label:s,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:c,style:d,sourcePosition:x=q.Bottom,targetPosition:g=q.Top,markerEnd:w,markerStart:_,pathOptions:m,interactionWidth:y})=>{const[h,v,N]=Za({sourceX:n,sourceY:r,sourcePosition:x,targetX:o,targetY:i,targetPosition:g,borderRadius:m==null?void 0:m.borderRadius,offset:m==null?void 0:m.offset,stepPosition:m==null?void 0:m.stepPosition}),S=e.isInternal?void 0:t;return p.jsx(il,{id:S,path:h,labelX:v,labelY:N,label:s,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:c,style:d,markerEnd:w,markerStart:_,interactionWidth:y})})}const Mg=kg({isInternal:!1}),jg=kg({isInternal:!0});Mg.displayName="SmoothStepEdge";jg.displayName="SmoothStepEdgeInternal";function Ig(e){return R.memo(({id:t,...n})=>{var o;const r=e.isInternal?void 0:t;return p.jsx(Mg,{...n,id:r,pathOptions:R.useMemo(()=>{var i;return{borderRadius:0,offset:(i=n.pathOptions)==null?void 0:i.offset}},[(o=n.pathOptions)==null?void 0:o.offset])})})}const fN=Ig({isInternal:!1}),Tg=Ig({isInternal:!0});fN.displayName="StepEdge";Tg.displayName="StepEdgeInternal";function Pg(e){return R.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,label:s,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:c,style:d,markerEnd:x,markerStart:g,interactionWidth:w})=>{const[_,m,y]=Um({sourceX:n,sourceY:r,targetX:o,targetY:i}),h=e.isInternal?void 0:t;return p.jsx(il,{id:h,path:_,labelX:m,labelY:y,label:s,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:c,style:d,markerEnd:x,markerStart:g,interactionWidth:w})})}const hN=Pg({isInternal:!1}),Ag=Pg({isInternal:!0});hN.displayName="StraightEdge";Ag.displayName="StraightEdgeInternal";function $g(e){return R.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,sourcePosition:s=q.Bottom,targetPosition:l=q.Top,label:a,labelStyle:u,labelShowBg:f,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:x,style:g,markerEnd:w,markerStart:_,pathOptions:m,interactionWidth:y})=>{const[h,v,N]=Hm({sourceX:n,sourceY:r,sourcePosition:s,targetX:o,targetY:i,targetPosition:l,curvature:m==null?void 0:m.curvature}),S=e.isInternal?void 0:t;return p.jsx(il,{id:S,path:h,labelX:v,labelY:N,label:a,labelStyle:u,labelShowBg:f,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:x,style:g,markerEnd:w,markerStart:_,interactionWidth:y})})}const pN=$g({isInternal:!1}),bg=$g({isInternal:!0});pN.displayName="BezierEdge";bg.displayName="BezierEdgeInternal";const Mf={default:bg,straight:Ag,step:Tg,smoothstep:jg,simplebezier:Cg},jf={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},mN=(e,t,n)=>n===q.Left?e-t:n===q.Right?e+t:e,gN=(e,t,n)=>n===q.Top?e-t:n===q.Bottom?e+t:e,If="react-flow__edgeupdater";function Tf({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:o,onMouseEnter:i,onMouseOut:s,type:l}){return p.jsx("circle",{onMouseDown:o,onMouseEnter:i,onMouseOut:s,className:Ie([If,`${If}-${l}`]),cx:mN(t,r,e),cy:gN(n,r,e),r,stroke:"transparent",fill:"transparent"})}function yN({isReconnectable:e,reconnectRadius:t,edge:n,sourceX:r,sourceY:o,targetX:i,targetY:s,sourcePosition:l,targetPosition:a,onReconnect:u,onReconnectStart:f,onReconnectEnd:c,setReconnecting:d,setUpdateHover:x}){const g=Se(),w=(v,N)=>{if(v.button!==0)return;const{autoPanOnConnect:S,domNode:M,isValidConnection:j,connectionMode:$,connectionRadius:O,lib:A,onConnectStart:L,onConnectEnd:V,cancelConnection:C,nodeLookup:T,rfId:I,panBy:D,updateConnection:E}=g.getState(),k=N.type==="target",b=(Y,W)=>{d(!1),c==null||c(Y,n,N.type,W)},H=Y=>u==null?void 0:u(n,Y),F=(Y,W)=>{d(!0),f==null||f(v,n,N.type),L==null||L(Y,W)};eu.onPointerDown(v.nativeEvent,{autoPanOnConnect:S,connectionMode:$,connectionRadius:O,domNode:M,handleId:N.id,nodeId:N.nodeId,nodeLookup:T,isTarget:k,edgeUpdaterType:N.type,lib:A,flowId:I,cancelConnection:C,panBy:D,isValidConnection:j,onConnect:H,onConnectStart:F,onConnectEnd:V,onReconnectEnd:b,updateConnection:E,getTransform:()=>g.getState().transform,getFromHandle:()=>g.getState().connection.fromHandle,dragThreshold:g.getState().connectionDragThreshold,handleDomNode:v.currentTarget})},_=v=>w(v,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),m=v=>w(v,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),y=()=>x(!0),h=()=>x(!1);return p.jsxs(p.Fragment,{children:[(e===!0||e==="source")&&p.jsx(Tf,{position:l,centerX:r,centerY:o,radius:t,onMouseDown:_,onMouseEnter:y,onMouseOut:h,type:"source"}),(e===!0||e==="target")&&p.jsx(Tf,{position:a,centerX:i,centerY:s,radius:t,onMouseDown:m,onMouseEnter:y,onMouseOut:h,type:"target"})]})}function xN({id:e,edgesFocusable:t,edgesReconnectable:n,elementsSelectable:r,onClick:o,onDoubleClick:i,onContextMenu:s,onMouseEnter:l,onMouseMove:a,onMouseLeave:u,reconnectRadius:f,onReconnect:c,onReconnectStart:d,onReconnectEnd:x,rfId:g,edgeTypes:w,noPanClassName:_,onError:m,disableKeyboardA11y:y}){let h=fe(K=>K.edgeLookup.get(e));const v=fe(K=>K.defaultEdgeOptions);h=v?{...v,...h}:h;let N=h.type||"default",S=(w==null?void 0:w[N])||Mf[N];S===void 0&&(m==null||m("011",Lt.error011(N)),N="default",S=(w==null?void 0:w.default)||Mf.default);const M=!!(h.focusable||t&&typeof h.focusable>"u"),j=typeof c<"u"&&(h.reconnectable||n&&typeof h.reconnectable>"u"),$=!!(h.selectable||r&&typeof h.selectable>"u"),O=R.useRef(null),[A,L]=R.useState(!1),[V,C]=R.useState(!1),T=Se(),{zIndex:I,sourceX:D,sourceY:E,targetX:k,targetY:b,sourcePosition:H,targetPosition:F}=fe(R.useCallback(K=>{const G=K.nodeLookup.get(h.source),ie=K.nodeLookup.get(h.target);if(!G||!ie)return{zIndex:h.zIndex,...jf};const ue=Q_({id:e,sourceNode:G,targetNode:ie,sourceHandle:h.sourceHandle||null,targetHandle:h.targetHandle||null,connectionMode:K.connectionMode,onError:m});return{zIndex:V_({selected:h.selected,zIndex:h.zIndex,sourceNode:G,targetNode:ie,elevateOnSelect:K.elevateEdgesOnSelect,zIndexMode:K.zIndexMode}),...ue||jf}},[h.source,h.target,h.sourceHandle,h.targetHandle,h.selected,h.zIndex]),_e),Y=R.useMemo(()=>h.markerStart?`url('#${qa(h.markerStart,g)}')`:void 0,[h.markerStart,g]),W=R.useMemo(()=>h.markerEnd?`url('#${qa(h.markerEnd,g)}')`:void 0,[h.markerEnd,g]);if(h.hidden||D===null||E===null||k===null||b===null)return null;const te=K=>{var se;const{addSelectedEdges:G,unselectNodesAndEdges:ie,multiSelectionActive:ue}=T.getState();$&&(T.setState({nodesSelectionActive:!1}),h.selected&&ue?(ie({nodes:[],edges:[h]}),(se=O.current)==null||se.blur()):G([e])),o&&o(K,h)},J=i?K=>{i(K,{...h})}:void 0,ne=s?K=>{s(K,{...h})}:void 0,z=l?K=>{l(K,{...h})}:void 0,re=a?K=>{a(K,{...h})}:void 0,X=u?K=>{u(K,{...h})}:void 0,Q=K=>{var G;if(!y&&km.includes(K.key)&&$){const{unselectNodesAndEdges:ie,addSelectedEdges:ue}=T.getState();K.key==="Escape"?((G=O.current)==null||G.blur(),ie({edges:[h]})):ue([e])}};return p.jsx("svg",{style:{zIndex:I},children:p.jsxs("g",{className:Ie(["react-flow__edge",`react-flow__edge-${N}`,h.className,_,{selected:h.selected,animated:h.animated,inactive:!$&&!o,updating:A,selectable:$}]),onClick:te,onDoubleClick:J,onContextMenu:ne,onMouseEnter:z,onMouseMove:re,onMouseLeave:X,onKeyDown:M?Q:void 0,tabIndex:M?0:void 0,role:h.ariaRole??(M?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":h.ariaLabel===null?void 0:h.ariaLabel||`Edge from ${h.source} to ${h.target}`,"aria-describedby":M?`${ug}-${g}`:void 0,ref:O,...h.domAttributes,children:[!V&&p.jsx(S,{id:e,source:h.source,target:h.target,type:h.type,selected:h.selected,animated:h.animated,selectable:$,deletable:h.deletable??!0,label:h.label,labelStyle:h.labelStyle,labelShowBg:h.labelShowBg,labelBgStyle:h.labelBgStyle,labelBgPadding:h.labelBgPadding,labelBgBorderRadius:h.labelBgBorderRadius,sourceX:D,sourceY:E,targetX:k,targetY:b,sourcePosition:H,targetPosition:F,data:h.data,style:h.style,sourceHandleId:h.sourceHandle,targetHandleId:h.targetHandle,markerStart:Y,markerEnd:W,pathOptions:"pathOptions"in h?h.pathOptions:void 0,interactionWidth:h.interactionWidth}),j&&p.jsx(yN,{edge:h,isReconnectable:j,reconnectRadius:f,onReconnect:c,onReconnectStart:d,onReconnectEnd:x,sourceX:D,sourceY:E,targetX:k,targetY:b,sourcePosition:H,targetPosition:F,setUpdateHover:L,setReconnecting:C})]})})}var vN=R.memo(xN);const wN=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function Lg({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:n,edgeTypes:r,noPanClassName:o,onReconnect:i,onEdgeContextMenu:s,onEdgeMouseEnter:l,onEdgeMouseMove:a,onEdgeMouseLeave:u,onEdgeClick:f,reconnectRadius:c,onEdgeDoubleClick:d,onReconnectStart:x,onReconnectEnd:g,disableKeyboardA11y:w}){const{edgesFocusable:_,edgesReconnectable:m,elementsSelectable:y,onError:h}=fe(wN,_e),v=oN(t);return p.jsxs("div",{className:"react-flow__edges",children:[p.jsx(uN,{defaultColor:e,rfId:n}),v.map(N=>p.jsx(vN,{id:N,edgesFocusable:_,edgesReconnectable:m,elementsSelectable:y,noPanClassName:o,onReconnect:i,onContextMenu:s,onMouseEnter:l,onMouseMove:a,onMouseLeave:u,onClick:f,reconnectRadius:c,onDoubleClick:d,onReconnectStart:x,onReconnectEnd:g,rfId:n,onError:h,edgeTypes:r,disableKeyboardA11y:w},N))]})}Lg.displayName="EdgeRenderer";const _N=R.memo(Lg),SN=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function NN({children:e}){const t=fe(SN);return p.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function EN(e){const t=fc(),n=R.useRef(!1);R.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const CN=e=>{var t;return(t=e.panZoom)==null?void 0:t.syncViewport};function kN(e){const t=fe(CN),n=Se();return R.useEffect(()=>{e&&(t==null||t(e),n.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function MN(e){return e.connection.inProgress?{...e.connection,to:Yo(e.connection.to,e.transform)}:{...e.connection}}function jN(e){return MN}function IN(e){const t=jN();return fe(t,_e)}const TN=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function PN({containerStyle:e,style:t,type:n,component:r}){const{nodesConnectable:o,width:i,height:s,isValid:l,inProgress:a}=fe(TN,_e);return!(i&&o&&a)?null:p.jsx("svg",{style:e,width:i,height:s,className:"react-flow__connectionline react-flow__container",children:p.jsx("g",{className:Ie(["react-flow__connection",Im(l)]),children:p.jsx(Rg,{style:t,type:n,CustomComponent:r,isValid:l})})})}const Rg=({style:e,type:t=sn.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:o,from:i,fromNode:s,fromHandle:l,fromPosition:a,to:u,toNode:f,toHandle:c,toPosition:d,pointer:x}=IN();if(!o)return;if(n)return p.jsx(n,{connectionLineType:t,connectionLineStyle:e,fromNode:s,fromHandle:l,fromX:i.x,fromY:i.y,toX:u.x,toY:u.y,fromPosition:a,toPosition:d,connectionStatus:Im(r),toNode:f,toHandle:c,pointer:x});let g="";const w={sourceX:i.x,sourceY:i.y,sourcePosition:a,targetX:u.x,targetY:u.y,targetPosition:d};switch(t){case sn.Bezier:[g]=Hm(w);break;case sn.SimpleBezier:[g]=Ng(w);break;case sn.Step:[g]=Za({...w,borderRadius:0});break;case sn.SmoothStep:[g]=Za(w);break;default:[g]=Um(w)}return p.jsx("path",{d:g,fill:"none",className:"react-flow__connection-path",style:e})};Rg.displayName="ConnectionLine";const AN={};function Pf(e=AN){R.useRef(e),Se(),R.useEffect(()=>{},[e])}function $N(){Se(),R.useRef(!1),R.useEffect(()=>{},[])}function Dg({nodeTypes:e,edgeTypes:t,onInit:n,onNodeClick:r,onEdgeClick:o,onNodeDoubleClick:i,onEdgeDoubleClick:s,onNodeMouseEnter:l,onNodeMouseMove:a,onNodeMouseLeave:u,onNodeContextMenu:f,onSelectionContextMenu:c,onSelectionStart:d,onSelectionEnd:x,connectionLineType:g,connectionLineStyle:w,connectionLineComponent:_,connectionLineContainerStyle:m,selectionKeyCode:y,selectionOnDrag:h,selectionMode:v,multiSelectionKeyCode:N,panActivationKeyCode:S,zoomActivationKeyCode:M,deleteKeyCode:j,onlyRenderVisibleElements:$,elementsSelectable:O,defaultViewport:A,translateExtent:L,minZoom:V,maxZoom:C,preventScrolling:T,defaultMarkerColor:I,zoomOnScroll:D,zoomOnPinch:E,panOnScroll:k,panOnScrollSpeed:b,panOnScrollMode:H,zoomOnDoubleClick:F,panOnDrag:Y,onPaneClick:W,onPaneMouseEnter:te,onPaneMouseMove:J,onPaneMouseLeave:ne,onPaneScroll:z,onPaneContextMenu:re,paneClickDistance:X,nodeClickDistance:Q,onEdgeContextMenu:K,onEdgeMouseEnter:G,onEdgeMouseMove:ie,onEdgeMouseLeave:ue,reconnectRadius:se,onReconnect:ve,onReconnectStart:pt,onReconnectEnd:lt,noDragClassName:Mt,noWheelClassName:Zt,noPanClassName:P,disableKeyboardA11y:B,nodeExtent:ee,rfId:oe,viewport:le,onViewportChange:ce}){return Pf(e),Pf(t),$N(),EN(n),kN(le),p.jsx(G2,{onPaneClick:W,onPaneMouseEnter:te,onPaneMouseMove:J,onPaneMouseLeave:ne,onPaneContextMenu:re,onPaneScroll:z,paneClickDistance:X,deleteKeyCode:j,selectionKeyCode:y,selectionOnDrag:h,selectionMode:v,onSelectionStart:d,onSelectionEnd:x,multiSelectionKeyCode:N,panActivationKeyCode:S,zoomActivationKeyCode:M,elementsSelectable:O,zoomOnScroll:D,zoomOnPinch:E,zoomOnDoubleClick:F,panOnScroll:k,panOnScrollSpeed:b,panOnScrollMode:H,panOnDrag:Y,defaultViewport:A,translateExtent:L,minZoom:V,maxZoom:C,onSelectionContextMenu:c,preventScrolling:T,noDragClassName:Mt,noWheelClassName:Zt,noPanClassName:P,disableKeyboardA11y:B,onViewportChange:ce,isControlledViewport:!!le,children:p.jsxs(NN,{children:[p.jsx(_N,{edgeTypes:t,onEdgeClick:o,onEdgeDoubleClick:s,onReconnect:ve,onReconnectStart:pt,onReconnectEnd:lt,onlyRenderVisibleElements:$,onEdgeContextMenu:K,onEdgeMouseEnter:G,onEdgeMouseMove:ie,onEdgeMouseLeave:ue,reconnectRadius:se,defaultMarkerColor:I,noPanClassName:P,disableKeyboardA11y:B,rfId:oe}),p.jsx(PN,{style:w,type:g,component:_,containerStyle:m}),p.jsx("div",{className:"react-flow__edgelabel-renderer"}),p.jsx(rN,{nodeTypes:e,onNodeClick:r,onNodeDoubleClick:i,onNodeMouseEnter:l,onNodeMouseMove:a,onNodeMouseLeave:u,onNodeContextMenu:f,nodeClickDistance:Q,onlyRenderVisibleElements:$,noPanClassName:P,noDragClassName:Mt,disableKeyboardA11y:B,nodeExtent:ee,rfId:oe}),p.jsx("div",{className:"react-flow__viewport-portal"})]})})}Dg.displayName="GraphView";const bN=R.memo(Dg),Af=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:o,height:i,fitView:s,fitViewOptions:l,minZoom:a=.5,maxZoom:u=2,nodeOrigin:f,nodeExtent:c,zIndexMode:d="basic"}={})=>{const x=new Map,g=new Map,w=new Map,_=new Map,m=r??t??[],y=n??e??[],h=f??[0,0],v=c??Po;Xm(w,_,m);const N=Ja(y,x,g,{nodeOrigin:h,nodeExtent:v,zIndexMode:d});let S=[0,0,1];if(s&&o&&i){const M=Uo(x,{filter:A=>!!((A.width||A.initialWidth)&&(A.height||A.initialHeight))}),{x:j,y:$,zoom:O}=ic(M,o,i,a,u,(l==null?void 0:l.padding)??.1);S=[j,$,O]}return{rfId:"1",width:o??0,height:i??0,transform:S,nodes:y,nodesInitialized:N,nodeLookup:x,parentLookup:g,edges:m,edgeLookup:_,connectionLookup:w,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:a,maxZoom:u,translateExtent:Po,nodeExtent:v,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:Cr.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:h,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:s??!1,fitViewOptions:l,fitViewResolver:null,connection:{...jm},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:R_,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:Mm,zIndexMode:d,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}},LN=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:o,height:i,fitView:s,fitViewOptions:l,minZoom:a,maxZoom:u,nodeOrigin:f,nodeExtent:c,zIndexMode:d})=>JS((x,g)=>{async function w(){const{nodeLookup:_,panZoom:m,fitViewOptions:y,fitViewResolver:h,width:v,height:N,minZoom:S,maxZoom:M}=g();m&&(await b_({nodes:_,width:v,height:N,panZoom:m,minZoom:S,maxZoom:M},y),h==null||h.resolve(!0),x({fitViewResolver:null}))}return{...Af({nodes:e,edges:t,width:o,height:i,fitView:s,fitViewOptions:l,minZoom:a,maxZoom:u,nodeOrigin:f,nodeExtent:c,defaultNodes:n,defaultEdges:r,zIndexMode:d}),setNodes:_=>{const{nodeLookup:m,parentLookup:y,nodeOrigin:h,elevateNodesOnSelect:v,fitViewQueued:N,zIndexMode:S}=g(),M=Ja(_,m,y,{nodeOrigin:h,nodeExtent:c,elevateNodesOnSelect:v,checkEquality:!0,zIndexMode:S});N&&M?(w(),x({nodes:_,nodesInitialized:M,fitViewQueued:!1,fitViewOptions:void 0})):x({nodes:_,nodesInitialized:M})},setEdges:_=>{const{connectionLookup:m,edgeLookup:y}=g();Xm(m,y,_),x({edges:_})},setDefaultNodesAndEdges:(_,m)=>{if(_){const{setNodes:y}=g();y(_),x({hasDefaultNodes:!0})}if(m){const{setEdges:y}=g();y(m),x({hasDefaultEdges:!0})}},updateNodeInternals:_=>{const{triggerNodeChanges:m,nodeLookup:y,parentLookup:h,domNode:v,nodeOrigin:N,nodeExtent:S,debug:M,fitViewQueued:j,zIndexMode:$}=g(),{changes:O,updatedInternals:A}=rS(_,y,h,v,N,S,$);A&&(J_(y,h,{nodeOrigin:N,nodeExtent:S,zIndexMode:$}),j?(w(),x({fitViewQueued:!1,fitViewOptions:void 0})):x({}),(O==null?void 0:O.length)>0&&(M&&console.log("React Flow: trigger node changes",O),m==null||m(O)))},updateNodePositions:(_,m=!1)=>{const y=[];let h=[];const{nodeLookup:v,triggerNodeChanges:N,connection:S,updateConnection:M,onNodesChangeMiddlewareMap:j}=g();for(const[$,O]of _){const A=v.get($),L=!!(A!=null&&A.expandParent&&(A!=null&&A.parentId)&&(O!=null&&O.position)),V={id:$,type:"position",position:L?{x:Math.max(0,O.position.x),y:Math.max(0,O.position.y)}:O.position,dragging:m};if(A&&S.inProgress&&S.fromNode.id===A.id){const C=Bn(A,S.fromHandle,q.Left,!0);M({...S,from:C})}L&&A.parentId&&y.push({id:$,parentId:A.parentId,rect:{...O.internals.positionAbsolute,width:O.measured.width??0,height:O.measured.height??0}}),h.push(V)}if(y.length>0){const{parentLookup:$,nodeOrigin:O}=g(),A=dc(y,v,$,O);h.push(...A)}for(const $ of j.values())h=$(h);N(h)},triggerNodeChanges:_=>{const{onNodesChange:m,setNodes:y,nodes:h,hasDefaultNodes:v,debug:N}=g();if(_!=null&&_.length){if(v){const S=fg(_,h);y(S)}N&&console.log("React Flow: trigger node changes",_),m==null||m(_)}},triggerEdgeChanges:_=>{const{onEdgesChange:m,setEdges:y,edges:h,hasDefaultEdges:v,debug:N}=g();if(_!=null&&_.length){if(v){const S=hg(_,h);y(S)}N&&console.log("React Flow: trigger edge changes",_),m==null||m(_)}},addSelectedNodes:_=>{const{multiSelectionActive:m,edgeLookup:y,nodeLookup:h,triggerNodeChanges:v,triggerEdgeChanges:N}=g();if(m){const S=_.map(M=>kn(M,!0));v(S);return}v(lr(h,new Set([..._]),!0)),N(lr(y))},addSelectedEdges:_=>{const{multiSelectionActive:m,edgeLookup:y,nodeLookup:h,triggerNodeChanges:v,triggerEdgeChanges:N}=g();if(m){const S=_.map(M=>kn(M,!0));N(S);return}N(lr(y,new Set([..._]))),v(lr(h,new Set,!0))},unselectNodesAndEdges:({nodes:_,edges:m}={})=>{const{edges:y,nodes:h,nodeLookup:v,triggerNodeChanges:N,triggerEdgeChanges:S}=g(),M=_||h,j=m||y,$=M.map(A=>{const L=v.get(A.id);return L&&(L.selected=!1),kn(A.id,!1)}),O=j.map(A=>kn(A.id,!1));N($),S(O)},setMinZoom:_=>{const{panZoom:m,maxZoom:y}=g();m==null||m.setScaleExtent([_,y]),x({minZoom:_})},setMaxZoom:_=>{const{panZoom:m,minZoom:y}=g();m==null||m.setScaleExtent([y,_]),x({maxZoom:_})},setTranslateExtent:_=>{var m;(m=g().panZoom)==null||m.setTranslateExtent(_),x({translateExtent:_})},resetSelectedElements:()=>{const{edges:_,nodes:m,triggerNodeChanges:y,triggerEdgeChanges:h,elementsSelectable:v}=g();if(!v)return;const N=m.reduce((M,j)=>j.selected?[...M,kn(j.id,!1)]:M,[]),S=_.reduce((M,j)=>j.selected?[...M,kn(j.id,!1)]:M,[]);y(N),h(S)},setNodeExtent:_=>{const{nodes:m,nodeLookup:y,parentLookup:h,nodeOrigin:v,elevateNodesOnSelect:N,nodeExtent:S,zIndexMode:M}=g();_[0][0]===S[0][0]&&_[0][1]===S[0][1]&&_[1][0]===S[1][0]&&_[1][1]===S[1][1]||(Ja(m,y,h,{nodeOrigin:v,nodeExtent:_,elevateNodesOnSelect:N,checkEquality:!1,zIndexMode:M}),x({nodeExtent:_}))},panBy:_=>{const{transform:m,width:y,height:h,panZoom:v,translateExtent:N}=g();return oS({delta:_,panZoom:v,transform:m,translateExtent:N,width:y,height:h})},setCenter:async(_,m,y)=>{const{width:h,height:v,maxZoom:N,panZoom:S}=g();if(!S)return Promise.resolve(!1);const M=typeof(y==null?void 0:y.zoom)<"u"?y.zoom:N;return await S.setViewport({x:h/2-_*M,y:v/2-m*M,zoom:M},{duration:y==null?void 0:y.duration,ease:y==null?void 0:y.ease,interpolate:y==null?void 0:y.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{x({connection:{...jm}})},updateConnection:_=>{x({connection:_})},reset:()=>x({...Af()})}},Object.is);function zg({initialNodes:e,initialEdges:t,defaultNodes:n,defaultEdges:r,initialWidth:o,initialHeight:i,initialMinZoom:s,initialMaxZoom:l,initialFitViewOptions:a,fitView:u,nodeOrigin:f,nodeExtent:c,zIndexMode:d,children:x}){const[g]=R.useState(()=>LN({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:o,height:i,fitView:u,minZoom:s,maxZoom:l,fitViewOptions:a,nodeOrigin:f,nodeExtent:c,zIndexMode:d}));return p.jsx(e2,{value:g,children:p.jsx(N2,{children:x})})}function RN({children:e,nodes:t,edges:n,defaultNodes:r,defaultEdges:o,width:i,height:s,fitView:l,fitViewOptions:a,minZoom:u,maxZoom:f,nodeOrigin:c,nodeExtent:d,zIndexMode:x}){return R.useContext(rl)?p.jsx(p.Fragment,{children:e}):p.jsx(zg,{initialNodes:t,initialEdges:n,defaultNodes:r,defaultEdges:o,initialWidth:i,initialHeight:s,fitView:l,initialFitViewOptions:a,initialMinZoom:u,initialMaxZoom:f,nodeOrigin:c,nodeExtent:d,zIndexMode:x,children:e})}const DN={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function zN({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:o,nodeTypes:i,edgeTypes:s,onNodeClick:l,onEdgeClick:a,onInit:u,onMove:f,onMoveStart:c,onMoveEnd:d,onConnect:x,onConnectStart:g,onConnectEnd:w,onClickConnectStart:_,onClickConnectEnd:m,onNodeMouseEnter:y,onNodeMouseMove:h,onNodeMouseLeave:v,onNodeContextMenu:N,onNodeDoubleClick:S,onNodeDragStart:M,onNodeDrag:j,onNodeDragStop:$,onNodesDelete:O,onEdgesDelete:A,onDelete:L,onSelectionChange:V,onSelectionDragStart:C,onSelectionDrag:T,onSelectionDragStop:I,onSelectionContextMenu:D,onSelectionStart:E,onSelectionEnd:k,onBeforeDelete:b,connectionMode:H,connectionLineType:F=sn.Bezier,connectionLineStyle:Y,connectionLineComponent:W,connectionLineContainerStyle:te,deleteKeyCode:J="Backspace",selectionKeyCode:ne="Shift",selectionOnDrag:z=!1,selectionMode:re=Ao.Full,panActivationKeyCode:X="Space",multiSelectionKeyCode:Q=bo()?"Meta":"Control",zoomActivationKeyCode:K=bo()?"Meta":"Control",snapToGrid:G,snapGrid:ie,onlyRenderVisibleElements:ue=!1,selectNodesOnDrag:se,nodesDraggable:ve,autoPanOnNodeFocus:pt,nodesConnectable:lt,nodesFocusable:Mt,nodeOrigin:Zt=cg,edgesFocusable:P,edgesReconnectable:B,elementsSelectable:ee=!0,defaultViewport:oe=h2,minZoom:le=.5,maxZoom:ce=2,translateExtent:ae=Po,preventScrolling:he=!0,nodeExtent:Nn,defaultMarkerColor:sl="#b1b1b7",zoomOnScroll:ll=!0,zoomOnPinch:al=!0,panOnScroll:ul=!1,panOnScrollSpeed:cl=.5,panOnScrollMode:dl=bn.Free,zoomOnDoubleClick:Xo=!0,panOnDrag:Go=!0,onPaneClick:Qo,onPaneMouseEnter:Ko,onPaneMouseMove:Zo,onPaneMouseLeave:qo,onPaneScroll:Jo,onPaneContextMenu:ei,paneClickDistance:ti=1,nodeClickDistance:ni=0,children:ri,onReconnect:oi,onReconnectStart:ii,onReconnectEnd:si,onEdgeContextMenu:Bg,onEdgeDoubleClick:Ug,onEdgeMouseEnter:Wg,onEdgeMouseMove:Yg,onEdgeMouseLeave:Xg,reconnectRadius:Gg=10,onNodesChange:Qg,onEdgesChange:Kg,noDragClassName:Zg="nodrag",noWheelClassName:qg="nowheel",noPanClassName:pc="nopan",fitView:mc,fitViewOptions:gc,connectOnClick:Jg,attributionPosition:e0,proOptions:t0,defaultEdgeOptions:n0,elevateNodesOnSelect:r0=!0,elevateEdgesOnSelect:o0=!1,disableKeyboardA11y:yc=!1,autoPanOnConnect:i0,autoPanOnNodeDrag:s0,autoPanSpeed:l0,connectionRadius:a0,isValidConnection:u0,onError:c0,style:d0,id:xc,nodeDragThreshold:f0,connectionDragThreshold:h0,viewport:p0,onViewportChange:m0,width:g0,height:y0,colorMode:x0="light",debug:v0,onScroll:li,ariaLabelConfig:w0,zIndexMode:vc="basic",..._0},S0){const fl=xc||"1",N0=y2(x0),E0=R.useCallback(wc=>{wc.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),li==null||li(wc)},[li]);return p.jsx("div",{"data-testid":"rf__wrapper",..._0,onScroll:E0,style:{...d0,...DN},ref:S0,className:Ie(["react-flow",o,N0]),id:xc,role:"application",children:p.jsxs(RN,{nodes:e,edges:t,width:g0,height:y0,fitView:mc,fitViewOptions:gc,minZoom:le,maxZoom:ce,nodeOrigin:Zt,nodeExtent:Nn,zIndexMode:vc,children:[p.jsx(bN,{onInit:u,onNodeClick:l,onEdgeClick:a,onNodeMouseEnter:y,onNodeMouseMove:h,onNodeMouseLeave:v,onNodeContextMenu:N,onNodeDoubleClick:S,nodeTypes:i,edgeTypes:s,connectionLineType:F,connectionLineStyle:Y,connectionLineComponent:W,connectionLineContainerStyle:te,selectionKeyCode:ne,selectionOnDrag:z,selectionMode:re,deleteKeyCode:J,multiSelectionKeyCode:Q,panActivationKeyCode:X,zoomActivationKeyCode:K,onlyRenderVisibleElements:ue,defaultViewport:oe,translateExtent:ae,minZoom:le,maxZoom:ce,preventScrolling:he,zoomOnScroll:ll,zoomOnPinch:al,zoomOnDoubleClick:Xo,panOnScroll:ul,panOnScrollSpeed:cl,panOnScrollMode:dl,panOnDrag:Go,onPaneClick:Qo,onPaneMouseEnter:Ko,onPaneMouseMove:Zo,onPaneMouseLeave:qo,onPaneScroll:Jo,onPaneContextMenu:ei,paneClickDistance:ti,nodeClickDistance:ni,onSelectionContextMenu:D,onSelectionStart:E,onSelectionEnd:k,onReconnect:oi,onReconnectStart:ii,onReconnectEnd:si,onEdgeContextMenu:Bg,onEdgeDoubleClick:Ug,onEdgeMouseEnter:Wg,onEdgeMouseMove:Yg,onEdgeMouseLeave:Xg,reconnectRadius:Gg,defaultMarkerColor:sl,noDragClassName:Zg,noWheelClassName:qg,noPanClassName:pc,rfId:fl,disableKeyboardA11y:yc,nodeExtent:Nn,viewport:p0,onViewportChange:m0}),p.jsx(g2,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:x,onConnectStart:g,onConnectEnd:w,onClickConnectStart:_,onClickConnectEnd:m,nodesDraggable:ve,autoPanOnNodeFocus:pt,nodesConnectable:lt,nodesFocusable:Mt,edgesFocusable:P,edgesReconnectable:B,elementsSelectable:ee,elevateNodesOnSelect:r0,elevateEdgesOnSelect:o0,minZoom:le,maxZoom:ce,nodeExtent:Nn,onNodesChange:Qg,onEdgesChange:Kg,snapToGrid:G,snapGrid:ie,connectionMode:H,translateExtent:ae,connectOnClick:Jg,defaultEdgeOptions:n0,fitView:mc,fitViewOptions:gc,onNodesDelete:O,onEdgesDelete:A,onDelete:L,onNodeDragStart:M,onNodeDrag:j,onNodeDragStop:$,onSelectionDrag:T,onSelectionDragStart:C,onSelectionDragStop:I,onMove:f,onMoveStart:c,onMoveEnd:d,noPanClassName:pc,nodeOrigin:Zt,rfId:fl,autoPanOnConnect:i0,autoPanOnNodeDrag:s0,autoPanSpeed:l0,onError:c0,connectionRadius:a0,isValidConnection:u0,selectNodesOnDrag:se,nodeDragThreshold:f0,connectionDragThreshold:h0,onBeforeDelete:b,debug:v0,ariaLabelConfig:w0,zIndexMode:vc}),p.jsx(f2,{onSelectionChange:V}),ri,p.jsx(l2,{proOptions:t0,position:e0}),p.jsx(s2,{rfId:fl,disableKeyboardA11y:yc})]})})}var ON=pg(zN);function FN(e){const[t,n]=R.useState(e),r=R.useCallback(o=>n(i=>fg(o,i)),[]);return[t,n,r]}function HN(e){const[t,n]=R.useState(e),r=R.useCallback(o=>n(i=>hg(o,i)),[]);return[t,n,r]}function VN({dimensions:e,lineWidth:t,variant:n,className:r}){return p.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:Ie(["react-flow__background-pattern",n,r])})}function BN({radius:e,className:t}){return p.jsx("circle",{cx:e,cy:e,r:e,className:Ie(["react-flow__background-pattern","dots",t])})}var yn;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(yn||(yn={}));const UN={[yn.Dots]:1,[yn.Lines]:1,[yn.Cross]:6},WN=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function Og({id:e,variant:t=yn.Dots,gap:n=20,size:r,lineWidth:o=1,offset:i=0,color:s,bgColor:l,style:a,className:u,patternClassName:f}){const c=R.useRef(null),{transform:d,patternId:x}=fe(WN,_e),g=r||UN[t],w=t===yn.Dots,_=t===yn.Cross,m=Array.isArray(n)?n:[n,n],y=[m[0]*d[2]||1,m[1]*d[2]||1],h=g*d[2],v=Array.isArray(i)?i:[i,i],N=_?[h,h]:y,S=[v[0]*d[2]||1+N[0]/2,v[1]*d[2]||1+N[1]/2],M=`${x}${e||""}`;return p.jsxs("svg",{className:Ie(["react-flow__background",u]),style:{...a,...ol,"--xy-background-color-props":l,"--xy-background-pattern-color-props":s},ref:c,"data-testid":"rf__background",children:[p.jsx("pattern",{id:M,x:d[0]%y[0],y:d[1]%y[1],width:y[0],height:y[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${S[0]},-${S[1]})`,children:w?p.jsx(BN,{radius:h/2,className:f}):p.jsx(VN,{dimensions:N,lineWidth:o,variant:t,className:f})}),p.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${M})`})]})}Og.displayName="Background";const YN=R.memo(Og);function XN(){return p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:p.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function GN(){return p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:p.jsx("path",{d:"M0 0h32v4.2H0z"})})}function QN(){return p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:p.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function KN(){return p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:p.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function ZN(){return p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:p.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function $i({children:e,className:t,...n}){return p.jsx("button",{type:"button",className:Ie(["react-flow__controls-button",t]),...n,children:e})}const qN=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function Fg({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:o,onZoomIn:i,onZoomOut:s,onFitView:l,onInteractiveChange:a,className:u,children:f,position:c="bottom-left",orientation:d="vertical","aria-label":x}){const g=Se(),{isInteractive:w,minZoomReached:_,maxZoomReached:m,ariaLabelConfig:y}=fe(qN,_e),{zoomIn:h,zoomOut:v,fitView:N}=fc(),S=()=>{h(),i==null||i()},M=()=>{v(),s==null||s()},j=()=>{N(o),l==null||l()},$=()=>{g.setState({nodesDraggable:!w,nodesConnectable:!w,elementsSelectable:!w}),a==null||a(!w)},O=d==="horizontal"?"horizontal":"vertical";return p.jsxs(Pr,{className:Ie(["react-flow__controls",O,u]),position:c,style:e,"data-testid":"rf__controls","aria-label":x??y["controls.ariaLabel"],children:[t&&p.jsxs(p.Fragment,{children:[p.jsx($i,{onClick:S,className:"react-flow__controls-zoomin",title:y["controls.zoomIn.ariaLabel"],"aria-label":y["controls.zoomIn.ariaLabel"],disabled:m,children:p.jsx(XN,{})}),p.jsx($i,{onClick:M,className:"react-flow__controls-zoomout",title:y["controls.zoomOut.ariaLabel"],"aria-label":y["controls.zoomOut.ariaLabel"],disabled:_,children:p.jsx(GN,{})})]}),n&&p.jsx($i,{className:"react-flow__controls-fitview",onClick:j,title:y["controls.fitView.ariaLabel"],"aria-label":y["controls.fitView.ariaLabel"],children:p.jsx(QN,{})}),r&&p.jsx($i,{className:"react-flow__controls-interactive",onClick:$,title:y["controls.interactive.ariaLabel"],"aria-label":y["controls.interactive.ariaLabel"],children:w?p.jsx(ZN,{}):p.jsx(KN,{})}),f]})}Fg.displayName="Controls";const JN=R.memo(Fg);function eE({id:e,x:t,y:n,width:r,height:o,style:i,color:s,strokeColor:l,strokeWidth:a,className:u,borderRadius:f,shapeRendering:c,selected:d,onClick:x}){const{background:g,backgroundColor:w}=i||{},_=s||g||w;return p.jsx("rect",{className:Ie(["react-flow__minimap-node",{selected:d},u]),x:t,y:n,rx:f,ry:f,width:r,height:o,style:{fill:_,stroke:l,strokeWidth:a},shapeRendering:c,onClick:x?m=>x(m,e):void 0})}const tE=R.memo(eE),nE=e=>e.nodes.map(t=>t.id),Gl=e=>e instanceof Function?e:()=>e;function rE({nodeStrokeColor:e,nodeColor:t,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:o,nodeComponent:i=tE,onClick:s}){const l=fe(nE,_e),a=Gl(t),u=Gl(e),f=Gl(n),c=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return p.jsx(p.Fragment,{children:l.map(d=>p.jsx(iE,{id:d,nodeColorFunc:a,nodeStrokeColorFunc:u,nodeClassNameFunc:f,nodeBorderRadius:r,nodeStrokeWidth:o,NodeComponent:i,onClick:s,shapeRendering:c},d))})}function oE({id:e,nodeColorFunc:t,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:o,nodeStrokeWidth:i,shapeRendering:s,NodeComponent:l,onClick:a}){const{node:u,x:f,y:c,width:d,height:x}=fe(g=>{const{internals:w}=g.nodeLookup.get(e),_=w.userNode,{x:m,y}=w.positionAbsolute,{width:h,height:v}=Kt(_);return{node:_,x:m,y,width:h,height:v}},_e);return!u||u.hidden||!Lm(u)?null:p.jsx(l,{x:f,y:c,width:d,height:x,style:u.style,selected:!!u.selected,className:r(u),color:t(u),borderRadius:o,strokeColor:n(u),strokeWidth:i,shapeRendering:s,onClick:a,id:u.id})}const iE=R.memo(oE);var sE=R.memo(rE);const lE=200,aE=150,uE=e=>!e.hidden,cE=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?bm(Uo(e.nodeLookup,{filter:uE}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},dE="react-flow__minimap-desc";function Hg({style:e,className:t,nodeStrokeColor:n,nodeColor:r,nodeClassName:o="",nodeBorderRadius:i=5,nodeStrokeWidth:s,nodeComponent:l,bgColor:a,maskColor:u,maskStrokeColor:f,maskStrokeWidth:c,position:d="bottom-right",onClick:x,onNodeClick:g,pannable:w=!1,zoomable:_=!1,ariaLabel:m,inversePan:y,zoomStep:h=1,offsetScale:v=5}){const N=Se(),S=R.useRef(null),{boundingRect:M,viewBB:j,rfId:$,panZoom:O,translateExtent:A,flowWidth:L,flowHeight:V,ariaLabelConfig:C}=fe(cE,_e),T=(e==null?void 0:e.width)??lE,I=(e==null?void 0:e.height)??aE,D=M.width/T,E=M.height/I,k=Math.max(D,E),b=k*T,H=k*I,F=v*k,Y=M.x-(b-M.width)/2-F,W=M.y-(H-M.height)/2-F,te=b+F*2,J=H+F*2,ne=`${dE}-${$}`,z=R.useRef(0),re=R.useRef();z.current=k,R.useEffect(()=>{if(S.current&&O)return re.current=hS({domNode:S.current,panZoom:O,getTransform:()=>N.getState().transform,getViewScale:()=>z.current}),()=>{var G;(G=re.current)==null||G.destroy()}},[O]),R.useEffect(()=>{var G;(G=re.current)==null||G.update({translateExtent:A,width:L,height:V,inversePan:y,pannable:w,zoomStep:h,zoomable:_})},[w,_,y,h,A,L,V]);const X=x?G=>{var se;const[ie,ue]=((se=re.current)==null?void 0:se.pointer(G))||[0,0];x(G,{x:ie,y:ue})}:void 0,Q=g?R.useCallback((G,ie)=>{const ue=N.getState().nodeLookup.get(ie).internals.userNode;g(G,ue)},[]):void 0,K=m??C["minimap.ariaLabel"];return p.jsx(Pr,{position:d,style:{...e,"--xy-minimap-background-color-props":typeof a=="string"?a:void 0,"--xy-minimap-mask-background-color-props":typeof u=="string"?u:void 0,"--xy-minimap-mask-stroke-color-props":typeof f=="string"?f:void 0,"--xy-minimap-mask-stroke-width-props":typeof c=="number"?c*k:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof s=="number"?s:void 0},className:Ie(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:p.jsxs("svg",{width:T,height:I,viewBox:`${Y} ${W} ${te} ${J}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":ne,ref:S,onClick:X,children:[K&&p.jsx("title",{id:ne,children:K}),p.jsx(sE,{onClick:Q,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:i,nodeClassName:o,nodeStrokeWidth:s,nodeComponent:l}),p.jsx("path",{className:"react-flow__minimap-mask",d:`M${Y-F},${W-F}h${te+F*2}v${J+F*2}h${-te-F*2}z
        M${j.x},${j.y}h${j.width}v${j.height}h${-j.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}Hg.displayName="MiniMap";const fE=R.memo(Hg),hE=e=>t=>e?`${Math.max(1/t.transform[2],1)}`:void 0,pE={[Ir.Line]:"right",[Ir.Handle]:"bottom-right"};function mE({nodeId:e,position:t,variant:n=Ir.Handle,className:r,style:o=void 0,children:i,color:s,minWidth:l=10,minHeight:a=10,maxWidth:u=Number.MAX_VALUE,maxHeight:f=Number.MAX_VALUE,keepAspectRatio:c=!1,resizeDirection:d,autoScale:x=!0,shouldResize:g,onResizeStart:w,onResize:_,onResizeEnd:m}){const y=xg(),h=typeof e=="string"?e:y,v=Se(),N=R.useRef(null),S=n===Ir.Handle,M=fe(R.useCallback(hE(S&&x),[S,x]),_e),j=R.useRef(null),$=t??pE[n];R.useEffect(()=>{if(!(!N.current||!h))return j.current||(j.current=MS({domNode:N.current,nodeId:h,getStoreItems:()=>{const{nodeLookup:A,transform:L,snapGrid:V,snapToGrid:C,nodeOrigin:T,domNode:I}=v.getState();return{nodeLookup:A,transform:L,snapGrid:V,snapToGrid:C,nodeOrigin:T,paneDomNode:I}},onChange:(A,L)=>{const{triggerNodeChanges:V,nodeLookup:C,parentLookup:T,nodeOrigin:I}=v.getState(),D=[],E={x:A.x,y:A.y},k=C.get(h);if(k&&k.expandParent&&k.parentId){const b=k.origin??I,H=A.width??k.measured.width??0,F=A.height??k.measured.height??0,Y={id:k.id,parentId:k.parentId,rect:{width:H,height:F,...Rm({x:A.x??k.position.x,y:A.y??k.position.y},{width:H,height:F},k.parentId,C,b)}},W=dc([Y],C,T,I);D.push(...W),E.x=A.x?Math.max(b[0]*H,A.x):void 0,E.y=A.y?Math.max(b[1]*F,A.y):void 0}if(E.x!==void 0&&E.y!==void 0){const b={id:h,type:"position",position:{...E}};D.push(b)}if(A.width!==void 0&&A.height!==void 0){const H={id:h,type:"dimensions",resizing:!0,setAttributes:d?d==="horizontal"?"width":"height":!0,dimensions:{width:A.width,height:A.height}};D.push(H)}for(const b of L){const H={...b,type:"position"};D.push(H)}V(D)},onEnd:({width:A,height:L})=>{const V={id:h,type:"dimensions",resizing:!1,dimensions:{width:A,height:L}};v.getState().triggerNodeChanges([V])}})),j.current.update({controlPosition:$,boundaries:{minWidth:l,minHeight:a,maxWidth:u,maxHeight:f},keepAspectRatio:c,resizeDirection:d,onResizeStart:w,onResize:_,onResizeEnd:m,shouldResize:g}),()=>{var A;(A=j.current)==null||A.destroy()}},[$,l,a,u,f,c,w,_,m,g]);const O=$.split("-");return p.jsx("div",{className:Ie(["react-flow__resize-control","nodrag",...O,n,r]),ref:N,style:{...o,scale:M,...s&&{[S?"backgroundColor":"borderColor"]:s}},children:i})}R.memo(mE);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var gE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=(e,t)=>{const n=R.forwardRef(({color:r="currentColor",size:o=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:l="",children:a,...u},f)=>R.createElement("svg",{ref:f,...gE,width:o,height:o,stroke:r,strokeWidth:s?Number(i)*24/Number(o):i,className:["lucide",`lucide-${yE(e)}`,l].join(" "),...u},[...t.map(([c,d])=>R.createElement(c,d)),...Array.isArray(a)?a:[a]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=st("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vE=st("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wE=st("Dices",[["rect",{width:"12",height:"12",x:"2",y:"10",rx:"2",ry:"2",key:"6agr2n"}],["path",{d:"m17.92 14 3.5-3.5a2.24 2.24 0 0 0 0-3l-5-4.92a2.24 2.24 0 0 0-3 0L10 6",key:"1o487t"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M10 14h.01",key:"ssrbsk"}],["path",{d:"M15 6h.01",key:"cblpky"}],["path",{d:"M18 9h.01",key:"2061c0"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _E=st("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SE=st("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NE=st("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $f=st("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EE=st("Redo",[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CE=st("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kE=st("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ME=st("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jE=st("Undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bf=st("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),IE=e=>{if(e.type==="item")return e.operation==="+"?`: ${e.target}`:`: ${e.target}`;const t={"+=":"+","-=":"-","=":"=","+":"+","-":"-"};return`${e.target} ${t[e.operation]||e.operation} ${e.value}`},TE=({data:e,isConnectable:t})=>{var o;const n=e,r=n.actions&&n.actions.length>0;return p.jsxs("div",{className:`bg-white border-2 rounded-md p-4 min-w-[200px] shadow-sm ${n.isStart?"border-green-400 ring-2 ring-green-100":"border-gray-200"}`,children:[p.jsx(Ve,{type:"target",position:q.Top,isConnectable:t,className:"w-3 h-3 bg-blue-500"}),p.jsxs("div",{className:"flex flex-col gap-2",children:[p.jsxs("div",{className:"font-bold text-sm text-gray-700 border-b pb-1 mb-1 flex justify-between",children:[p.jsx("span",{children:n.label}),n.isStart&&p.jsx("span",{className:"text-[10px] bg-green-100 text-green-800 px-1 rounded",children:""})]}),p.jsx("div",{className:"text-xs text-gray-500 max-h-20 overflow-hidden text-ellipsis whitespace-pre-wrap",children:n.text||"..."}),r&&p.jsxs("div",{className:"mt-1 pt-1 border-t border-gray-100 flex flex-col gap-1",children:[p.jsx("div",{className:"text-[10px] text-gray-400 font-bold",children:":"}),(o=n.actions)==null?void 0:o.map((i,s)=>p.jsx("div",{className:"text-[10px] font-mono bg-blue-50 text-blue-700 px-1 rounded truncate",children:IE(i)},s))]})]}),p.jsx(Ve,{type:"source",position:q.Bottom,isConnectable:t,className:"w-3 h-3 bg-blue-500"})]})},PE=R.memo(TE),AE=({data:e,isConnectable:t})=>{var r;const n=e;return p.jsxs("div",{className:"bg-white border-2 border-purple-200 rounded-md p-4 min-w-[250px] shadow-sm",children:[p.jsx(Ve,{type:"target",position:q.Top,isConnectable:t,className:"w-3 h-3 bg-purple-500"}),p.jsxs("div",{className:"flex flex-col gap-2",children:[p.jsxs("div",{className:"font-bold text-sm text-purple-700 border-b pb-1 mb-1",children:[n.label," ()"]}),p.jsx("div",{className:"text-xs text-gray-500 max-h-20 overflow-hidden text-ellipsis mb-2 whitespace-pre-wrap",children:n.text||"..."}),p.jsx("div",{className:"flex flex-col gap-2 mt-1",children:(r=n.choices)==null?void 0:r.map(o=>p.jsxs("div",{className:"relative bg-purple-50 p-2 rounded text-xs border border-purple-100 text-right pr-6",children:[o.text,p.jsx(Ve,{type:"source",position:q.Right,id:o.id,isConnectable:t,className:"w-2 h-2 bg-purple-500 !right-[-5px]",style:{top:"50%"}})]},o.id))})]})]})},$E=R.memo(AE),bE=e=>{if(e.type==="has_item")return`: ${e.target}`;const t={">=":"","<=":"",">":">","<":"<","=":"=","==":"="};return`${e.target} ${t[e.operation]||e.operation} ${e.value}`},LE=({data:e,isConnectable:t})=>{var i;const n=e,r=n.conditionMode==="check",o=n.conditions&&n.conditions.length>0;return p.jsxs("div",{className:"bg-white border-2 border-orange-200 rounded-md p-4 min-w-[200px] shadow-sm",children:[p.jsx(Ve,{type:"target",position:q.Top,isConnectable:t,className:"w-3 h-3 bg-orange-500"}),p.jsxs("div",{className:"flex flex-col gap-2",children:[p.jsxs("div",{className:"font-bold text-sm text-orange-700 border-b pb-1 mb-1",children:[n.label," ",r?"()":"()"]}),!r&&p.jsx("div",{className:"text-xs bg-orange-50 p-2 rounded text-gray-700 min-h-[20px] mb-2 border border-orange-100",children:o?p.jsx("div",{className:"flex flex-col gap-1",children:(i=n.conditions)==null?void 0:i.map((s,l)=>p.jsxs("div",{className:"truncate",children:[l>0&&p.jsx("span",{className:"text-orange-400 font-bold mr-1",children:n.conditionLogic||"AND"}),bE(s)]},l))}):p.jsx("div",{className:"text-gray-400 italic",children:" ()"})}),r&&p.jsxs("div",{className:"text-xs bg-purple-50 p-2 rounded text-gray-700 min-h-[20px] mb-2 border border-purple-100 flex items-center gap-1",children:[p.jsx(wE,{size:12,className:"text-purple-600"}),p.jsxs("div",{children:[p.jsx("div",{children:n.checkDice||"1d100"}),p.jsxs("div",{className:"text-[10px] text-gray-500",children:["vs ",n.checkTarget||"50"]})]})]}),r?p.jsxs("div",{className:"flex justify-between items-center text-[10px] font-bold relative h-4 w-full",children:[p.jsxs("div",{className:"absolute left-0 -ml-1 text-center",children:[p.jsx("div",{className:"text-yellow-600 scale-75 whitespace-nowrap",children:""}),p.jsx(Ve,{type:"source",position:q.Bottom,id:"great_success",isConnectable:t,className:"w-2 h-2 bg-yellow-500",style:{bottom:"-10px"}})]}),p.jsxs("div",{className:"absolute left-[30%] text-center",children:[p.jsx("div",{className:"text-green-600 scale-75",children:""}),p.jsx(Ve,{type:"source",position:q.Bottom,id:"success",isConnectable:t,className:"w-2 h-2 bg-green-500",style:{bottom:"-10px"}})]}),p.jsxs("div",{className:"absolute right-[30%] text-center",children:[p.jsx("div",{className:"text-red-600 scale-75",children:""}),p.jsx(Ve,{type:"source",position:q.Bottom,id:"failure",isConnectable:t,className:"w-2 h-2 bg-red-500",style:{bottom:"-10px"}})]}),p.jsxs("div",{className:"absolute right-0 -mr-1 text-center",children:[p.jsx("div",{className:"text-purple-600 scale-75 whitespace-nowrap",children:""}),p.jsx(Ve,{type:"source",position:q.Bottom,id:"great_failure",isConnectable:t,className:"w-2 h-2 bg-purple-500",style:{bottom:"-10px"}})]})]}):p.jsxs("div",{className:"flex justify-between items-center text-xs font-bold relative h-4",children:[p.jsxs("div",{className:"absolute left-0",children:[p.jsx("span",{className:"text-green-600",children:""}),p.jsx(Ve,{type:"source",position:q.Bottom,id:"true",isConnectable:t,className:"w-3 h-3 bg-green-500",style:{bottom:"-10px"}})]}),p.jsxs("div",{className:"absolute right-0",children:[p.jsx("span",{className:"text-red-600",children:""}),p.jsx(Ve,{type:"source",position:q.Bottom,id:"false",isConnectable:t,className:"w-3 h-3 bg-red-500",style:{bottom:"-10px"}})]})]})]})]})},RE=R.memo(LE);var Vg={exports:{}};(function(e,t){(function(n,r){r()})(Lr,function(){function n(u,f){return typeof f>"u"?f={autoBom:!1}:typeof f!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),f={autoBom:!f}),f.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\uFEFF",u],{type:u.type}):u}function r(u,f,c){var d=new XMLHttpRequest;d.open("GET",u),d.responseType="blob",d.onload=function(){a(d.response,f,c)},d.onerror=function(){console.error("could not download file")},d.send()}function o(u){var f=new XMLHttpRequest;f.open("HEAD",u,!1);try{f.send()}catch{}return 200<=f.status&&299>=f.status}function i(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var f=document.createEvent("MouseEvents");f.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(f)}}var s=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Lr=="object"&&Lr.global===Lr?Lr:void 0,l=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),a=s.saveAs||(typeof window!="object"||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!l?function(u,f,c){var d=s.URL||s.webkitURL,x=document.createElement("a");f=f||u.name||"download",x.download=f,x.rel="noopener",typeof u=="string"?(x.href=u,x.origin===location.origin?i(x):o(x.href)?r(u,f,c):i(x,x.target="_blank")):(x.href=d.createObjectURL(u),setTimeout(function(){d.revokeObjectURL(x.href)},4e4),setTimeout(function(){i(x)},0))}:"msSaveOrOpenBlob"in navigator?function(u,f,c){if(f=f||u.name||"download",typeof u!="string")navigator.msSaveOrOpenBlob(n(u,c),f);else if(o(u))r(u,f,c);else{var d=document.createElement("a");d.href=u,d.target="_blank",setTimeout(function(){i(d)})}}:function(u,f,c,d){if(d=d||open("","_blank"),d&&(d.document.title=d.document.body.innerText="downloading..."),typeof u=="string")return r(u,f,c);var x=u.type==="application/octet-stream",g=/constructor/i.test(s.HTMLElement)||s.safari,w=/CriOS\/[\d]+/.test(navigator.userAgent);if((w||x&&g||l)&&typeof FileReader<"u"){var _=new FileReader;_.onloadend=function(){var h=_.result;h=w?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),d?d.location.href=h:location=h,d=null},_.readAsDataURL(u)}else{var m=s.URL||s.webkitURL,y=m.createObjectURL(u);d?d.location=y:location.href=y,d=null,setTimeout(function(){m.revokeObjectURL(y)},4e4)}});s.saveAs=a.saveAs=a,e.exports=a})})(Vg);var DE=Vg.exports;const Lf=e=>!e||e.length===0?"":e.map(t=>{const n=r=>{if(typeof r=="number")return r;const o=String(r).trim();return o?/^-?\d+(\.\d+)?$/.test(o)?Number(o):`rollDice(${JSON.stringify(o)})`:0};if(t.type==="item"){const r=JSON.stringify(t.target??""),o=n(t.value||1);return t.operation==="+"||t.operation==="+="?`state.inventory = state.inventory || {}; 
                        if(Array.isArray(state.inventory)) state.inventory = {};
                        state.inventory[${r}] = (state.inventory[${r}] || 0) + ${o};`:`state.inventory = state.inventory || {};
                        if(Array.isArray(state.inventory)) state.inventory = {};
                        state.inventory[${r}] = Math.max(0, (state.inventory[${r}] || 0) - ${o});
                        if(state.inventory[${r}] <= 0) delete state.inventory[${r}];`}else{let r="state.stats = state.stats || {};";const o=n(t.value||0),i=JSON.stringify(t.target??"");return t.operation==="="?r+=`state.stats[${i}] = ${o};`:t.operation==="+"||t.operation==="+="?r+=`state.stats[${i}] = (state.stats[${i}] || 0) + ${o};`:(t.operation==="-"||t.operation==="-=")&&(r+=`state.stats[${i}] = (state.stats[${i}] || 0) - ${o};`),r}}).join(`
`),zE=(e,t="AND")=>{if(!e||e.length===0)return"true";const n=e.map(r=>{if(r.type==="has_item"){const o=JSON.stringify(r.target??""),i=typeof r.value=="number"?r.value:parseInt(r.value)||1;return`((Array.isArray(state.inventory) ? state.inventory.includes(${o}) : (state.inventory && state.inventory[${o}] >= ${i})))`}else{const o=r.value??0,i=typeof o=="number"?o:Number(o),s=Number.isFinite(i)?i:JSON.stringify(String(o)),a=`(state.stats && state.stats[${JSON.stringify(r.target??"")}] || 0)`;switch(r.operation){case">":return`${a} > ${s}`;case"<":return`${a} < ${s}`;case">=":return`${a} >= ${s}`;case"<=":return`${a} <= ${s}`;case"=":case"==":return`${a} == ${s}`;default:return"true"}}});return t==="OR"?`(${n.join(" || ")})`:`(${n.join(" && ")})`},OE=`// ==UserScript==
// @name         __PLUGIN_NAME__
// @author       __AUTHOR__
// @version      __VERSION__
// @description  __DESCRIPTION__
// @timestamp    __TIMESTAMP__
// @license      MIT
// @homepageURL  __HOMEPAGE__
// ==/UserScript==
`,FE=`// Plot Novel Sealdice Plugin Editor Generated Plugin
// Auto-generated by 

function main() {
  // Register Extension
  let ext = seal.ext.find('__PLUGIN_NAME__');
  if (!ext) {
    ext = seal.ext.new('__PLUGIN_NAME__', '__AUTHOR__', '__VERSION__');
    seal.ext.register(ext);
  }

  // Story Data
  const STORY_DATA = __STORY_DATA_PLACEHOLDER__;
  const CMD_NAME = '__COMMAND_NAME__';
  
  // Subcommands
  const SC_START = '__SC_START__';
  const SC_NEXT = '__SC_NEXT__';
  const SC_CHOOSE = '__SC_CHOOSE__';
  const SC_STAT = '__SC_STAT__';
  const SC_LOAD = '__SC_LOAD__';
  const SC_RESET = '__SC_RESET__';
  const SC_CLEAR = '__SC_CLEAR__';

  const CRITICAL_SUCCESS = __CRITICAL_SUCCESS__;
  const CRITICAL_FAILURE = __CRITICAL_FAILURE__;
  const SUCCESS_MODE = '__SUCCESS_MODE__';
  const CRITICAL_SUCCESS_MODE = '__CRITICAL_SUCCESS_MODE__';
  const CRITICAL_FAILURE_MODE = '__CRITICAL_FAILURE_MODE__';
  const DEFAULT_DICE = '__DEFAULT_DICE__';

  // 
  const rollDice = (expr) => {
      if (typeof expr === 'number') return expr;
      let str = String(expr).toLowerCase().replace(/\\s/g, '');
      try {
          str = str.replace(/(\\d*)d(\\d+)/g, (match, count, sides) => {
              let n = count === '' ? 1 : parseInt(count);
              let s = parseInt(sides);
              let total = 0;
              for(let i=0; i<n; i++) total += Math.floor(Math.random() * s) + 1;
              return total;
          });
          return new Function('return ' + str)();
      } catch(e) { return 0; }
  };

  // 
  const loadState = (userId) => {
    try {
      const data = ext.storageGet(\`user_\${userId}\`);
      return data ? JSON.parse(data) : null;
    } catch (e) { return null; }
  };

  const saveState = (userId, state) => {
    ext.storageSet(\`user_\${userId}\`, JSON.stringify(state));
  };

  const resetState = (userId) => {
    const initialState = {
      currentNodeId: STORY_DATA.startNodeId,
      stats: {},
      inventory: {},
      history: [],
      savePoints: {}
    };
    saveState(userId, initialState);
    return initialState;
  };

  // 
  const cmd = seal.ext.newCmdItemInfo();
  cmd.name = CMD_NAME;
  cmd.help = \`__COMMAND_HELP__\`;
  
  cmd.solve = (ctx, msg, cmdArgs) => {
    const userId = ctx.player.userId;
    let state = loadState(userId);
    const subCmd = cmdArgs.getArgN(1);

    if (subCmd === SC_CLEAR || subCmd === 'clr') {
        ext.storageSet(\`user_\${userId}\`, '');
        seal.replyToSender(ctx, msg, '');
        return seal.ext.newCmdExecuteResult(true);
    }

    if (subCmd === SC_START) {
      state = resetState(userId);
      processNode(ctx, msg, state);
      return seal.ext.newCmdExecuteResult(true);
    }

    if (!state) {
      state = resetState(userId);
    }

    if (subCmd === SC_RESET) {
        state = resetState(userId);
        seal.replyToSender(ctx, msg, '');
        return seal.ext.newCmdExecuteResult(true);
    } else if (subCmd === SC_STAT) {
        // Debug command to show stats
        const stats = state.stats || {};
        const inv = state.inventory || {};
        let output = ':\\n';
        
        const hasStats = Object.keys(stats).length > 0;
        const hasInv = Array.isArray(inv) ? inv.length > 0 : Object.keys(inv).length > 0;

        if (!hasStats && !hasInv) {
            output += '';
        } else {
            for (let k in stats) output += \`\${k}: \${stats[k]}\\n\`;
            if (hasInv) {
                if (Array.isArray(inv)) {
                     output += \`: \${inv.join(', ')}\`;
                } else {
                     const items = [];
                     for(let k in inv) items.push(\`\${k} x\${inv[k]}\`);
                     output += \`: \${items.join(', ')}\`;
                }
            }
        }
        seal.replyToSender(ctx, msg, output);
        return seal.ext.newCmdExecuteResult(true);
    } else if (subCmd === SC_LOAD) {
        const pointId = cmdArgs.getArgN(2);
        if (!pointId) {
             seal.replyToSender(ctx, msg, \`ID: .\${CMD_NAME} \${SC_LOAD} <id>\`);
             return seal.ext.newCmdExecuteResult(true);
        }
        if (state.savePoints && state.savePoints[pointId]) {
             // Restore state but keep savePoints
             const saved = state.savePoints[pointId];
             const currentSavePoints = state.savePoints;
             state = JSON.parse(JSON.stringify(saved));
             state.savePoints = currentSavePoints;
             saveState(userId, state);
             seal.replyToSender(ctx, msg, \`: \${pointId}\`);
             processNode(ctx, msg, state);
        } else {
             seal.replyToSender(ctx, msg, \`: \${pointId}\`);
        }
        return seal.ext.newCmdExecuteResult(true);
    }

    if (!STORY_DATA.nodes[state.currentNodeId]) {
      seal.replyToSender(ctx, msg, 'Error: ');
      return seal.ext.newCmdExecuteResult(true);
    }

    // 
      if (subCmd === SC_CHOOSE) {
        if (state.isEnded) {
             seal.replyToSender(ctx, msg, \` .\${CMD_NAME} \${SC_START} \`);
             return seal.ext.newCmdExecuteResult(true);
        }
        const currentNode = STORY_DATA.nodes[state.currentNodeId];
      if (!currentNode.choices) {
        seal.replyToSender(ctx, msg, \` .\${CMD_NAME} \${SC_NEXT} \\n( .\${CMD_NAME} help )\`);
        return seal.ext.newCmdExecuteResult(true);
      }
        const choiceIdx = parseInt(cmdArgs.getArgN(2)) - 1;
        const choice = currentNode.choices[choiceIdx];
        if (!choice) {
          seal.replyToSender(ctx, msg, '');
          return seal.ext.newCmdExecuteResult(true);
        }
        
        if (choice.script) {
            try {
                new Function('state', 'seal', 'ctx', 'rollDice', choice.script)(state, seal, ctx, rollDice);
            } catch (e) {
                console.error('Choice Script error:', e);
                seal.replyToSender(ctx, msg, \`Choice Error: \${e.message}\`);
            }
        }

        state.currentNodeId = choice.next;
        saveState(userId, state);
        
        processNode(ctx, msg, state);
        return seal.ext.newCmdExecuteResult(true);
      }

    // 
    if (subCmd === SC_NEXT) {
        if (state.isEnded) {
             seal.replyToSender(ctx, msg, \` .\${CMD_NAME} \${SC_START} \`);
             return seal.ext.newCmdExecuteResult(true);
        }
        const currentNode = STORY_DATA.nodes[state.currentNodeId];
        
        if (currentNode.choices) {
             seal.replyToSender(ctx, msg, \`: .\${CMD_NAME} \${SC_CHOOSE} <>\\n( .\${CMD_NAME} help )\`);
             return seal.ext.newCmdExecuteResult(true);
        }
        
        if (currentNode.next) {
            state.currentNodeId = currentNode.next;
            saveState(userId, state);
            processNode(ctx, msg, state);
        } else {
            seal.replyToSender(ctx, msg, currentNode.text + '\\n()');
        }
        return seal.ext.newCmdExecuteResult(true);
    }
    
    seal.replyToSender(ctx, msg, cmd.help);
    return seal.ext.newCmdExecuteResult(true);
  };

  function processNode(ctx, msg, state) {
    let nodeId = state.currentNodeId;
    let node = STORY_DATA.nodes[nodeId];
    if (!node) return;

    // 
    if (node.savePointId) {
        state.savePoints = state.savePoints || {};
        const { savePoints, ...rest } = state;
        state.savePoints[node.savePointId] = rest;
        saveState(ctx.player.userId, state);
    }

    if (node.script) {
        try {
            new Function('state', 'seal', 'ctx', 'rollDice', node.script)(state, seal, ctx, rollDice);
            saveState(ctx.player.userId, state); 
        } catch (e) {
            console.error('Script error:', e);
            seal.replyToSender(ctx, msg, \`Script Error: \${e.message}\`);
        }
    }

    if (node.type === 'check') {
        const targetVal = parseInt(node.checkTarget) || (state.stats[node.checkTarget] || 50);
        const dice = node.checkDice || DEFAULT_DICE;
        
        let roll = rollDice(dice);

        let result = '';
        let nextId = null;

        const isSuccess = SUCCESS_MODE === 'gte' ? roll >= targetVal : roll <= targetVal;
        const isCriticalSuccess = CRITICAL_SUCCESS_MODE === 'gte' ? roll >= CRITICAL_SUCCESS : roll <= CRITICAL_SUCCESS;
        const isCriticalFailure = CRITICAL_FAILURE_MODE === 'gte' ? roll >= CRITICAL_FAILURE : roll <= CRITICAL_FAILURE;

        if (isCriticalSuccess && node.nextGreatSuccess) {
            result = \` (Ref: \${CRITICAL_SUCCESS})\`;
            nextId = node.nextGreatSuccess;
        } else if (isCriticalFailure && node.nextGreatFailure) {
            result = \` (Ref: \${CRITICAL_FAILURE})\`;
            nextId = node.nextGreatFailure;
        } else if (isSuccess) {
            result = '';
            nextId = node.nextSuccess || node.nextGreatSuccess; // Fallback
        } else {
            result = '';
            nextId = node.nextFailure || node.nextGreatFailure; // Fallback
        }
        
        if (!nextId) {
             // Try generic success/fail fallback
             if (isSuccess) nextId = node.nextSuccess;
             else nextId = node.nextFailure;
        }

        const output = \` \${node.checkTarget} (\${targetVal})\\n: \${roll} / \${dice} -> \${result}\`;
        seal.replyToSender(ctx, msg, output);

        if (nextId) {
            state.currentNodeId = nextId;
            saveState(ctx.player.userId, state);
            setTimeout(() => processNode(ctx, msg, state), 500); // Small delay for dramatic effect
        } else {
            seal.replyToSender(ctx, msg, '(: )');
        }
        return;
    }

    if (node.type === 'condition') {
        let conditionResult = false;
        try {
             conditionResult = new Function('state', 'return ' + node.condition)(state);
        } catch (e) {
             console.error('Condition error:', e);
        }

        const nextId = conditionResult ? node.nextTrue : node.nextFalse;
        if (nextId) {
            state.currentNodeId = nextId;
            saveState(ctx.player.userId, state);
            processNode(ctx, msg, state);
            return;
        } else {
             seal.replyToSender(ctx, msg, \`(: \${conditionResult ? 'True' : 'False'} - )\`);
             return;
        }
    }

    let output = node.text || '';
    
    if (node.choices) {
        output += '\\n\\n:';
        node.choices.forEach((c, i) => {
            output += \`\\n\${i + 1}. \${c.text}\`;
        });
        output += \`\\n( .\${CMD_NAME} \${SC_CHOOSE} <>)\`;
    } else if (node.randomNext) {
        const r = Math.random() * node.totalWeight;
        let acc = 0;
        let nextId = null;
        for (const item of node.randomNext) {
            acc += item.weight;
            if (r <= acc) {
                nextId = item.next;
                break;
            }
        }
        
        if (nextId) {
             state.currentNodeId = nextId;
             saveState(ctx.player.userId, state);
             processNode(ctx, msg, state); 
        } else {
             seal.replyToSender(ctx, msg, '(: )');
        }
        return; 
    } else if (node.next) {
        output += \`\\n( .\${CMD_NAME} \${SC_NEXT} )\`;
    } else {
        output += '\\n()';
        state.isEnded = true;
        saveState(ctx.player.userId, state);
    }

    if (output.trim()) {
        seal.replyToSender(ctx, msg, output);
    }
  }

  ext.cmdMap[CMD_NAME] = cmd;
}

main();
`,HE=(e,t,n)=>{var O,A,L,V,C,T,I,D,E,k,b,H,F,Y,W,te,J,ne,z,re;const r={};let o=null;e.forEach(X=>{X.data.isStart&&(o=X.id);const Q={type:X.type,text:X.data.text};if(X.data.savePointId&&(Q.savePointId=X.data.savePointId),X.data.actions?Q.script=Lf(X.data.actions):X.data.script&&(Q.script=X.data.script),X.type==="choice"){const K=[],G=t.filter(ue=>ue.source===X.id),ie=X.data.choices;ie&&ie.forEach(ue=>{const se=G.find(ve=>ve.sourceHandle===ue.id);if(se){const ve={text:ue.text,next:se.target};ue.actions&&ue.actions.length>0&&(ve.script=Lf(ue.actions)),K.push(ve)}}),Q.choices=K}else if(X.type==="condition")if(X.data.conditionMode==="check"){Q.type="check",Q.checkTarget=X.data.checkTarget,Q.checkDice=X.data.checkDice;const K=t.find(se=>se.source===X.id&&se.sourceHandle==="success"),G=t.find(se=>se.source===X.id&&se.sourceHandle==="failure"),ie=t.find(se=>se.source===X.id&&se.sourceHandle==="great_success"),ue=t.find(se=>se.source===X.id&&se.sourceHandle==="great_failure");Q.nextSuccess=K==null?void 0:K.target,Q.nextFailure=G==null?void 0:G.target,Q.nextGreatSuccess=ie==null?void 0:ie.target,Q.nextGreatFailure=ue==null?void 0:ue.target}else{X.data.conditions?Q.condition=zE(X.data.conditions,X.data.conditionLogic||"AND"):Q.condition=X.data.condition||"true";const K=t.find(ie=>ie.source===X.id&&ie.sourceHandle==="true"),G=t.find(ie=>ie.source===X.id&&ie.sourceHandle==="false");Q.nextTrue=K==null?void 0:K.target,Q.nextFalse=G==null?void 0:G.target}else{const K=t.filter(G=>G.source===X.id);K.length>1?(Q.randomNext=K.map(G=>{var ie;return{next:G.target,weight:Number((ie=G.data)==null?void 0:ie.weight)||1}}),Q.totalWeight=Q.randomNext.reduce((G,ie)=>G+ie.weight,0)):K.length===1?Q.next=K[0].target:Q.isEnd=!0}r[X.id]=Q}),!o&&e.length>0&&(o=e[0].id);const i={startNodeId:o,nodes:r},s=OE.replace(/__PLUGIN_NAME__/g,n.pluginName).replace(/__AUTHOR__/g,n.author).replace(/__VERSION__/g,n.version).replace(/__DESCRIPTION__/g,n.description||"").replace(/__HOMEPAGE__/g,n.homepage||"").replace(/__TIMESTAMP__/g,Math.floor(Date.now()/1e3).toString()),l=n.subCommands||{},a=((O=l.start)==null?void 0:O.name)||"start",u=((A=l.next)==null?void 0:A.name)||"next",f=((L=l.choose)==null?void 0:L.name)||"choose",c=((V=l.stat)==null?void 0:V.name)||"stat",d=((C=l.load)==null?void 0:C.name)||"load",x=((T=l.reset)==null?void 0:T.name)||"reset",g=((I=l.clear)==null?void 0:I.name)||"clear",w=((D=l.start)==null?void 0:D.help)||"",_=((E=l.next)==null?void 0:E.help)||"",m=((k=l.choose)==null?void 0:k.help)||"",y=((b=l.stat)==null?void 0:b.help)||"",h=((H=l.load)==null?void 0:H.help)||"",v=((F=l.reset)==null?void 0:F.help)||"",N=((Y=l.clear)==null?void 0:Y.help)||"",S=`\${ext.name} Story:\\n.\${CMD_NAME} ${a} - ${w}\\n.\${CMD_NAME} ${u} - ${_}\\n.\${CMD_NAME} ${f} <index> - ${m}\\n.\${CMD_NAME} ${c} - ${y}\\n.\${CMD_NAME} ${d} <id> - ${h}\\n.\${CMD_NAME} ${x} - ${v}\\n.\${CMD_NAME} ${g} - ${N}`,M=s+FE.replace(/__PLUGIN_NAME__/g,n.pluginName).replace(/__COMMAND_NAME__/g,n.commandName).replace("__COMMAND_HELP__",S).replace(/__SC_START__/g,a).replace(/__SC_NEXT__/g,u).replace(/__SC_CHOOSE__/g,f).replace(/__SC_STAT__/g,c).replace(/__SC_LOAD__/g,d).replace(/__SC_RESET__/g,x).replace(/__SC_CLEAR__/g,g).replace(/__VERSION__/g,n.version).replace(/__AUTHOR__/g,n.author).replace("__STORY_DATA_PLACEHOLDER__",JSON.stringify(i,null,2)).replace("__CRITICAL_SUCCESS__",(((W=n.diceRules)==null?void 0:W.criticalSuccess)??5).toString()).replace("__CRITICAL_FAILURE__",(((te=n.diceRules)==null?void 0:te.criticalFailure)??96).toString()).replace("__SUCCESS_MODE__",((J=n.diceRules)==null?void 0:J.successMode)||"lte").replace("__CRITICAL_SUCCESS_MODE__",((ne=n.diceRules)==null?void 0:ne.criticalSuccessMode)||"lte").replace("__CRITICAL_FAILURE_MODE__",((z=n.diceRules)==null?void 0:z.criticalFailureMode)||"gte").replace("__DEFAULT_DICE__",((re=n.diceRules)==null?void 0:re.defaultDice)||"1d100"),j=n.filename?n.filename.endsWith(".js")?n.filename:`${n.filename}.js`:`${n.pluginName.toLowerCase()}.js`,$=new Blob([M],{type:"text/javascript;charset=utf-8"});DE.saveAs($,j)},VE=["start","next","choose","stat","load","reset","clear"],BE={story:PE,choice:$E,condition:RE},UE=[{id:"start",type:"story",position:{x:250,y:100},data:{label:"",text:"...",isStart:!0}}],WE={pluginName:"MyStory",commandName:"story",version:"1.0.0",author:"Author"};function YE(){var re,X,Q,K,G,ie,ue,se,ve,pt,lt,Mt,Zt;const[e,t,n]=FN(UE),[r,o,i]=HN([]),[s,l]=R.useState(null),[a,u]=R.useState(null),[f,c]=R.useState(!1),[d,x]=R.useState(!1),[g,w]=R.useState(WE),_=(()=>{var Xo,Go,Qo,Ko,Zo,qo,Jo,ei,ti,ni,ri,oi,ii,si;const P=g.subCommands||{},B=((Xo=P.start)==null?void 0:Xo.name)||"start",ee=((Go=P.next)==null?void 0:Go.name)||"next",oe=((Qo=P.choose)==null?void 0:Qo.name)||"choose",le=((Ko=P.stat)==null?void 0:Ko.name)||"stat",ce=((Zo=P.load)==null?void 0:Zo.name)||"load",ae=((qo=P.reset)==null?void 0:qo.name)||"reset",he=((Jo=P.clear)==null?void 0:Jo.name)||"clear",Nn=((ei=P.start)==null?void 0:ei.help)||"",sl=((ti=P.next)==null?void 0:ti.help)||"",ll=((ni=P.choose)==null?void 0:ni.help)||"",al=((ri=P.stat)==null?void 0:ri.help)||"",ul=((oi=P.load)==null?void 0:oi.help)||"",cl=((ii=P.reset)==null?void 0:ii.help)||"",dl=((si=P.clear)==null?void 0:si.help)||"";return`${g.pluginName} Story:
.${g.commandName} ${B} - ${Nn}
.${g.commandName} ${ee} - ${sl}
.${g.commandName} ${oe} <index> - ${ll}
.${g.commandName} ${le} - ${al}
.${g.commandName} ${ce} <id> - ${ul}
.${g.commandName} ${ae} - ${cl}
.${g.commandName} ${he} - ${dl}`})(),[m,y]=R.useState([]),[h,v]=R.useState(-1),N=R.useRef(!1);R.useEffect(()=>{if(N.current){N.current=!1;return}},[e,r]);const S=R.useCallback(()=>{y(P=>{const B=P.slice(0,h+1);return B.push({nodes:JSON.parse(JSON.stringify(e)),edges:JSON.parse(JSON.stringify(r))}),B}),v(P=>P+1)},[e,r,h]);R.useEffect(()=>{m.length===0&&e.length>0&&(y([{nodes:e,edges:r}]),v(0))},[]);const M=()=>{if(h>0){N.current=!0;const P=m[h-1];t(P.nodes),o(P.edges),v(h-1)}},j=()=>{if(h<m.length-1){N.current=!0;const P=m[h+1];t(P.nodes),o(P.edges),v(h+1)}},$=()=>{x(!1),localStorage.setItem("blackfish_has_seen_guide","true")},O=R.useCallback(P=>{S(),o(B=>Bm(P,B))},[o,S]),A=R.useCallback((P,B)=>{l(B.id),u(null)},[]),L=R.useCallback((P,B)=>{u(B.id),l(null)},[]),V=R.useCallback(()=>{l(null),u(null)},[]),C=P=>{S();const B=`${P}_${Date.now()}`;let ee={};P==="story"?ee={label:"",text:"..."}:P==="choice"?ee={label:"",text:"...",choices:[{id:"opt1",text:" 1"}]}:ee={label:"",condition:"state.stats.affection >= 10"};const oe={id:B,type:P,position:{x:Math.random()*400+100,y:Math.random()*400+100},data:ee};t(le=>le.concat(oe))},T=(P,B)=>{t(ee=>ee.map(oe=>oe.id===P?{...oe,data:{...oe.data,...B}}:oe))},I=(P,B)=>{S(),T(P,B)},D=()=>{HE(e,r,g)},E=()=>{const P={nodes:e,edges:r,settings:g},B=new Blob([JSON.stringify(P,null,2)],{type:"application/json"}),ee=document.createElement("a");ee.href=URL.createObjectURL(B),ee.download=`${g.pluginName.toLowerCase()}-project.json`,ee.click()},k=R.useRef(null),b=P=>{var oe;const B=(oe=P.target.files)==null?void 0:oe[0];if(!B)return;const ee=new FileReader;ee.onload=le=>{var ce;try{const ae=(ce=le.target)==null?void 0:ce.result,he=JSON.parse(ae);he.nodes&&he.edges?(t(he.nodes),o(he.edges),he.settings&&w(he.settings)):alert("")}catch{alert("")}},ee.readAsText(B),k.current&&(k.current.value="")},H=async()=>{try{const P=new URL("example_complex.json",window.location.href).toString(),B=await fetch(P);if(!B.ok)throw new Error(`HTTP ${B.status}`);if(!(B.headers.get("content-type")||"").includes("application/json"))throw new Error(" JSON");const oe=await B.json();S(),t(oe.nodes),o(oe.edges),w(oe.settings)}catch(P){alert(": "+((P==null?void 0:P.message)??String(P)))}},F=P=>{S();const B=e.find(oe=>oe.id===P);if(!B)return;const ee=[...B.data.actions||[]];ee.push({type:"stat",target:"money",operation:"+",value:0}),T(P,{actions:ee})},Y=(P,B,ee,oe)=>{const le=e.find(ae=>ae.id===P);if(!le)return;const ce=[...le.data.actions||[]];ce[B]={...ce[B],[ee]:oe},T(P,{actions:ce})},W=(P,B)=>{S();const ee=e.find(le=>le.id===P);if(!ee)return;const oe=(ee.data.actions||[]).filter((le,ce)=>ce!==B);T(P,{actions:oe})},te=P=>{S();const B=e.find(oe=>oe.id===P);if(!B)return;const ee=[...B.data.conditions||[]];ee.push({type:"stat",target:"money",operation:">=",value:0}),T(P,{conditions:ee})},J=(P,B,ee,oe)=>{const le=e.find(ae=>ae.id===P);if(!le)return;const ce=[...le.data.conditions||[]];ce[B]={...ce[B],[ee]:oe},T(P,{conditions:ce})},ne=(P,B)=>{S();const ee=e.find(le=>le.id===P);if(!ee)return;const oe=(ee.data.conditions||[]).filter((le,ce)=>ce!==B);T(P,{conditions:oe})},z=e.find(P=>P.id===s);return p.jsxs("div",{className:"flex w-full h-full",children:[p.jsxs("div",{className:"flex-1 h-full relative",children:[p.jsxs(ON,{nodes:e,edges:r,onNodesChange:n,onEdgesChange:i,onConnect:O,onNodeClick:A,onEdgeClick:L,onPaneClick:V,nodeTypes:BE,fitView:!0,panOnScroll:!1,panOnDrag:!0,zoomOnPinch:!0,proOptions:{hideAttribution:!0},defaultEdgeOptions:{markerEnd:{type:"arrowclosed"}},children:[p.jsx(JN,{}),p.jsx(fE,{}),p.jsx(YN,{gap:12,size:1}),p.jsxs(Pr,{position:"top-left",className:"bg-white p-1 md:p-2 rounded shadow flex gap-1 md:gap-2 flex-wrap max-w-[calc(100vw-20px)] md:max-w-[500px] overflow-x-auto no-scrollbar items-center",children:[p.jsxs("button",{className:"flex items-center gap-1 px-2 py-1 bg-blue-600 text-white rounded hover:bg-blue-700 text-xs md:text-sm whitespace-nowrap",onClick:()=>C("story"),children:[p.jsx($f,{size:14,className:"md:w-4 md:h-4"})," "]}),p.jsxs("button",{className:"flex items-center gap-1 px-2 py-1 bg-purple-600 text-white rounded hover:bg-purple-700 text-xs md:text-sm whitespace-nowrap",onClick:()=>C("choice"),children:[p.jsx($f,{size:14,className:"md:w-4 md:h-4"})," "]}),p.jsxs("button",{className:"flex items-center gap-1 px-2 py-1 bg-orange-600 text-white rounded hover:bg-orange-700 text-xs md:text-sm whitespace-nowrap",onClick:()=>C("condition"),children:[p.jsx(xE,{size:14,className:"md:w-4 md:h-4"})," "]}),p.jsx("div",{className:"w-px h-6 bg-gray-300 mx-1 flex-shrink-0"}),!e.find(P=>P.data.isStart)&&p.jsxs("button",{className:"flex items-center gap-1 px-2 py-1 bg-green-600 text-white rounded hover:bg-green-700 text-xs md:text-sm whitespace-nowrap",onClick:()=>{S(),t(P=>P.concat({id:`start_${Date.now()}`,type:"story",position:{x:250,y:100},data:{label:"",text:"...",isStart:!0}}))},children:[p.jsx(NE,{size:14,className:"md:w-4 md:h-4"})," "]}),p.jsxs("button",{className:"flex items-center gap-1 px-2 py-1 bg-red-100 text-red-600 rounded hover:bg-red-200 text-xs md:text-sm whitespace-nowrap",onClick:()=>{confirm("")&&(S(),t([]),o([]))},children:[p.jsx(ME,{size:14,className:"md:w-4 md:h-4"})," ",p.jsx("span",{className:"hidden md:inline",children:""})]}),p.jsx("div",{className:"w-px h-6 bg-gray-300 mx-1 flex-shrink-0"}),p.jsxs("button",{className:"flex items-center gap-1 px-2 py-1 bg-gray-700 text-white rounded hover:bg-gray-800 text-xs md:text-sm whitespace-nowrap",onClick:()=>c(!0),children:[p.jsx(kE,{size:14,className:"md:w-4 md:h-4"})," "]})]}),p.jsxs(Pr,{position:"top-right",className:"bg-white p-1 md:p-2 rounded shadow flex gap-1 md:gap-2 flex-wrap justify-end max-w-[calc(100vw-20px)] md:max-w-none overflow-x-auto no-scrollbar items-center",children:[p.jsx("button",{className:`flex items-center gap-1 px-2 py-1 rounded text-xs md:text-sm flex-shrink-0 ${h>0?"bg-gray-600 text-white hover:bg-gray-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,onClick:M,disabled:h<=0,children:p.jsx(jE,{size:14,className:"md:w-4 md:h-4"})}),p.jsx("button",{className:`flex items-center gap-1 px-2 py-1 rounded text-xs md:text-sm flex-shrink-0 ${h<m.length-1?"bg-gray-600 text-white hover:bg-gray-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,onClick:j,disabled:h>=m.length-1,children:p.jsx(EE,{size:14,className:"md:w-4 md:h-4"})}),p.jsx("div",{className:"w-px h-6 bg-gray-300 mx-1 flex-shrink-0"}),p.jsxs("button",{className:"flex items-center gap-1 px-2 py-1 bg-gray-500 text-white rounded hover:bg-gray-600 text-xs md:text-sm whitespace-nowrap",onClick:()=>x(!0),children:[p.jsx(vE,{size:14,className:"md:w-4 md:h-4"})," ",p.jsx("span",{className:"hidden md:inline",children:""})]}),p.jsx("div",{className:"w-px h-6 bg-gray-300 mx-1 flex-shrink-0"}),p.jsxs("button",{className:"flex items-center gap-1 px-2 py-1 bg-gray-600 text-white rounded hover:bg-gray-700 text-xs md:text-sm whitespace-nowrap",onClick:E,children:[p.jsx(CE,{size:14,className:"md:w-4 md:h-4"})," ",p.jsx("span",{className:"hidden md:inline",children:""})]}),p.jsxs("button",{className:"flex items-center gap-1 px-2 py-1 bg-gray-600 text-white rounded hover:bg-gray-700 text-xs md:text-sm whitespace-nowrap",onClick:()=>{var P;return(P=k.current)==null?void 0:P.click()},children:[p.jsx(bf,{size:14,className:"md:w-4 md:h-4"})," ",p.jsx("span",{className:"hidden md:inline",children:""})]}),p.jsxs("button",{className:"flex items-center gap-1 px-2 py-1 bg-indigo-600 text-white rounded hover:bg-indigo-700 text-xs md:text-sm whitespace-nowrap",onClick:H,children:[p.jsx(bf,{size:14,className:"md:w-4 md:h-4"})," ",p.jsx("span",{className:"hidden md:inline",children:""})]}),p.jsx("input",{type:"file",ref:k,className:"hidden",accept:".json",onChange:b}),p.jsx("div",{className:"w-px h-6 bg-gray-300 mx-1 flex-shrink-0"}),p.jsxs("button",{className:"flex items-center gap-1 px-2 py-1 bg-green-600 text-white rounded hover:bg-green-700 text-xs md:text-sm whitespace-nowrap",onClick:D,children:[p.jsx(_E,{size:14,className:"md:w-4 md:h-4"})," "]})]})]}),d&&p.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-[60] p-4",children:p.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[p.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-800",children:" "}),p.jsxs("div",{className:"space-y-4 text-sm text-gray-600",children:[p.jsx("p",{children:" SealDice "}),p.jsx("h3",{className:"font-bold text-gray-800 mt-4",children:""}),p.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[p.jsxs("li",{children:[p.jsx("strong",{children:""}),"/"]}),p.jsxs("li",{children:[p.jsx("strong",{children:""}),""]}),p.jsxs("li",{children:[p.jsx("strong",{children:""}),"/"]}),p.jsxs("li",{children:[p.jsx("strong",{children:""}),"Handle"]})]}),p.jsx("h3",{className:"font-bold text-gray-800 mt-4",children:""}),p.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[p.jsx("li",{children:""}),p.jsx("li",{children:""}),p.jsx("li",{children:"/"})]})]}),p.jsx("div",{className:"mt-8 flex justify-end",children:p.jsx("button",{className:"px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 shadow-md",onClick:$,children:""})})]})}),f&&p.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:p.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[p.jsxs("div",{className:"flex justify-between items-center mb-6 border-b pb-2",children:[p.jsx("h2",{className:"text-xl font-bold text-gray-800",children:""}),p.jsx("button",{onClick:()=>c(!1),className:"text-gray-500 hover:text-gray-700",children:""})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),p.jsx("input",{type:"text",className:"w-full border rounded p-2 focus:ring-2 focus:ring-blue-500 outline-none transition-all",value:g.pluginName,onChange:P=>w({...g,pluginName:P.target.value})})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),p.jsxs("div",{className:"relative",children:[p.jsx("span",{className:"absolute left-2 top-2 text-gray-400",children:"."}),p.jsx("input",{type:"text",className:"w-full border rounded p-2 pl-4 focus:ring-2 focus:ring-blue-500 outline-none transition-all",placeholder:": story",value:g.commandName,onChange:P=>w({...g,commandName:P.target.value})})]})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" (Help)"}),p.jsx("textarea",{className:"w-full border rounded p-2 focus:ring-2 focus:ring-blue-500 outline-none transition-all h-20 text-xs font-mono",value:_,readOnly:!0})]}),p.jsxs("div",{className:"bg-gray-50 p-3 rounded border border-gray-100",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" (Subcommands)"}),p.jsx("div",{className:"grid grid-cols-1 gap-2",children:VE.map(P=>{var B,ee,oe,le;return p.jsxs("div",{className:"flex gap-2 items-center text-xs",children:[p.jsx("span",{className:"w-12 font-mono font-bold text-gray-600",children:P}),p.jsx("input",{type:"text",className:"border rounded p-1 w-20",placeholder:"",value:((ee=(B=g.subCommands)==null?void 0:B[P])==null?void 0:ee.name)??"",onChange:ce=>{w(ae=>{var he;return{...ae,subCommands:{...ae.subCommands??{},[P]:{...((he=ae.subCommands)==null?void 0:he[P])??{},name:ce.target.value}}}})}}),p.jsx("input",{type:"text",className:"border rounded p-1 flex-1",placeholder:" (Help)",value:((le=(oe=g.subCommands)==null?void 0:oe[P])==null?void 0:le.help)??"",onChange:ce=>{w(ae=>{var he;return{...ae,subCommands:{...ae.subCommands??{},[P]:{...((he=ae.subCommands)==null?void 0:he[P])??{},help:ce.target.value}}}})}})]},P)})})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),p.jsx("input",{type:"text",className:"w-full border rounded p-2 focus:ring-2 focus:ring-blue-500 outline-none transition-all",value:g.version,onChange:P=>w({...g,version:P.target.value})})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),p.jsx("input",{type:"text",className:"w-full border rounded p-2 focus:ring-2 focus:ring-blue-500 outline-none transition-all",value:g.author,onChange:P=>w({...g,author:P.target.value})})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" (Description)"}),p.jsx("textarea",{className:"w-full border rounded p-2 focus:ring-2 focus:ring-blue-500 outline-none transition-all h-20",placeholder:"...",value:g.description||"",onChange:P=>w({...g,description:P.target.value})})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" URL (Homepage)"}),p.jsx("input",{type:"text",className:"w-full border rounded p-2 focus:ring-2 focus:ring-blue-500 outline-none transition-all",placeholder:"https://github.com/...",value:g.homepage||"",onChange:P=>w({...g,homepage:P.target.value})})]}),p.jsxs("div",{className:"bg-gray-50 p-3 rounded border border-gray-100",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" (Dice Rules)"}),p.jsxs("div",{className:"mb-2",children:[p.jsx("label",{className:"text-xs text-gray-600 block mb-1",children:" (Default Dice)"}),p.jsx("input",{type:"text",className:"w-full border rounded p-1 text-sm",placeholder:"1d100",value:((re=g.diceRules)==null?void 0:re.defaultDice)||"1d100",onChange:P=>w({...g,diceRules:{...g.diceRules,defaultDice:P.target.value}})})]}),p.jsxs("div",{className:"mb-2",children:[p.jsx("label",{className:"text-xs text-gray-600 block mb-1",children:""}),p.jsxs("select",{className:"w-full border rounded p-1 text-sm",value:((X=g.diceRules)==null?void 0:X.successMode)||"lte",onChange:P=>w({...g,diceRules:{...g.diceRules,successMode:P.target.value}}),children:[p.jsx("option",{value:"lte",children:"   (CoC Like)"}),p.jsx("option",{value:"gte",children:"   (D&D Like)"})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[p.jsxs("div",{children:[p.jsx("span",{className:"text-xs text-green-600 block",children:""}),p.jsxs("div",{className:"flex gap-1",children:[p.jsxs("select",{className:"border rounded text-xs w-10",value:((Q=g.diceRules)==null?void 0:Q.criticalSuccessMode)||(((K=g.diceRules)==null?void 0:K.successMode)==="gte"?"gte":"lte"),onChange:P=>w({...g,diceRules:{...g.diceRules,criticalSuccessMode:P.target.value}}),children:[p.jsx("option",{value:"lte",children:""}),p.jsx("option",{value:"gte",children:""})]}),p.jsx("input",{type:"number",className:"w-full border rounded p-1 text-sm",value:((G=g.diceRules)==null?void 0:G.criticalSuccess)??5,onChange:P=>w({...g,diceRules:{...g.diceRules,criticalSuccess:parseInt(P.target.value)||1}})})]})]}),p.jsxs("div",{children:[p.jsx("span",{className:"text-xs text-red-600 block",children:""}),p.jsxs("div",{className:"flex gap-1",children:[p.jsxs("select",{className:"border rounded text-xs w-10",value:((ie=g.diceRules)==null?void 0:ie.criticalFailureMode)||(((ue=g.diceRules)==null?void 0:ue.successMode)==="gte"?"lte":"gte"),onChange:P=>w({...g,diceRules:{...g.diceRules,criticalFailureMode:P.target.value}}),children:[p.jsx("option",{value:"lte",children:""}),p.jsx("option",{value:"gte",children:""})]}),p.jsx("input",{type:"number",className:"w-full border rounded p-1 text-sm",value:((se=g.diceRules)==null?void 0:se.criticalFailure)??96,onChange:P=>w({...g,diceRules:{...g.diceRules,criticalFailure:parseInt(P.target.value)||100}})})]})]})]})]}),p.jsxs("div",{className:"bg-gray-50 p-3 rounded border border-gray-100",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"text-sm text-gray-500",children:":"}),p.jsx("input",{type:"text",className:"flex-1 border rounded p-2 text-sm focus:ring-2 focus:ring-blue-500 outline-none",placeholder:g.pluginName,value:g.filename||"",onChange:P=>w({...g,filename:P.target.value})}),p.jsx("span",{className:"text-gray-400 text-sm font-mono",children:".js"})]})]})]}),p.jsxs("div",{className:"mt-8 flex justify-end gap-3",children:[p.jsx("button",{className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded transition-colors",onClick:()=>c(!1),children:""}),p.jsx("button",{className:"px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 shadow-md transition-all transform active:scale-95",onClick:()=>c(!1),children:""})]})]})})]}),a&&!s&&p.jsxs("div",{className:"absolute top-20 left-1/2 transform -translate-x-1/2 bg-white p-2 rounded shadow border border-red-200 z-10 flex flex-col gap-2 min-w-[200px]",children:[p.jsx("div",{className:"flex justify-between items-center border-b pb-1",children:p.jsx("span",{className:"text-xs text-gray-600 font-bold",children:""})}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("label",{className:"text-xs text-gray-600 whitespace-nowrap",children:" (Weight):"}),p.jsx("input",{type:"number",className:"border rounded text-xs p-1 w-16",min:"1",value:((pt=(ve=r.find(P=>P.id===a))==null?void 0:ve.data)==null?void 0:pt.weight)||1,onChange:P=>{const B=parseInt(P.target.value)||1;o(ee=>ee.map(oe=>oe.id===a?{...oe,data:{...oe.data,weight:B}}:oe))}})]}),p.jsx("div",{className:"text-[10px] text-gray-400",children:""}),p.jsx("button",{className:"px-2 py-1 bg-red-500 text-white rounded text-xs hover:bg-red-600 w-full mt-1",onClick:()=>{o(P=>P.filter(B=>B.id!==a)),u(null)},children:""})]}),z&&p.jsxs("div",{className:"fixed inset-0 md:static md:w-80 md:inset-auto z-50 md:z-auto bg-white md:bg-gray-50 border-t md:border-l md:border-t-0 border-gray-200 p-4 overflow-y-auto h-[60vh] md:h-full mt-auto md:mt-0 shadow-2xl md:shadow-none rounded-t-2xl md:rounded-none transition-transform duration-300 ease-in-out transform translate-y-0",children:[p.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p.jsx("h2",{className:"font-bold text-lg",children:""}),p.jsx("button",{className:"md:hidden p-2 text-gray-500 hover:text-gray-700 bg-gray-100 rounded-full",onClick:()=>l(null),children:""})]}),p.jsxs("div",{className:"mb-4",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" ()"}),p.jsx("input",{type:"text",className:"w-full border rounded p-2 text-sm",value:z.data.label,onChange:P=>T(z.id,{label:P.target.value})})]}),p.jsxs("div",{className:"mb-4",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" ID (Save Point)"}),p.jsx("input",{type:"text",className:"w-full border rounded p-2 text-sm",placeholder:": chapter1_end",value:z.data.savePointId||"",onChange:P=>T(z.id,{savePointId:P.target.value})}),p.jsx("p",{className:"text-xs text-gray-500 mt-1",children:" load "})]}),z.type!=="condition"&&p.jsxs("div",{className:"mb-4",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),p.jsx("textarea",{className:"w-full border rounded p-2 text-sm h-32 font-sans",value:z.data.text,onChange:P=>T(z.id,{text:P.target.value}),placeholder:"..."})]}),p.jsxs("div",{className:"mb-4",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" ()"}),p.jsxs("div",{className:"flex flex-col gap-2",children:[(lt=z.data.actions)==null?void 0:lt.map((P,B)=>p.jsxs("div",{className:"bg-blue-50 p-2 rounded border border-blue-100 flex flex-col gap-1",children:[p.jsxs("div",{className:"flex gap-2",children:[p.jsxs("select",{className:"border rounded text-xs p-1",value:P.type,onChange:ee=>Y(z.id,B,"type",ee.target.value),children:[p.jsx("option",{value:"stat",children:"(Stat)"}),p.jsx("option",{value:"item",children:"(Item)"})]}),p.jsx("input",{type:"text",className:"border rounded text-xs p-1 flex-1",placeholder:P.type==="stat"?" ( hp)":"",value:P.target,onChange:ee=>Y(z.id,B,"target",ee.target.value)}),p.jsx("button",{className:"text-red-500 font-bold",onClick:()=>W(z.id,B),children:""})]}),p.jsxs("div",{className:"flex gap-2 items-center",children:[p.jsx("select",{className:"border rounded text-xs p-1",value:P.operation,onChange:ee=>Y(z.id,B,"operation",ee.target.value),children:P.type==="stat"?p.jsxs(p.Fragment,{children:[p.jsx("option",{value:"+",children:" (+)"}),p.jsx("option",{value:"-",children:" (-)"}),p.jsx("option",{value:"=",children:" (=)"})]}):p.jsxs(p.Fragment,{children:[p.jsx("option",{value:"+",children:""}),p.jsx("option",{value:"-",children:""})]})}),P.type==="stat"?p.jsx("input",{type:"text",className:"border rounded text-xs p-1 w-20",placeholder:"",value:P.value,onChange:ee=>Y(z.id,B,"value",ee.target.value)}):p.jsx("input",{type:"text",className:"border rounded text-xs p-1 w-12",placeholder:"",value:P.value||1,onChange:ee=>Y(z.id,B,"value",ee.target.value)})]})]},B)),p.jsx("button",{className:"mt-1 text-sm text-blue-600 hover:underline text-left",onClick:()=>F(z.id),children:"+ "})]}),p.jsxs("details",{className:"mt-2",children:[p.jsx("summary",{className:"text-xs text-gray-500 cursor-pointer",children:""}),p.jsx("textarea",{className:"w-full border rounded p-2 text-sm font-mono h-20 bg-gray-900 text-green-400 mt-1",placeholder:"state.stats.affection += 1;",value:z.data.script||"",onChange:P=>I(z.id,{script:P.target.value})})]})]}),z.type==="condition"&&p.jsxs("div",{className:"mb-4",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),p.jsxs("div",{className:"flex gap-2 mb-2 bg-gray-100 p-1 rounded",children:[p.jsx("button",{className:`flex-1 text-xs py-1 rounded ${!z.data.conditionMode||z.data.conditionMode==="logic"?"bg-white shadow":"text-gray-500"}`,onClick:()=>I(z.id,{conditionMode:"logic"}),children:""}),p.jsx("button",{className:`flex-1 text-xs py-1 rounded ${z.data.conditionMode==="check"?"bg-white shadow":"text-gray-500"}`,onClick:()=>I(z.id,{conditionMode:"check"}),children:""})]}),z.data.conditionMode==="check"?p.jsxs("div",{className:"space-y-3 bg-purple-50 p-3 rounded border border-purple-100",children:[p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-bold text-purple-700 block mb-1",children:" (Target)"}),p.jsx("input",{type:"text",className:"w-full border rounded text-sm p-1",placeholder:" ( str)   (50)",value:z.data.checkTarget||"",onChange:P=>I(z.id,{checkTarget:P.target.value})})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-bold text-purple-700 block mb-1",children:" (Dice)"}),p.jsx("input",{type:"text",className:"w-full border rounded text-sm p-1",placeholder:" 1d100",value:z.data.checkDice||"",onChange:P=>I(z.id,{checkDice:P.target.value})})]}),p.jsx("div",{className:"text-[10px] text-gray-500",children:"/"})]}):p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"mb-2",children:[p.jsx("span",{className:"text-xs text-gray-600 mr-2",children:":"}),p.jsxs("select",{className:"border rounded text-xs p-1",value:z.data.conditionLogic||"AND",onChange:P=>I(z.id,{conditionLogic:P.target.value}),children:[p.jsx("option",{value:"AND",children:" (AND) - "}),p.jsx("option",{value:"OR",children:" (OR) - "})]})]}),p.jsxs("div",{className:"flex flex-col gap-2",children:[(Mt=z.data.conditions)==null?void 0:Mt.map((P,B)=>p.jsxs("div",{className:"bg-orange-50 p-2 rounded border border-orange-100 flex flex-col gap-1",children:[p.jsxs("div",{className:"flex gap-2",children:[p.jsxs("select",{className:"border rounded text-xs p-1",value:P.type,onChange:ee=>J(z.id,B,"type",ee.target.value),children:[p.jsx("option",{value:"stat",children:""}),p.jsx("option",{value:"has_item",children:""})]}),p.jsx("input",{type:"text",className:"border rounded text-xs p-1 flex-1",placeholder:P.type==="has_item"?"":" ( hp)",value:P.target,onChange:ee=>J(z.id,B,"target",ee.target.value)}),p.jsx("button",{className:"text-red-500 font-bold",onClick:()=>ne(z.id,B),children:""})]}),P.type!=="has_item"&&p.jsxs("div",{className:"flex gap-2 items-center",children:[p.jsxs("select",{className:"border rounded text-xs p-1",value:P.operation,onChange:ee=>J(z.id,B,"operation",ee.target.value),children:[p.jsx("option",{value:">=",children:" ()"}),p.jsx("option",{value:"<=",children:" ()"}),p.jsx("option",{value:">",children:" (>)"}),p.jsx("option",{value:"<",children:" (<)"}),p.jsx("option",{value:"=",children:" (=)"})]}),p.jsx("input",{type:"text",className:"border rounded text-xs p-1 w-20",placeholder:"",value:P.value,onChange:ee=>J(z.id,B,"value",ee.target.value)})]})]},B)),p.jsx("button",{className:"mt-1 text-sm text-orange-600 hover:underline text-left",onClick:()=>te(z.id),children:"+ "})]})]}),p.jsxs("details",{className:"mt-2",children:[p.jsx("summary",{className:"text-xs text-gray-500 cursor-pointer",children:""}),p.jsx("textarea",{className:"w-full border rounded p-2 text-sm font-mono h-20 bg-orange-50 text-gray-800 border-orange-200 mt-1",placeholder:"state.stats.affection >= 10",value:z.data.condition||"",onChange:P=>I(z.id,{condition:P.target.value})})]})]}),z.type==="choice"&&p.jsxs("div",{className:"mb-4",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),p.jsxs("div",{className:"flex flex-col gap-2",children:[(Zt=z.data.choices)==null?void 0:Zt.map((P,B)=>{var ee;return p.jsxs("div",{className:"flex flex-col gap-1 p-2 border rounded bg-white",children:[p.jsxs("div",{className:"flex gap-2 items-center",children:[p.jsxs("span",{className:"text-xs text-gray-400 font-mono",children:["#",B+1]}),p.jsx("input",{type:"text",className:"flex-1 border rounded p-1 text-sm",value:P.text,onChange:oe=>{const le=[...z.data.choices];le[B]={...P,text:oe.target.value},T(z.id,{choices:le})}}),p.jsx("button",{className:"text-red-500 hover:text-red-700 font-bold px-2",onClick:()=>{S();const oe=z.data.choices.filter(le=>le.id!==P.id);T(z.id,{choices:oe})},children:""})]}),p.jsxs("div",{className:"pl-4 border-l-2 border-purple-100 mt-1",children:[p.jsx("label",{className:"text-[10px] text-gray-500 block mb-1",children:":"}),(ee=P.actions)==null?void 0:ee.map((oe,le)=>p.jsxs("div",{className:"flex gap-1 items-center mb-1 text-xs",children:[p.jsxs("select",{className:"border rounded p-0.5 text-[10px] w-14",value:oe.type,onChange:ce=>{const ae=[...z.data.choices],he=[...ae[B].actions||[]];he[le]={...he[le],type:ce.target.value},ae[B]={...ae[B],actions:he},T(z.id,{choices:ae})},children:[p.jsx("option",{value:"stat",children:""}),p.jsx("option",{value:"item",children:""})]}),p.jsx("input",{className:"border rounded p-0.5 w-16",placeholder:"",value:oe.target,onChange:ce=>{const ae=[...z.data.choices],he=[...ae[B].actions||[]];he[le]={...he[le],target:ce.target.value},ae[B]={...ae[B],actions:he},T(z.id,{choices:ae})}}),p.jsxs("select",{className:"border rounded p-0.5 w-10",value:oe.operation,onChange:ce=>{const ae=[...z.data.choices],he=[...ae[B].actions||[]];he[le]={...he[le],operation:ce.target.value},ae[B]={...ae[B],actions:he},T(z.id,{choices:ae})},children:[p.jsx("option",{value:"+",children:"+"}),p.jsx("option",{value:"-",children:"-"}),p.jsx("option",{value:"=",children:"="})]}),oe.type==="stat"&&p.jsx("input",{className:"border rounded p-0.5 w-10",placeholder:"",value:oe.value,onChange:ce=>{const ae=[...z.data.choices],he=[...ae[B].actions||[]];he[le]={...he[le],value:ce.target.value},ae[B]={...ae[B],actions:he},T(z.id,{choices:ae})}}),p.jsx("button",{className:"text-red-400 hover:text-red-600 px-1",onClick:()=>{S();const ce=[...z.data.choices],ae=(ce[B].actions||[]).filter((he,Nn)=>Nn!==le);ce[B]={...ce[B],actions:ae},T(z.id,{choices:ce})},children:""})]},le)),p.jsx("button",{className:"text-[10px] text-purple-600 hover:underline",onClick:()=>{S();const oe=[...z.data.choices],le=[...oe[B].actions||[]];le.push({type:"stat",target:"money",operation:"+",value:10}),oe[B]={...oe[B],actions:le},T(z.id,{choices:oe})},children:"+ "})]})]},P.id)}),p.jsx("button",{className:"mt-1 text-sm text-blue-600 hover:underline text-left",onClick:()=>{S();const P=[...z.data.choices||[],{id:`opt_${Date.now()}`,text:""}];T(z.id,{choices:P})},children:"+ "})]})]}),p.jsx("div",{className:"pt-4 border-t mt-4",children:p.jsx("button",{className:"w-full py-2 bg-red-100 text-red-600 rounded hover:bg-red-200 text-sm",onClick:()=>{t(P=>P.filter(B=>B.id!==z.id)),l(null)},children:""})})]})]})}function XE(){return p.jsx(zg,{children:p.jsxs("div",{className:"w-full h-full flex flex-col",children:[p.jsxs("header",{className:"h-14 bg-gray-900 text-white flex items-center px-4 justify-between border-b border-gray-700",children:[p.jsx("h1",{className:"text-lg font-bold flex items-center gap-2 text-sm md:text-lg",children:""}),p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"text-sm text-gray-400 hidden md:block",children:""}),p.jsx("a",{href:"https://github.com/baiyu-yu/story-sealdicejs-editor",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white transition-colors",title:"GitHub Repository",children:p.jsx(SE,{size:24})})]})]}),p.jsx("div",{className:"flex-1 overflow-hidden",children:p.jsx(YE,{})})]})})}Ql.createRoot(document.getElementById("root")).render(p.jsx(Xf.StrictMode,{children:p.jsx(XE,{})}));
